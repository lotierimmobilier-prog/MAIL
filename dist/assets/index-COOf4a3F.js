var tM=Object.defineProperty;var rM=(e,t,r)=>t in e?tM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Dm=(e,t,r)=>rM(e,typeof t!="symbol"?t+"":t,r);function nM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ci(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var $k={exports:{}},Vf={},Lk={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),aM=Symbol.for("react.portal"),sM=Symbol.for("react.fragment"),oM=Symbol.for("react.strict_mode"),lM=Symbol.for("react.profiler"),uM=Symbol.for("react.provider"),cM=Symbol.for("react.context"),dM=Symbol.for("react.forward_ref"),fM=Symbol.for("react.suspense"),hM=Symbol.for("react.memo"),mM=Symbol.for("react.lazy"),Xb=Symbol.iterator;function pM(e){return e===null||typeof e!="object"?null:(e=Xb&&e[Xb]||e["@@iterator"],typeof e=="function"?e:null)}var zk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fk=Object.assign,Bk={};function mo(e,t,r){this.props=e,this.context=t,this.refs=Bk,this.updater=r||zk}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uk(){}Uk.prototype=mo.prototype;function c0(e,t,r){this.props=e,this.context=t,this.refs=Bk,this.updater=r||zk}var d0=c0.prototype=new Uk;d0.constructor=c0;Fk(d0,mo.prototype);d0.isPureReactComponent=!0;var Jb=Array.isArray,Wk=Object.prototype.hasOwnProperty,f0={current:null},Hk={key:!0,ref:!0,__self:!0,__source:!0};function qk(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Wk.call(t,n)&&!Hk.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:mu,type:e,key:a,ref:s,props:i,_owner:f0.current}}function vM(e,t){return{$$typeof:mu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h0(e){return typeof e=="object"&&e!==null&&e.$$typeof===mu}function gM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qb=/\/+/g;function Rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gM(""+e.key):t.toString(36)}function Wc(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case mu:case aM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Rm(s,0):n,Jb(i)?(r="",e!=null&&(r=e.replace(Qb,"$&/")+"/"),Wc(i,t,r,"",function(u){return u})):i!=null&&(h0(i)&&(i=vM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Qb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Jb(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Rm(a,o);s+=Wc(a,t,r,l,i)}else if(l=pM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Rm(a,o++),s+=Wc(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ec(e,t,r){if(e==null)return e;var n=[],i=0;return Wc(e,n,"","",function(a){return t.call(r,a,i++)}),n}function yM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Hc={transition:null},xM={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:f0};function Kk(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:ec,forEach:function(e,t,r){ec(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ec(e,function(){t++}),t},toArray:function(e){return ec(e,function(t){return t})||[]},only:function(e){if(!h0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=mo;fe.Fragment=sM;fe.Profiler=lM;fe.PureComponent=c0;fe.StrictMode=oM;fe.Suspense=fM;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xM;fe.act=Kk;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Fk({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=f0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Wk.call(t,l)&&!Hk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:mu,type:e.type,key:i,ref:a,props:n,_owner:s}};fe.createContext=function(e){return e={$$typeof:cM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uM,_context:e},e.Consumer=e};fe.createElement=qk;fe.createFactory=function(e){var t=qk.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:dM,render:e}};fe.isValidElement=h0;fe.lazy=function(e){return{$$typeof:mM,_payload:{_status:-1,_result:e},_init:yM}};fe.memo=function(e,t){return{$$typeof:hM,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};fe.unstable_act=Kk;fe.useCallback=function(e,t){return Jt.current.useCallback(e,t)};fe.useContext=function(e){return Jt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Jt.current.useEffect(e,t)};fe.useId=function(){return Jt.current.useId()};fe.useImperativeHandle=function(e,t,r){return Jt.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Jt.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return Jt.current.useReducer(e,t,r)};fe.useRef=function(e){return Jt.current.useRef(e)};fe.useState=function(e){return Jt.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return Jt.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return Jt.current.useTransition()};fe.version="18.3.1";Lk.exports=fe;var m=Lk.exports;const bM=ci(m),wM=nM({__proto__:null,default:bM},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M=m,jM=Symbol.for("react.element"),SM=Symbol.for("react.fragment"),kM=Object.prototype.hasOwnProperty,EM=_M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PM={key:!0,ref:!0,__self:!0,__source:!0};function Vk(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)kM.call(t,n)&&!PM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:jM,type:e,key:a,ref:s,props:i,_owner:EM.current}}Vf.Fragment=SM;Vf.jsx=Vk;Vf.jsxs=Vk;$k.exports=Vf;var d=$k.exports,Gk={exports:{}},_r={},Yk={exports:{}},Xk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,U){var H=L.length;L.push(U);e:for(;0<H;){var J=H-1>>>1,se=L[J];if(0<i(se,U))L[J]=U,L[H]=se,H=J;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var U=L[0],H=L.pop();if(H!==U){L[0]=H;e:for(var J=0,se=L.length,le=se>>>1;J<le;){var we=2*(J+1)-1,ue=L[we],Ce=we+1,_e=L[Ce];if(0>i(ue,H))Ce<se&&0>i(_e,ue)?(L[J]=_e,L[Ce]=H,J=Ce):(L[J]=ue,L[we]=H,J=we);else if(Ce<se&&0>i(_e,H))L[J]=_e,L[Ce]=H,J=Ce;else break e}}return U}function i(L,U){var H=L.sortIndex-U.sortIndex;return H!==0?H:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=L)n(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(u)}}function _(L){if(g=!1,y(L),!v)if(r(l)!==null)v=!0,G(j);else{var U=r(u);U!==null&&te(_,U.startTime-L)}}function j(L,U){v=!1,g&&(g=!1,b(E),E=-1),p=!0;var H=h;try{for(y(U),f=r(l);f!==null&&(!(f.expirationTime>U)||L&&!M());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var se=J(f.expirationTime<=U);U=e.unstable_now(),typeof se=="function"?f.callback=se:f===r(l)&&n(l),y(U)}else n(l);f=r(l)}if(f!==null)var le=!0;else{var we=r(u);we!==null&&te(_,we.startTime-U),le=!1}return le}finally{f=null,h=H,p=!1}}var S=!1,k=null,E=-1,O=5,C=-1;function M(){return!(e.unstable_now()-C<O)}function P(){if(k!==null){var L=e.unstable_now();C=L;var U=!0;try{U=k(!0,L)}finally{U?A():(S=!1,k=null)}}else S=!1}var A;if(typeof w=="function")A=function(){w(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,W=R.port2;R.port1.onmessage=P,A=function(){W.postMessage(null)}}else A=function(){x(P,0)};function G(L){k=L,S||(S=!0,A())}function te(L,U){E=x(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,G(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return L()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=h;h=L;try{return U()}finally{h=H}},e.unstable_scheduleCallback=function(L,U,H){var J=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,L={id:c++,callback:U,priorityLevel:L,startTime:H,expirationTime:se,sortIndex:-1},H>J?(L.sortIndex=H,t(u,L),r(l)===null&&L===r(u)&&(g?(b(E),E=-1):g=!0,te(_,H-J))):(L.sortIndex=se,t(l,L),v||p||(v=!0,G(j))),L},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(L){var U=h;return function(){var H=h;h=U;try{return L.apply(this,arguments)}finally{h=H}}}})(Xk);Yk.exports=Xk;var OM=Yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=m,br=OM;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jk=new Set,Nl={};function Ga(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Nl[e]=t,e=0;e<t.length;e++)Jk.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,CM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zb={},ew={};function AM(e){return Xp.call(ew,e)?!0:Xp.call(Zb,e)?!1:CM.test(e)?ew[e]=!0:(Zb[e]=!0,!1)}function TM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IM(e,t,r,n){if(t===null||typeof t>"u"||TM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var m0=/[\-:]([a-z])/g;function p0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m0,p0);Ct[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m0,p0);Ct[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m0,p0);Ct[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function v0(e,t,r,n){var i=Ct.hasOwnProperty(t)?Ct[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IM(t,r,i,n)&&(r=null),n||i===null?AM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var di=NM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tc=Symbol.for("react.element"),_s=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),g0=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Zk=Symbol.for("react.context"),y0=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Zp=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),eE=Symbol.for("react.offscreen"),tw=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,$m;function ol(e){if($m===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$m=t&&t[1]||""}return`
`+$m+e}var Lm=!1;function zm(e,t){if(!e||Lm)return"";Lm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Lm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ol(e):""}function MM(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=zm(e.type,!1),e;case 11:return e=zm(e.type.render,!1),e;case 1:return e=zm(e.type,!0),e;default:return""}}function ev(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case _s:return"Portal";case Jp:return"Profiler";case g0:return"StrictMode";case Qp:return"Suspense";case Zp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zk:return(e.displayName||"Context")+".Consumer";case Qk:return(e._context.displayName||"Context")+".Provider";case y0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x0:return t=e.displayName||null,t!==null?t:ev(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return ev(e(t))}catch{}}return null}function DM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ev(t);case 8:return t===g0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RM(e){var t=tE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rc(e){e._valueTracker||(e._valueTracker=RM(e))}function rE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function md(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tv(e,t){var r=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ki(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nE(e,t){t=t.checked,t!=null&&v0(e,"checked",t,!1)}function rv(e,t){nE(e,t);var r=Ki(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nv(e,t.type,r):t.hasOwnProperty("defaultValue")&&nv(e,t.type,Ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nv(e,t,r){(t!=="number"||md(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ll=Array.isArray;function Ls(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ki(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function iv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(ll(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ki(r)}}function iE(e,t){var r=Ki(t.value),n=Ki(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function aw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nc,sE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$M=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){$M.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function oE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function lE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=oE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var LM=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sv(e,t){if(t){if(LM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ov(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=null;function b0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uv=null,zs=null,Fs=null;function sw(e){if(e=gu(e)){if(typeof uv!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Qf(t),uv(e.stateNode,e.type,t))}}function uE(e){zs?Fs?Fs.push(e):Fs=[e]:zs=e}function cE(){if(zs){var e=zs,t=Fs;if(Fs=zs=null,sw(e),t)for(e=0;e<t.length;e++)sw(t[e])}}function dE(e,t){return e(t)}function fE(){}var Fm=!1;function hE(e,t,r){if(Fm)return e(t,r);Fm=!0;try{return dE(e,t,r)}finally{Fm=!1,(zs!==null||Fs!==null)&&(fE(),cE())}}function Al(e,t){var r=e.stateNode;if(r===null)return null;var n=Qf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var cv=!1;if(Qn)try{var $o={};Object.defineProperty($o,"passive",{get:function(){cv=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{cv=!1}function zM(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var vl=!1,pd=null,vd=!1,dv=null,FM={onError:function(e){vl=!0,pd=e}};function BM(e,t,r,n,i,a,s,o,l){vl=!1,pd=null,zM.apply(FM,arguments)}function UM(e,t,r,n,i,a,s,o,l){if(BM.apply(this,arguments),vl){if(vl){var u=pd;vl=!1,pd=null}else throw Error(F(198));vd||(vd=!0,dv=u)}}function Ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ow(e){if(Ya(e)!==e)throw Error(F(188))}function WM(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ow(i),e;if(a===n)return ow(i),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function pE(e){return e=WM(e),e!==null?vE(e):null}function vE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vE(e);if(t!==null)return t;e=e.sibling}return null}var gE=br.unstable_scheduleCallback,lw=br.unstable_cancelCallback,HM=br.unstable_shouldYield,qM=br.unstable_requestPaint,Qe=br.unstable_now,KM=br.unstable_getCurrentPriorityLevel,w0=br.unstable_ImmediatePriority,yE=br.unstable_UserBlockingPriority,gd=br.unstable_NormalPriority,VM=br.unstable_LowPriority,xE=br.unstable_IdlePriority,Gf=null,Sn=null;function GM(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Gf,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:JM,YM=Math.log,XM=Math.LN2;function JM(e){return e>>>=0,e===0?32:31-(YM(e)/XM|0)|0}var ic=64,ac=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=ul(o):(a&=s,a!==0&&(n=ul(a)))}else s=r&~i,s!==0?n=ul(s):a!==0&&(n=ul(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tn(t),i=1<<r,n|=e[r],t&=~i;return n}function QM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-tn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=QM(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function fv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bE(){var e=ic;return ic<<=1,!(ic&4194240)&&(ic=64),e}function Bm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=r}function eD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-tn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function _0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var be=0;function wE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _E,j0,jE,SE,kE,hv=!1,sc=[],Di=null,Ri=null,$i=null,Tl=new Map,Il=new Map,Oi=[],tD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uw(e,t){switch(e){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Lo(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gu(t),t!==null&&j0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rD(e,t,r,n,i){switch(t){case"focusin":return Di=Lo(Di,e,t,r,n,i),!0;case"dragenter":return Ri=Lo(Ri,e,t,r,n,i),!0;case"mouseover":return $i=Lo($i,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Tl.set(a,Lo(Tl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Il.set(a,Lo(Il.get(a)||null,e,t,r,n,i)),!0}return!1}function EE(e){var t=ya(e.target);if(t!==null){var r=Ya(t);if(r!==null){if(t=r.tag,t===13){if(t=mE(r),t!==null){e.blockedOn=t,kE(e.priority,function(){jE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lv=n,r.target.dispatchEvent(n),lv=null}else return t=gu(r),t!==null&&j0(t),e.blockedOn=r,!1;t.shift()}return!0}function cw(e,t,r){qc(e)&&r.delete(t)}function nD(){hv=!1,Di!==null&&qc(Di)&&(Di=null),Ri!==null&&qc(Ri)&&(Ri=null),$i!==null&&qc($i)&&($i=null),Tl.forEach(cw),Il.forEach(cw)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,hv||(hv=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,nD)))}function Ml(e){function t(i){return zo(i,e)}if(0<sc.length){zo(sc[0],e);for(var r=1;r<sc.length;r++){var n=sc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Di!==null&&zo(Di,e),Ri!==null&&zo(Ri,e),$i!==null&&zo($i,e),Tl.forEach(t),Il.forEach(t),r=0;r<Oi.length;r++)n=Oi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Oi.length&&(r=Oi[0],r.blockedOn===null);)EE(r),r.blockedOn===null&&Oi.shift()}var Bs=di.ReactCurrentBatchConfig,xd=!0;function iD(e,t,r,n){var i=be,a=Bs.transition;Bs.transition=null;try{be=1,S0(e,t,r,n)}finally{be=i,Bs.transition=a}}function aD(e,t,r,n){var i=be,a=Bs.transition;Bs.transition=null;try{be=4,S0(e,t,r,n)}finally{be=i,Bs.transition=a}}function S0(e,t,r,n){if(xd){var i=mv(e,t,r,n);if(i===null)Jm(e,t,n,bd,r),uw(e,n);else if(rD(i,e,t,r,n))n.stopPropagation();else if(uw(e,n),t&4&&-1<tD.indexOf(e)){for(;i!==null;){var a=gu(i);if(a!==null&&_E(a),a=mv(e,t,r,n),a===null&&Jm(e,t,n,bd,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Jm(e,t,n,null,r)}}var bd=null;function mv(e,t,r,n){if(bd=null,e=b0(n),e=ya(e),e!==null)if(t=Ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bd=e,null}function PE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KM()){case w0:return 1;case yE:return 4;case gd:case VM:return 16;case xE:return 536870912;default:return 16}default:return 16}}var Ti=null,k0=null,Kc=null;function OE(){if(Kc)return Kc;var e,t=k0,r=t.length,n,i="value"in Ti?Ti.value:Ti.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Kc=i.slice(e,1<n?1-n:void 0)}function Vc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oc(){return!0}function dw(){return!1}function jr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?oc:dw,this.isPropagationStopped=dw,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E0=jr(po),vu=We({},po,{view:0,detail:0}),sD=jr(vu),Um,Wm,Fo,Yf=We({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Um=e.screenX-Fo.screenX,Wm=e.screenY-Fo.screenY):Wm=Um=0,Fo=e),Um)},movementY:function(e){return"movementY"in e?e.movementY:Wm}}),fw=jr(Yf),oD=We({},Yf,{dataTransfer:0}),lD=jr(oD),uD=We({},vu,{relatedTarget:0}),Hm=jr(uD),cD=We({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),dD=jr(cD),fD=We({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hD=jr(fD),mD=We({},po,{data:0}),hw=jr(mD),pD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gD[e])?!!t[e]:!1}function P0(){return yD}var xD=We({},vu,{key:function(e){if(e.key){var t=pD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(e){return e.type==="keypress"?Vc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bD=jr(xD),wD=We({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mw=jr(wD),_D=We({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),jD=jr(_D),SD=We({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),kD=jr(SD),ED=We({},Yf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PD=jr(ED),OD=[9,13,27,32],O0=Qn&&"CompositionEvent"in window,gl=null;Qn&&"documentMode"in document&&(gl=document.documentMode);var ND=Qn&&"TextEvent"in window&&!gl,NE=Qn&&(!O0||gl&&8<gl&&11>=gl),pw=" ",vw=!1;function CE(e,t){switch(e){case"keyup":return OD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function CD(e,t){switch(e){case"compositionend":return AE(t);case"keypress":return t.which!==32?null:(vw=!0,pw);case"textInput":return e=t.data,e===pw&&vw?null:e;default:return null}}function AD(e,t){if(Ss)return e==="compositionend"||!O0&&CE(e,t)?(e=OE(),Kc=k0=Ti=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return NE&&t.locale!=="ko"?null:t.data;default:return null}}var TD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TD[e.type]:t==="textarea"}function TE(e,t,r,n){uE(n),t=wd(t,"onChange"),0<t.length&&(r=new E0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yl=null,Dl=null;function ID(e){WE(e,0)}function Xf(e){var t=Ps(e);if(rE(t))return e}function MD(e,t){if(e==="change")return t}var IE=!1;if(Qn){var qm;if(Qn){var Km="oninput"in document;if(!Km){var yw=document.createElement("div");yw.setAttribute("oninput","return;"),Km=typeof yw.oninput=="function"}qm=Km}else qm=!1;IE=qm&&(!document.documentMode||9<document.documentMode)}function xw(){yl&&(yl.detachEvent("onpropertychange",ME),Dl=yl=null)}function ME(e){if(e.propertyName==="value"&&Xf(Dl)){var t=[];TE(t,Dl,e,b0(e)),hE(ID,t)}}function DD(e,t,r){e==="focusin"?(xw(),yl=t,Dl=r,yl.attachEvent("onpropertychange",ME)):e==="focusout"&&xw()}function RD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xf(Dl)}function $D(e,t){if(e==="click")return Xf(t)}function LD(e,t){if(e==="input"||e==="change")return Xf(t)}function zD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:zD;function Rl(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Xp.call(t,i)||!an(e[i],t[i]))return!1}return!0}function bw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ww(e,t){var r=bw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bw(r)}}function DE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RE(){for(var e=window,t=md();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=md(e.document)}return t}function N0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FD(e){var t=RE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&DE(r.ownerDocument.documentElement,r)){if(n!==null&&N0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=ww(r,a);var s=ww(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BD=Qn&&"documentMode"in document&&11>=document.documentMode,ks=null,pv=null,xl=null,vv=!1;function _w(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vv||ks==null||ks!==md(n)||(n=ks,"selectionStart"in n&&N0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xl&&Rl(xl,n)||(xl=n,n=wd(pv,"onSelect"),0<n.length&&(t=new E0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ks)))}function lc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Es={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},Vm={},$E={};Qn&&($E=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Jf(e){if(Vm[e])return Vm[e];if(!Es[e])return e;var t=Es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $E)return Vm[e]=t[r];return e}var LE=Jf("animationend"),zE=Jf("animationiteration"),FE=Jf("animationstart"),BE=Jf("transitionend"),UE=new Map,jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(e,t){UE.set(e,t),Ga(t,[e])}for(var Gm=0;Gm<jw.length;Gm++){var Ym=jw[Gm],UD=Ym.toLowerCase(),WD=Ym[0].toUpperCase()+Ym.slice(1);Zi(UD,"on"+WD)}Zi(LE,"onAnimationEnd");Zi(zE,"onAnimationIteration");Zi(FE,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(BE,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Sw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,UM(n,t,void 0,e),e.currentTarget=null}function WE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Sw(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Sw(i,o,u),a=l}}}if(vd)throw e=dv,vd=!1,dv=null,e}function Te(e,t){var r=t[wv];r===void 0&&(r=t[wv]=new Set);var n=e+"__bubble";r.has(n)||(HE(t,e,2,!1),r.add(n))}function Xm(e,t,r){var n=0;t&&(n|=4),HE(r,e,n,t)}var uc="_reactListening"+Math.random().toString(36).slice(2);function $l(e){if(!e[uc]){e[uc]=!0,Jk.forEach(function(r){r!=="selectionchange"&&(HD.has(r)||Xm(r,!1,e),Xm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uc]||(t[uc]=!0,Xm("selectionchange",!1,t))}}function HE(e,t,r,n){switch(PE(t)){case 1:var i=iD;break;case 4:i=aD;break;default:i=S0}r=i.bind(null,t,r,e),i=void 0,!cv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ya(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}hE(function(){var u=a,c=b0(r),f=[];e:{var h=UE.get(e);if(h!==void 0){var p=E0,v=e;switch(e){case"keypress":if(Vc(r)===0)break e;case"keydown":case"keyup":p=bD;break;case"focusin":v="focus",p=Hm;break;case"focusout":v="blur",p=Hm;break;case"beforeblur":case"afterblur":p=Hm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jD;break;case LE:case zE:case FE:p=dD;break;case BE:p=kD;break;case"scroll":p=sD;break;case"wheel":p=PD;break;case"copy":case"cut":case"paste":p=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mw}var g=(t&4)!==0,x=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,y;w!==null;){y=w;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,b!==null&&(_=Al(w,b),_!=null&&g.push(Ll(w,_,y)))),x)break;w=w.return}0<g.length&&(h=new p(h,v,null,r,c),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==lv&&(v=r.relatedTarget||r.fromElement)&&(ya(v)||v[Zn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ya(v):null,v!==null&&(x=Ya(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=fw,_="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=mw,_="onPointerLeave",b="onPointerEnter",w="pointer"),x=p==null?h:Ps(p),y=v==null?h:Ps(v),h=new g(_,w+"leave",p,r,c),h.target=x,h.relatedTarget=y,_=null,ya(c)===u&&(g=new g(b,w+"enter",v,r,c),g.target=y,g.relatedTarget=x,_=g),x=_,p&&v)t:{for(g=p,b=v,w=0,y=g;y;y=ls(y))w++;for(y=0,_=b;_;_=ls(_))y++;for(;0<w-y;)g=ls(g),w--;for(;0<y-w;)b=ls(b),y--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=ls(g),b=ls(b)}g=null}else g=null;p!==null&&kw(f,h,p,g,!1),v!==null&&x!==null&&kw(f,x,v,g,!0)}}e:{if(h=u?Ps(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=MD;else if(gw(h))if(IE)j=LD;else{j=RD;var S=DD}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=$D);if(j&&(j=j(e,u))){TE(f,j,r,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&nv(h,"number",h.value)}switch(S=u?Ps(u):window,e){case"focusin":(gw(S)||S.contentEditable==="true")&&(ks=S,pv=u,xl=null);break;case"focusout":xl=pv=ks=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,_w(f,r,c);break;case"selectionchange":if(BD)break;case"keydown":case"keyup":_w(f,r,c)}var k;if(O0)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ss?CE(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(NE&&r.locale!=="ko"&&(Ss||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ss&&(k=OE()):(Ti=c,k0="value"in Ti?Ti.value:Ti.textContent,Ss=!0)),S=wd(u,E),0<S.length&&(E=new hw(E,e,null,r,c),f.push({event:E,listeners:S}),k?E.data=k:(k=AE(r),k!==null&&(E.data=k)))),(k=ND?CD(e,r):AD(e,r))&&(u=wd(u,"onBeforeInput"),0<u.length&&(c=new hw("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=k))}WE(f,t)})}function Ll(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Al(e,r),a!=null&&n.unshift(Ll(e,a,i)),a=Al(e,t),a!=null&&n.push(Ll(e,a,i))),e=e.return}return n}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kw(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Al(r,a),l!=null&&s.unshift(Ll(r,l,o))):i||(l=Al(r,a),l!=null&&s.push(Ll(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var qD=/\r\n?/g,KD=/\u0000|\uFFFD/g;function Ew(e){return(typeof e=="string"?e:""+e).replace(qD,`
`).replace(KD,"")}function cc(e,t,r){if(t=Ew(t),Ew(e)!==t&&r)throw Error(F(425))}function _d(){}var gv=null,yv=null;function xv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bv=typeof setTimeout=="function"?setTimeout:void 0,VD=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,GD=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(e){return Pw.resolve(null).then(e).catch(YD)}:bv;function YD(e){setTimeout(function(){throw e})}function Qm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ml(t)}function Li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ow(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),xn="__reactFiber$"+vo,zl="__reactProps$"+vo,Zn="__reactContainer$"+vo,wv="__reactEvents$"+vo,XD="__reactListeners$"+vo,JD="__reactHandles$"+vo;function ya(e){var t=e[xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zn]||r[xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ow(e);e!==null;){if(r=e[xn])return r;e=Ow(e)}return t}e=r,r=e.parentNode}return null}function gu(e){return e=e[xn]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Qf(e){return e[zl]||null}var _v=[],Os=-1;function ea(e){return{current:e}}function De(e){0>Os||(e.current=_v[Os],_v[Os]=null,Os--)}function Oe(e,t){Os++,_v[Os]=e.current,e.current=t}var Vi={},zt=ea(Vi),ar=ea(!1),Aa=Vi;function Xs(e,t){var r=e.type.contextTypes;if(!r)return Vi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sr(e){return e=e.childContextTypes,e!=null}function jd(){De(ar),De(zt)}function Nw(e,t,r){if(zt.current!==Vi)throw Error(F(168));Oe(zt,t),Oe(ar,r)}function qE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(F(108,DM(e)||"Unknown",i));return We({},r,n)}function Sd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,Aa=zt.current,Oe(zt,e),Oe(ar,ar.current),!0}function Cw(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=qE(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,De(ar),De(zt),Oe(zt,e)):De(ar),Oe(ar,r)}var Fn=null,Zf=!1,Zm=!1;function KE(e){Fn===null?Fn=[e]:Fn.push(e)}function QD(e){Zf=!0,KE(e)}function ta(){if(!Zm&&Fn!==null){Zm=!0;var e=0,t=be;try{var r=Fn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fn=null,Zf=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(e+1)),gE(w0,ta),i}finally{be=t,Zm=!1}}return null}var Ns=[],Cs=0,kd=null,Ed=0,Nr=[],Cr=0,Ta=null,Wn=1,Hn="";function ca(e,t){Ns[Cs++]=Ed,Ns[Cs++]=kd,kd=e,Ed=t}function VE(e,t,r){Nr[Cr++]=Wn,Nr[Cr++]=Hn,Nr[Cr++]=Ta,Ta=e;var n=Wn;e=Hn;var i=32-tn(n)-1;n&=~(1<<i),r+=1;var a=32-tn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Wn=1<<32-tn(t)+i|r<<i|n,Hn=a+e}else Wn=1<<a|r<<i|n,Hn=e}function C0(e){e.return!==null&&(ca(e,1),VE(e,1,0))}function A0(e){for(;e===kd;)kd=Ns[--Cs],Ns[Cs]=null,Ed=Ns[--Cs],Ns[Cs]=null;for(;e===Ta;)Ta=Nr[--Cr],Nr[Cr]=null,Hn=Nr[--Cr],Nr[Cr]=null,Wn=Nr[--Cr],Nr[Cr]=null}var gr=null,pr=null,Le=!1,Jr=null;function GE(e,t){var r=Ar(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Aw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,pr=Li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ta!==null?{id:Wn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ar(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gr=e,pr=null,!0):!1;default:return!1}}function jv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sv(e){if(Le){var t=pr;if(t){var r=t;if(!Aw(e,t)){if(jv(e))throw Error(F(418));t=Li(r.nextSibling);var n=gr;t&&Aw(e,t)?GE(n,r):(e.flags=e.flags&-4097|2,Le=!1,gr=e)}}else{if(jv(e))throw Error(F(418));e.flags=e.flags&-4097|2,Le=!1,gr=e}}}function Tw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function dc(e){if(e!==gr)return!1;if(!Le)return Tw(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xv(e.type,e.memoizedProps)),t&&(t=pr)){if(jv(e))throw YE(),Error(F(418));for(;t;)GE(e,t),t=Li(t.nextSibling)}if(Tw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pr=Li(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=gr?Li(e.stateNode.nextSibling):null;return!0}function YE(){for(var e=pr;e;)e=Li(e.nextSibling)}function Js(){pr=gr=null,Le=!1}function T0(e){Jr===null?Jr=[e]:Jr.push(e)}var ZD=di.ReactCurrentBatchConfig;function Bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function fc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Iw(e){var t=e._init;return t(e._payload)}function XE(e){function t(b,w){if(e){var y=b.deletions;y===null?(b.deletions=[w],b.flags|=16):y.push(w)}}function r(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function n(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Ui(b,w),b.index=0,b.sibling=null,b}function a(b,w,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<w?(b.flags|=2,w):y):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,w,y,_){return w===null||w.tag!==6?(w=sp(y,b.mode,_),w.return=b,w):(w=i(w,y),w.return=b,w)}function l(b,w,y,_){var j=y.type;return j===js?c(b,w,y.props.children,_,y.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Si&&Iw(j)===w.type)?(_=i(w,y.props),_.ref=Bo(b,w,y),_.return=b,_):(_=ed(y.type,y.key,y.props,null,b.mode,_),_.ref=Bo(b,w,y),_.return=b,_)}function u(b,w,y,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=op(y,b.mode,_),w.return=b,w):(w=i(w,y.children||[]),w.return=b,w)}function c(b,w,y,_,j){return w===null||w.tag!==7?(w=Ea(y,b.mode,_,j),w.return=b,w):(w=i(w,y),w.return=b,w)}function f(b,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sp(""+w,b.mode,y),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tc:return y=ed(w.type,w.key,w.props,null,b.mode,y),y.ref=Bo(b,null,w),y.return=b,y;case _s:return w=op(w,b.mode,y),w.return=b,w;case Si:var _=w._init;return f(b,_(w._payload),y)}if(ll(w)||Ro(w))return w=Ea(w,b.mode,y,null),w.return=b,w;fc(b,w)}return null}function h(b,w,y,_){var j=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:o(b,w,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tc:return y.key===j?l(b,w,y,_):null;case _s:return y.key===j?u(b,w,y,_):null;case Si:return j=y._init,h(b,w,j(y._payload),_)}if(ll(y)||Ro(y))return j!==null?null:c(b,w,y,_,null);fc(b,y)}return null}function p(b,w,y,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(y)||null,o(w,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tc:return b=b.get(_.key===null?y:_.key)||null,l(w,b,_,j);case _s:return b=b.get(_.key===null?y:_.key)||null,u(w,b,_,j);case Si:var S=_._init;return p(b,w,y,S(_._payload),j)}if(ll(_)||Ro(_))return b=b.get(y)||null,c(w,b,_,j,null);fc(w,_)}return null}function v(b,w,y,_){for(var j=null,S=null,k=w,E=w=0,O=null;k!==null&&E<y.length;E++){k.index>E?(O=k,k=null):O=k.sibling;var C=h(b,k,y[E],_);if(C===null){k===null&&(k=O);break}e&&k&&C.alternate===null&&t(b,k),w=a(C,w,E),S===null?j=C:S.sibling=C,S=C,k=O}if(E===y.length)return r(b,k),Le&&ca(b,E),j;if(k===null){for(;E<y.length;E++)k=f(b,y[E],_),k!==null&&(w=a(k,w,E),S===null?j=k:S.sibling=k,S=k);return Le&&ca(b,E),j}for(k=n(b,k);E<y.length;E++)O=p(k,b,E,y[E],_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?E:O.key),w=a(O,w,E),S===null?j=O:S.sibling=O,S=O);return e&&k.forEach(function(M){return t(b,M)}),Le&&ca(b,E),j}function g(b,w,y,_){var j=Ro(y);if(typeof j!="function")throw Error(F(150));if(y=j.call(y),y==null)throw Error(F(151));for(var S=j=null,k=w,E=w=0,O=null,C=y.next();k!==null&&!C.done;E++,C=y.next()){k.index>E?(O=k,k=null):O=k.sibling;var M=h(b,k,C.value,_);if(M===null){k===null&&(k=O);break}e&&k&&M.alternate===null&&t(b,k),w=a(M,w,E),S===null?j=M:S.sibling=M,S=M,k=O}if(C.done)return r(b,k),Le&&ca(b,E),j;if(k===null){for(;!C.done;E++,C=y.next())C=f(b,C.value,_),C!==null&&(w=a(C,w,E),S===null?j=C:S.sibling=C,S=C);return Le&&ca(b,E),j}for(k=n(b,k);!C.done;E++,C=y.next())C=p(k,b,E,C.value,_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),w=a(C,w,E),S===null?j=C:S.sibling=C,S=C);return e&&k.forEach(function(P){return t(b,P)}),Le&&ca(b,E),j}function x(b,w,y,_){if(typeof y=="object"&&y!==null&&y.type===js&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case tc:e:{for(var j=y.key,S=w;S!==null;){if(S.key===j){if(j=y.type,j===js){if(S.tag===7){r(b,S.sibling),w=i(S,y.props.children),w.return=b,b=w;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Si&&Iw(j)===S.type){r(b,S.sibling),w=i(S,y.props),w.ref=Bo(b,S,y),w.return=b,b=w;break e}r(b,S);break}else t(b,S);S=S.sibling}y.type===js?(w=Ea(y.props.children,b.mode,_,y.key),w.return=b,b=w):(_=ed(y.type,y.key,y.props,null,b.mode,_),_.ref=Bo(b,w,y),_.return=b,b=_)}return s(b);case _s:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){r(b,w.sibling),w=i(w,y.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else t(b,w);w=w.sibling}w=op(y,b.mode,_),w.return=b,b=w}return s(b);case Si:return S=y._init,x(b,w,S(y._payload),_)}if(ll(y))return v(b,w,y,_);if(Ro(y))return g(b,w,y,_);fc(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(r(b,w.sibling),w=i(w,y),w.return=b,b=w):(r(b,w),w=sp(y,b.mode,_),w.return=b,b=w),s(b)):r(b,w)}return x}var Qs=XE(!0),JE=XE(!1),Pd=ea(null),Od=null,As=null,I0=null;function M0(){I0=As=Od=null}function D0(e){var t=Pd.current;De(Pd),e._currentValue=t}function kv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Us(e,t){Od=e,I0=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(I0!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(Od===null)throw Error(F(308));As=e,Od.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var xa=null;function R0(e){xa===null?xa=[e]:xa.push(e)}function QE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,R0(t)):(r.next=i.next,i.next=r),t.interleaved=r,ei(e,n)}function ei(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ki=!1;function $0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ei(e,r)}return i=n.interleaved,i===null?(t.next=t,R0(n)):(t.next=i.next,i.next=t),n.interleaved=t,ei(e,r)}function Gc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_0(e,r)}}function Mw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nd(e,t,r,n){var i=e.updateQueue;ki=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,g=o;switch(h=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=We({},f,h);break e;case 2:ki=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ma|=s,e.lanes=s,e.memoizedState=f}}function Dw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(F(191,i));i.call(n)}}}var yu={},kn=ea(yu),Fl=ea(yu),Bl=ea(yu);function ba(e){if(e===yu)throw Error(F(174));return e}function L0(e,t){switch(Oe(Bl,t),Oe(Fl,e),Oe(kn,yu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:av(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=av(t,e)}De(kn),Oe(kn,t)}function Zs(){De(kn),De(Fl),De(Bl)}function eP(e){ba(Bl.current);var t=ba(kn.current),r=av(t,e.type);t!==r&&(Oe(Fl,e),Oe(kn,r))}function z0(e){Fl.current===e&&(De(kn),De(Fl))}var Be=ea(0);function Cd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ep=[];function F0(){for(var e=0;e<ep.length;e++)ep[e]._workInProgressVersionPrimary=null;ep.length=0}var Yc=di.ReactCurrentDispatcher,tp=di.ReactCurrentBatchConfig,Ia=0,Ue=null,ct=null,bt=null,Ad=!1,bl=!1,Ul=0,e5=0;function Tt(){throw Error(F(321))}function B0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function U0(e,t,r,n,i,a){if(Ia=a,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=e===null||e.memoizedState===null?i5:a5,e=r(n,i),bl){a=0;do{if(bl=!1,Ul=0,25<=a)throw Error(F(301));a+=1,bt=ct=null,t.updateQueue=null,Yc.current=s5,e=r(n,i)}while(bl)}if(Yc.current=Td,t=ct!==null&&ct.next!==null,Ia=0,bt=ct=Ue=null,Ad=!1,t)throw Error(F(300));return e}function W0(){var e=Ul!==0;return Ul=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ue.memoizedState=bt=e:bt=bt.next=e,bt}function Rr(){if(ct===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=bt===null?Ue.memoizedState:bt.next;if(t!==null)bt=t,ct=e;else{if(e===null)throw Error(F(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},bt===null?Ue.memoizedState=bt=e:bt=bt.next=e}return bt}function Wl(e,t){return typeof t=="function"?t(e):t}function rp(e){var t=Rr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=ct,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Ia&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Ue.lanes|=c,Ma|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,an(n,t.memoizedState)||(rr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ue.lanes|=a,Ma|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function np(e){var t=Rr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);an(a,t.memoizedState)||(rr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function tP(){}function rP(e,t){var r=Ue,n=Rr(),i=t(),a=!an(n.memoizedState,i);if(a&&(n.memoizedState=i,rr=!0),n=n.queue,H0(aP.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,iP.bind(null,r,n,i,t),void 0,null),_t===null)throw Error(F(349));Ia&30||nP(r,t,i)}return i}function nP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function iP(e,t,r,n){t.value=r,t.getSnapshot=n,sP(t)&&oP(e)}function aP(e,t,r){return r(function(){sP(t)&&oP(e)})}function sP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function oP(e){var t=ei(e,1);t!==null&&rn(t,e,1,-1)}function Rw(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t.queue=e,e=e.dispatch=n5.bind(null,Ue,e),[t.memoizedState,e]}function Hl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lP(){return Rr().memoizedState}function Xc(e,t,r,n){var i=gn();Ue.flags|=e,i.memoizedState=Hl(1|t,r,void 0,n===void 0?null:n)}function eh(e,t,r,n){var i=Rr();n=n===void 0?null:n;var a=void 0;if(ct!==null){var s=ct.memoizedState;if(a=s.destroy,n!==null&&B0(n,s.deps)){i.memoizedState=Hl(t,r,a,n);return}}Ue.flags|=e,i.memoizedState=Hl(1|t,r,a,n)}function $w(e,t){return Xc(8390656,8,e,t)}function H0(e,t){return eh(2048,8,e,t)}function uP(e,t){return eh(4,2,e,t)}function cP(e,t){return eh(4,4,e,t)}function dP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fP(e,t,r){return r=r!=null?r.concat([e]):null,eh(4,4,dP.bind(null,t,e),r)}function q0(){}function hP(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mP(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pP(e,t,r){return Ia&21?(an(r,t)||(r=bE(),Ue.lanes|=r,Ma|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=r)}function t5(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=tp.transition;tp.transition={};try{e(!1),t()}finally{be=r,tp.transition=n}}function vP(){return Rr().memoizedState}function r5(e,t,r){var n=Bi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gP(e))yP(t,r);else if(r=QE(e,t,r,n),r!==null){var i=Kt();rn(r,e,n,i),xP(r,t,n)}}function n5(e,t,r){var n=Bi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gP(e))yP(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,an(o,s)){var l=t.interleaved;l===null?(i.next=i,R0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=QE(e,t,i,n),r!==null&&(i=Kt(),rn(r,e,n,i),xP(r,t,n))}}function gP(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function yP(e,t){bl=Ad=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_0(e,r)}}var Td={readContext:Dr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},i5={readContext:Dr,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:$w,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xc(4194308,4,dP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xc(4,2,e,t)},useMemo:function(e,t){var r=gn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=r5.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:Rw,useDebugValue:q0,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=Rw(!1),t=e[0];return e=t5.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,i=gn();if(Le){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),_t===null)throw Error(F(349));Ia&30||nP(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,$w(aP.bind(null,n,a,e),[e]),n.flags|=2048,Hl(9,iP.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=gn(),t=_t.identifierPrefix;if(Le){var r=Hn,n=Wn;r=(n&~(1<<32-tn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ul++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=e5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},a5={readContext:Dr,useCallback:hP,useContext:Dr,useEffect:H0,useImperativeHandle:fP,useInsertionEffect:uP,useLayoutEffect:cP,useMemo:mP,useReducer:rp,useRef:lP,useState:function(){return rp(Wl)},useDebugValue:q0,useDeferredValue:function(e){var t=Rr();return pP(t,ct.memoizedState,e)},useTransition:function(){var e=rp(Wl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:tP,useSyncExternalStore:rP,useId:vP,unstable_isNewReconciler:!1},s5={readContext:Dr,useCallback:hP,useContext:Dr,useEffect:H0,useImperativeHandle:fP,useInsertionEffect:uP,useLayoutEffect:cP,useMemo:mP,useReducer:np,useRef:lP,useState:function(){return np(Wl)},useDebugValue:q0,useDeferredValue:function(e){var t=Rr();return ct===null?t.memoizedState=e:pP(t,ct.memoizedState,e)},useTransition:function(){var e=np(Wl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:tP,useSyncExternalStore:rP,useId:vP,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ev(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:We({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var th={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kt(),i=Bi(e),a=Vn(n,i);a.payload=t,r!=null&&(a.callback=r),t=zi(e,a,i),t!==null&&(rn(t,e,i,n),Gc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kt(),i=Bi(e),a=Vn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=zi(e,a,i),t!==null&&(rn(t,e,i,n),Gc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kt(),n=Bi(e),i=Vn(r,n);i.tag=2,t!=null&&(i.callback=t),t=zi(e,i,n),t!==null&&(rn(t,e,n,r),Gc(t,e,n))}};function Lw(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Rl(r,n)||!Rl(i,a):!0}function bP(e,t,r){var n=!1,i=Vi,a=t.contextType;return typeof a=="object"&&a!==null?a=Dr(a):(i=sr(t)?Aa:zt.current,n=t.contextTypes,a=(n=n!=null)?Xs(e,i):Vi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function zw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function Pv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Dr(a):(a=sr(t)?Aa:zt.current,i.context=Xs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ev(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&th.enqueueReplaceState(i,i.state,null),Nd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function eo(e,t){try{var r="",n=t;do r+=MM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ip(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ov(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var o5=typeof WeakMap=="function"?WeakMap:Map;function wP(e,t,r){r=Vn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Md||(Md=!0,Lv=n),Ov(e,t)},r}function _P(e,t,r){r=Vn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ov(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ov(e,t),typeof n!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Fw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new o5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=w5.bind(null,e,t,r),t.then(e,e))}function Bw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vn(-1,1),t.tag=2,zi(r,t,1))),r.lanes|=1),e)}var l5=di.ReactCurrentOwner,rr=!1;function Wt(e,t,r,n){t.child=e===null?JE(t,null,r,n):Qs(t,e.child,r,n)}function Ww(e,t,r,n,i){r=r.render;var a=t.ref;return Us(t,i),n=U0(e,t,r,n,a,i),r=W0(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Le&&r&&C0(t),t.flags|=1,Wt(e,t,n,i),t.child)}function Hw(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Z0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,jP(e,t,a,n,i)):(e=ed(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Rl,r(s,n)&&e.ref===t.ref)return ti(e,t,i)}return t.flags|=1,e=Ui(a,n),e.ref=t.ref,e.return=t,t.child=e}function jP(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Rl(a,n)&&e.ref===t.ref)if(rr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,ti(e,t,i)}return Nv(e,t,r,n,i)}function SP(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Is,hr),hr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Is,hr),hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Oe(Is,hr),hr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Oe(Is,hr),hr|=n;return Wt(e,t,i,r),t.child}function kP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nv(e,t,r,n,i){var a=sr(r)?Aa:zt.current;return a=Xs(t,a),Us(t,i),r=U0(e,t,r,n,a,i),n=W0(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Le&&n&&C0(t),t.flags|=1,Wt(e,t,r,i),t.child)}function qw(e,t,r,n,i){if(sr(r)){var a=!0;Sd(t)}else a=!1;if(Us(t,i),t.stateNode===null)Jc(e,t),bP(t,r,n),Pv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Dr(u):(u=sr(r)?Aa:zt.current,u=Xs(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&zw(t,s,n,u),ki=!1;var h=t.memoizedState;s.state=h,Nd(t,n,s,i),l=t.memoizedState,o!==n||h!==l||ar.current||ki?(typeof c=="function"&&(Ev(t,r,c,n),l=t.memoizedState),(o=ki||Lw(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ZE(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Gr(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Dr(l):(l=sr(r)?Aa:zt.current,l=Xs(t,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&zw(t,s,n,l),ki=!1,h=t.memoizedState,s.state=h,Nd(t,n,s,i);var v=t.memoizedState;o!==f||h!==v||ar.current||ki?(typeof p=="function"&&(Ev(t,r,p,n),v=t.memoizedState),(u=ki||Lw(t,r,u,n,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Cv(e,t,r,n,a,i)}function Cv(e,t,r,n,i,a){kP(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Cw(t,r,!1),ti(e,t,a);n=t.stateNode,l5.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Qs(t,e.child,null,a),t.child=Qs(t,null,o,a)):Wt(e,t,o,a),t.memoizedState=n.state,i&&Cw(t,r,!0),t.child}function EP(e){var t=e.stateNode;t.pendingContext?Nw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nw(e,t.context,!1),L0(e,t.containerInfo)}function Kw(e,t,r,n,i){return Js(),T0(i),t.flags|=256,Wt(e,t,r,n),t.child}var Av={dehydrated:null,treeContext:null,retryLane:0};function Tv(e){return{baseLanes:e,cachePool:null,transitions:null}}function PP(e,t,r){var n=t.pendingProps,i=Be.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(Be,i&1),e===null)return Sv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ih(s,n,0,null),e=Ea(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Tv(r),t.memoizedState=Av,e):K0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return u5(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ui(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ui(o,a):(a=Ea(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Tv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Av,n}return a=e.child,e=a.sibling,n=Ui(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function K0(e,t){return t=ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hc(e,t,r,n){return n!==null&&T0(n),Qs(t,e.child,null,r),e=K0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u5(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=ip(Error(F(422))),hc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ih({mode:"visible",children:n.children},i,0,null),a=Ea(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qs(t,e.child,null,s),t.child.memoizedState=Tv(s),t.memoizedState=Av,a);if(!(t.mode&1))return hc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(F(419)),n=ip(a,n,void 0),hc(e,t,s,n)}if(o=(s&e.childLanes)!==0,rr||o){if(n=_t,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ei(e,i),rn(n,e,i,-1))}return Q0(),n=ip(Error(F(421))),hc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_5.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pr=Li(i.nextSibling),gr=t,Le=!0,Jr=null,e!==null&&(Nr[Cr++]=Wn,Nr[Cr++]=Hn,Nr[Cr++]=Ta,Wn=e.id,Hn=e.overflow,Ta=t),t=K0(t,n.children),t.flags|=4096,t)}function Vw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kv(e.return,t,r)}function ap(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function OP(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Wt(e,t,n.children,r),n=Be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vw(e,r,t);else if(e.tag===19)Vw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Be,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Cd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ap(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ap(t,!0,r,null,a);break;case"together":ap(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ti(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Ui(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ui(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function c5(e,t,r){switch(t.tag){case 3:EP(t),Js();break;case 5:eP(t);break;case 1:sr(t.type)&&Sd(t);break;case 4:L0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Oe(Pd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Be,Be.current&1),t.flags|=128,null):r&t.child.childLanes?PP(e,t,r):(Oe(Be,Be.current&1),e=ti(e,t,r),e!==null?e.sibling:null);Oe(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OP(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,SP(e,t,r)}return ti(e,t,r)}var NP,Iv,CP,AP;NP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Iv=function(){};CP=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ba(kn.current);var a=null;switch(r){case"input":i=tv(e,i),n=tv(e,n),a=[];break;case"select":i=We({},i,{value:void 0}),n=We({},n,{value:void 0}),a=[];break;case"textarea":i=iv(e,i),n=iv(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_d)}sv(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};AP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Uo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function d5(e,t,r){var n=t.pendingProps;switch(A0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return sr(t.type)&&jd(),It(t),null;case 3:return n=t.stateNode,Zs(),De(ar),De(zt),F0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(Bv(Jr),Jr=null))),Iv(e,t),It(t),null;case 5:z0(t);var i=ba(Bl.current);if(r=t.type,e!==null&&t.stateNode!=null)CP(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return It(t),null}if(e=ba(kn.current),dc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[xn]=t,n[zl]=a,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(i=0;i<cl.length;i++)Te(cl[i],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":rw(n,a),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Te("invalid",n);break;case"textarea":iw(n,a),Te("invalid",n)}sv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&cc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&cc(n.textContent,o,e),i=["children",""+o]):Nl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Te("scroll",n)}switch(r){case"input":rc(n),nw(n,a,!0);break;case"textarea":rc(n),aw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=_d)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[xn]=t,e[zl]=n,NP(e,t,!1,!1),t.stateNode=e;e:{switch(s=ov(r,n),r){case"dialog":Te("cancel",e),Te("close",e),i=n;break;case"iframe":case"object":case"embed":Te("load",e),i=n;break;case"video":case"audio":for(i=0;i<cl.length;i++)Te(cl[i],e);i=n;break;case"source":Te("error",e),i=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=n;break;case"details":Te("toggle",e),i=n;break;case"input":rw(e,n),i=tv(e,n),Te("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=We({},n,{value:void 0}),Te("invalid",e);break;case"textarea":iw(e,n),i=iv(e,n),Te("invalid",e);break;default:i=n}sv(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?lE(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sE(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cl(e,l):typeof l=="number"&&Cl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Te("scroll",e):l!=null&&v0(e,a,l,s))}switch(r){case"input":rc(e),nw(e,n,!1);break;case"textarea":rc(e),aw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ki(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ls(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ls(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_d)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)AP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=ba(Bl.current),ba(kn.current),dc(t)){if(n=t.stateNode,r=t.memoizedProps,n[xn]=t,(a=n.nodeValue!==r)&&(e=gr,e!==null))switch(e.tag){case 3:cc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xn]=t,t.stateNode=n}return It(t),null;case 13:if(De(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&pr!==null&&t.mode&1&&!(t.flags&128))YE(),Js(),t.flags|=98560,a=!1;else if(a=dc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[xn]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),a=!1}else Jr!==null&&(Bv(Jr),Jr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?ft===0&&(ft=3):Q0())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return Zs(),Iv(e,t),e===null&&$l(t.stateNode.containerInfo),It(t),null;case 10:return D0(t.type._context),It(t),null;case 17:return sr(t.type)&&jd(),It(t),null;case 19:if(De(Be),a=t.memoizedState,a===null)return It(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Uo(a,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Cd(e),s!==null){for(t.flags|=128,Uo(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Be,Be.current&1|2),t.child}e=e.sibling}a.tail!==null&&Qe()>to&&(t.flags|=128,n=!0,Uo(a,!1),t.lanes=4194304)}else{if(!n)if(e=Cd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Uo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Le)return It(t),null}else 2*Qe()-a.renderingStartTime>to&&r!==1073741824&&(t.flags|=128,n=!0,Uo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,r=Be.current,Oe(Be,n?r&1|2:r&1),t):(It(t),null);case 22:case 23:return J0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hr&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function f5(e,t){switch(A0(t),t.tag){case 1:return sr(t.type)&&jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zs(),De(ar),De(zt),F0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z0(t),null;case 13:if(De(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Be),null;case 4:return Zs(),null;case 10:return D0(t.type._context),null;case 22:case 23:return J0(),null;case 24:return null;default:return null}}var mc=!1,Dt=!1,h5=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ts(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Mv(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var Gw=!1;function m5(e,t){if(gv=xd,e=RE(),N0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++c===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yv={focusedElem:e,selectionRange:r},xd=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Gr(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){Ve(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=Gw,Gw=!1,v}function wl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Mv(t,r,a)}i=i.next}while(i!==n)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function TP(e){var t=e.alternate;t!==null&&(e.alternate=null,TP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[zl],delete t[wv],delete t[XD],delete t[JD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IP(e){return e.tag===5||e.tag===3||e.tag===4}function Yw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_d));else if(n!==4&&(e=e.child,e!==null))for(Rv(e,t,r),e=e.sibling;e!==null;)Rv(e,t,r),e=e.sibling}function $v(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($v(e,t,r),e=e.sibling;e!==null;)$v(e,t,r),e=e.sibling}var Pt=null,Yr=!1;function bi(e,t,r){for(r=r.child;r!==null;)MP(e,t,r),r=r.sibling}function MP(e,t,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Gf,r)}catch{}switch(r.tag){case 5:Dt||Ts(r,t);case 6:var n=Pt,i=Yr;Pt=null,bi(e,t,r),Pt=n,Yr=i,Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?Qm(e.parentNode,r):e.nodeType===1&&Qm(e,r),Ml(e)):Qm(Pt,r.stateNode));break;case 4:n=Pt,i=Yr,Pt=r.stateNode.containerInfo,Yr=!0,bi(e,t,r),Pt=n,Yr=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Mv(r,t,s),i=i.next}while(i!==n)}bi(e,t,r);break;case 1:if(!Dt&&(Ts(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ve(r,t,o)}bi(e,t,r);break;case 21:bi(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,bi(e,t,r),Dt=n):bi(e,t,r);break;default:bi(e,t,r)}}function Xw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new h5),t.forEach(function(n){var i=j5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,Yr=!1;break e;case 3:Pt=o.stateNode.containerInfo,Yr=!0;break e;case 4:Pt=o.stateNode.containerInfo,Yr=!0;break e}o=o.return}if(Pt===null)throw Error(F(160));MP(a,s,i),Pt=null,Yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DP(t,e),t=t.sibling}function DP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),fn(e),n&4){try{wl(3,e,e.return),rh(3,e)}catch(g){Ve(e,e.return,g)}try{wl(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:Hr(t,e),fn(e),n&512&&r!==null&&Ts(r,r.return);break;case 5:if(Hr(t,e),fn(e),n&512&&r!==null&&Ts(r,r.return),e.flags&32){var i=e.stateNode;try{Cl(i,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&nE(i,a),ov(o,s);var u=ov(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?lE(i,f):c==="dangerouslySetInnerHTML"?sE(i,f):c==="children"?Cl(i,f):v0(i,c,f,u)}switch(o){case"input":rv(i,a);break;case"textarea":iE(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ls(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ls(i,!!a.multiple,a.defaultValue,!0):Ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[zl]=a}catch(g){Ve(e,e.return,g)}}break;case 6:if(Hr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ve(e,e.return,g)}}break;case 3:if(Hr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:Hr(t,e),fn(e);break;case 13:Hr(t,e),fn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Y0=Qe())),n&4&&Xw(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||c,Hr(t,e),Dt=u):Hr(t,e),fn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:Ts(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:Ts(h,h.return);break;case 22:if(h.memoizedState!==null){Qw(f);continue}}p!==null?(p.return=h,Y=p):Qw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=oE("display",s))}catch(g){Ve(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hr(t,e),fn(e),n&4&&Xw(e);break;case 21:break;default:Hr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(IP(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cl(i,""),n.flags&=-33);var a=Yw(e);$v(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Yw(e);Rv(e,o,s);break;default:throw Error(F(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p5(e,t,r){Y=e,RP(e)}function RP(e,t,r){for(var n=(e.mode&1)!==0;Y!==null;){var i=Y,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||mc;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Dt;o=mc;var u=Dt;if(mc=s,(Dt=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?Zw(i):l!==null?(l.return=s,Y=l):Zw(i);for(;a!==null;)Y=a,RP(a),a=a.sibling;Y=i,mc=o,Dt=u}Jw(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Y=a):Jw(e)}}function Jw(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dw(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dw(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Dt||t.flags&512&&Dv(t)}catch(h){Ve(t,t.return,h)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function Qw(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function Zw(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rh(4,t)}catch(l){Ve(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Ve(t,i,l)}}var a=t.return;try{Dv(t)}catch(l){Ve(t,a,l)}break;case 5:var s=t.return;try{Dv(t)}catch(l){Ve(t,s,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){Y=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Y=o;break}Y=t.return}}var v5=Math.ceil,Id=di.ReactCurrentDispatcher,V0=di.ReactCurrentOwner,Ir=di.ReactCurrentBatchConfig,he=0,_t=null,rt=null,Nt=0,hr=0,Is=ea(0),ft=0,ql=null,Ma=0,nh=0,G0=0,_l=null,er=null,Y0=0,to=1/0,Ln=null,Md=!1,Lv=null,Fi=null,pc=!1,Ii=null,Dd=0,jl=0,zv=null,Qc=-1,Zc=0;function Kt(){return he&6?Qe():Qc!==-1?Qc:Qc=Qe()}function Bi(e){return e.mode&1?he&2&&Nt!==0?Nt&-Nt:ZD.transition!==null?(Zc===0&&(Zc=bE()),Zc):(e=be,e!==0||(e=window.event,e=e===void 0?16:PE(e.type)),e):1}function rn(e,t,r,n){if(50<jl)throw jl=0,zv=null,Error(F(185));pu(e,r,n),(!(he&2)||e!==_t)&&(e===_t&&(!(he&2)&&(nh|=r),ft===4&&Ni(e,Nt)),or(e,n),r===1&&he===0&&!(t.mode&1)&&(to=Qe()+500,Zf&&ta()))}function or(e,t){var r=e.callbackNode;ZM(e,t);var n=yd(e,e===_t?Nt:0);if(n===0)r!==null&&lw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lw(r),t===1)e.tag===0?QD(e1.bind(null,e)):KE(e1.bind(null,e)),GD(function(){!(he&6)&&ta()}),r=null;else{switch(wE(n)){case 1:r=w0;break;case 4:r=yE;break;case 16:r=gd;break;case 536870912:r=xE;break;default:r=gd}r=HP(r,$P.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $P(e,t){if(Qc=-1,Zc=0,he&6)throw Error(F(327));var r=e.callbackNode;if(Ws()&&e.callbackNode!==r)return null;var n=yd(e,e===_t?Nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rd(e,n);else{t=n;var i=he;he|=2;var a=zP();(_t!==e||Nt!==t)&&(Ln=null,to=Qe()+500,ka(e,t));do try{x5();break}catch(o){LP(e,o)}while(!0);M0(),Id.current=a,he=i,rt!==null?t=0:(_t=null,Nt=0,t=ft)}if(t!==0){if(t===2&&(i=fv(e),i!==0&&(n=i,t=Fv(e,i))),t===1)throw r=ql,ka(e,0),Ni(e,n),or(e,Qe()),r;if(t===6)Ni(e,n);else{if(i=e.current.alternate,!(n&30)&&!g5(i)&&(t=Rd(e,n),t===2&&(a=fv(e),a!==0&&(n=a,t=Fv(e,a))),t===1))throw r=ql,ka(e,0),Ni(e,n),or(e,Qe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:da(e,er,Ln);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=Y0+500-Qe(),10<t)){if(yd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Kt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bv(da.bind(null,e,er,Ln),t);break}da(e,er,Ln);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-tn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v5(n/1960))-n,10<n){e.timeoutHandle=bv(da.bind(null,e,er,Ln),n);break}da(e,er,Ln);break;case 5:da(e,er,Ln);break;default:throw Error(F(329))}}}return or(e,Qe()),e.callbackNode===r?$P.bind(null,e):null}function Fv(e,t){var r=_l;return e.current.memoizedState.isDehydrated&&(ka(e,t).flags|=256),e=Rd(e,t),e!==2&&(t=er,er=r,t!==null&&Bv(t)),e}function Bv(e){er===null?er=e:er.push.apply(er,e)}function g5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!an(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~G0,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tn(t),n=1<<r;e[r]=-1,t&=~n}}function e1(e){if(he&6)throw Error(F(327));Ws();var t=yd(e,0);if(!(t&1))return or(e,Qe()),null;var r=Rd(e,t);if(e.tag!==0&&r===2){var n=fv(e);n!==0&&(t=n,r=Fv(e,n))}if(r===1)throw r=ql,ka(e,0),Ni(e,t),or(e,Qe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,da(e,er,Ln),or(e,Qe()),null}function X0(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(to=Qe()+500,Zf&&ta())}}function Da(e){Ii!==null&&Ii.tag===0&&!(he&6)&&Ws();var t=he;he|=1;var r=Ir.transition,n=be;try{if(Ir.transition=null,be=1,e)return e()}finally{be=n,Ir.transition=r,he=t,!(he&6)&&ta()}}function J0(){hr=Is.current,De(Is)}function ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,VD(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(A0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jd();break;case 3:Zs(),De(ar),De(zt),F0();break;case 5:z0(n);break;case 4:Zs();break;case 13:De(Be);break;case 19:De(Be);break;case 10:D0(n.type._context);break;case 22:case 23:J0()}r=r.return}if(_t=e,rt=e=Ui(e.current,null),Nt=hr=t,ft=0,ql=null,G0=nh=Ma=0,er=_l=null,xa!==null){for(t=0;t<xa.length;t++)if(r=xa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}xa=null}return e}function LP(e,t){do{var r=rt;try{if(M0(),Yc.current=Td,Ad){for(var n=Ue.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ad=!1}if(Ia=0,bt=ct=Ue=null,bl=!1,Ul=0,V0.current=null,r===null||r.return===null){ft=1,ql=t,rt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Nt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Bw(s);if(p!==null){p.flags&=-257,Uw(p,s,o,a,t),p.mode&1&&Fw(a,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Fw(a,u,t),Q0();break e}l=Error(F(426))}}else if(Le&&o.mode&1){var x=Bw(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Uw(x,s,o,a,t),T0(eo(l,o));break e}}a=l=eo(l,o),ft!==4&&(ft=2),_l===null?_l=[a]:_l.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=wP(a,l,t);Mw(a,b);break e;case 1:o=l;var w=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fi===null||!Fi.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=_P(a,o,t);Mw(a,_);break e}}a=a.return}while(a!==null)}BP(r)}catch(j){t=j,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function zP(){var e=Id.current;return Id.current=Td,e===null?Td:e}function Q0(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Ma&268435455)&&!(nh&268435455)||Ni(_t,Nt)}function Rd(e,t){var r=he;he|=2;var n=zP();(_t!==e||Nt!==t)&&(Ln=null,ka(e,t));do try{y5();break}catch(i){LP(e,i)}while(!0);if(M0(),he=r,Id.current=n,rt!==null)throw Error(F(261));return _t=null,Nt=0,ft}function y5(){for(;rt!==null;)FP(rt)}function x5(){for(;rt!==null&&!HM();)FP(rt)}function FP(e){var t=WP(e.alternate,e,hr);e.memoizedProps=e.pendingProps,t===null?BP(e):rt=t,V0.current=null}function BP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=f5(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,rt=null;return}}else if(r=d5(r,t,hr),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ft===0&&(ft=5)}function da(e,t,r){var n=be,i=Ir.transition;try{Ir.transition=null,be=1,b5(e,t,r,n)}finally{Ir.transition=i,be=n}return null}function b5(e,t,r,n){do Ws();while(Ii!==null);if(he&6)throw Error(F(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(eD(e,a),e===_t&&(rt=_t=null,Nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pc||(pc=!0,HP(gd,function(){return Ws(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ir.transition,Ir.transition=null;var s=be;be=1;var o=he;he|=4,V0.current=null,m5(e,r),DP(r,e),FD(yv),xd=!!gv,yv=gv=null,e.current=r,p5(r),qM(),he=o,be=s,Ir.transition=a}else e.current=r;if(pc&&(pc=!1,Ii=e,Dd=i),a=e.pendingLanes,a===0&&(Fi=null),GM(r.stateNode),or(e,Qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,e=Lv,Lv=null,e;return Dd&1&&e.tag!==0&&Ws(),a=e.pendingLanes,a&1?e===zv?jl++:(jl=0,zv=e):jl=0,ta(),null}function Ws(){if(Ii!==null){var e=wE(Dd),t=Ir.transition,r=be;try{if(Ir.transition=null,be=16>e?16:e,Ii===null)var n=!1;else{if(e=Ii,Ii=null,Dd=0,he&6)throw Error(F(331));var i=he;for(he|=4,Y=e.current;Y!==null;){var a=Y,s=a.child;if(Y.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:wl(8,c,a)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,p=c.return;if(TP(c),c===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Y=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Y=s;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wl(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Y=b;break e}Y=a.return}}var w=e.current;for(Y=w;Y!==null;){s=Y;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Y=y;else e:for(s=w;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rh(9,o)}}catch(j){Ve(o,o.return,j)}if(o===s){Y=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Y=_;break e}Y=o.return}}if(he=i,ta(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Gf,e)}catch{}n=!0}return n}finally{be=r,Ir.transition=t}}return!1}function t1(e,t,r){t=eo(r,t),t=wP(e,t,1),e=zi(e,t,1),t=Kt(),e!==null&&(pu(e,1,t),or(e,t))}function Ve(e,t,r){if(e.tag===3)t1(e,e,r);else for(;t!==null;){if(t.tag===3){t1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fi===null||!Fi.has(n))){e=eo(r,e),e=_P(t,e,1),t=zi(t,e,1),e=Kt(),t!==null&&(pu(t,1,e),or(t,e));break}}t=t.return}}function w5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Nt&r)===r&&(ft===4||ft===3&&(Nt&130023424)===Nt&&500>Qe()-Y0?ka(e,0):G0|=r),or(e,t)}function UP(e,t){t===0&&(e.mode&1?(t=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):t=1);var r=Kt();e=ei(e,t),e!==null&&(pu(e,t,r),or(e,r))}function _5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),UP(e,r)}function j5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),UP(e,r)}var WP;WP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ar.current)rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rr=!1,c5(e,t,r);rr=!!(e.flags&131072)}else rr=!1,Le&&t.flags&1048576&&VE(t,Ed,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jc(e,t),e=t.pendingProps;var i=Xs(t,zt.current);Us(t,r),i=U0(null,t,n,e,i,r);var a=W0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(a=!0,Sd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$0(t),i.updater=th,t.stateNode=i,i._reactInternals=t,Pv(t,n,e,r),t=Cv(null,t,n,!0,a,r)):(t.tag=0,Le&&a&&C0(t),Wt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=k5(n),e=Gr(n,e),i){case 0:t=Nv(null,t,n,e,r);break e;case 1:t=qw(null,t,n,e,r);break e;case 11:t=Ww(null,t,n,e,r);break e;case 14:t=Hw(null,t,n,Gr(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Nv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),qw(e,t,n,i,r);case 3:e:{if(EP(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,i=a.element,ZE(e,t),Nd(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=eo(Error(F(423)),t),t=Kw(e,t,n,r,i);break e}else if(n!==i){i=eo(Error(F(424)),t),t=Kw(e,t,n,r,i);break e}else for(pr=Li(t.stateNode.containerInfo.firstChild),gr=t,Le=!0,Jr=null,r=JE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Js(),n===i){t=ti(e,t,r);break e}Wt(e,t,n,r)}t=t.child}return t;case 5:return eP(t),e===null&&Sv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,xv(n,i)?s=null:a!==null&&xv(n,a)&&(t.flags|=32),kP(e,t),Wt(e,t,s,r),t.child;case 6:return e===null&&Sv(t),null;case 13:return PP(e,t,r);case 4:return L0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qs(t,null,n,r):Wt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Ww(e,t,n,i,r);case 7:return Wt(e,t,t.pendingProps,r),t.child;case 8:return Wt(e,t,t.pendingProps.children,r),t.child;case 12:return Wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oe(Pd,n._currentValue),n._currentValue=s,a!==null)if(an(a.value,s)){if(a.children===i.children&&!ar.current){t=ti(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Vn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),kv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(F(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),kv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Wt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Us(t,r),i=Dr(i),n=n(i),t.flags|=1,Wt(e,t,n,r),t.child;case 14:return n=t.type,i=Gr(n,t.pendingProps),i=Gr(n.type,i),Hw(e,t,n,i,r);case 15:return jP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Jc(e,t),t.tag=1,sr(n)?(e=!0,Sd(t)):e=!1,Us(t,r),bP(t,n,i),Pv(t,n,i,r),Cv(null,t,n,!0,e,r);case 19:return OP(e,t,r);case 22:return SP(e,t,r)}throw Error(F(156,t.tag))};function HP(e,t){return gE(e,t)}function S5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,t,r,n){return new S5(e,t,r,n)}function Z0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k5(e){if(typeof e=="function")return Z0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y0)return 11;if(e===x0)return 14}return 2}function Ui(e,t){var r=e.alternate;return r===null?(r=Ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ed(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Z0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case js:return Ea(r.children,i,a,t);case g0:s=8,i|=8;break;case Jp:return e=Ar(12,r,t,i|2),e.elementType=Jp,e.lanes=a,e;case Qp:return e=Ar(13,r,t,i),e.elementType=Qp,e.lanes=a,e;case Zp:return e=Ar(19,r,t,i),e.elementType=Zp,e.lanes=a,e;case eE:return ih(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qk:s=10;break e;case Zk:s=9;break e;case y0:s=11;break e;case x0:s=14;break e;case Si:s=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ar(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ea(e,t,r,n){return e=Ar(7,e,n,t),e.lanes=r,e}function ih(e,t,r,n){return e=Ar(22,e,n,t),e.elementType=eE,e.lanes=r,e.stateNode={isHidden:!1},e}function sp(e,t,r){return e=Ar(6,e,null,t),e.lanes=r,e}function op(e,t,r){return t=Ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E5(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ey(e,t,r,n,i,a,s,o,l){return e=new E5(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ar(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$0(a),e}function P5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qP(e){if(!e)return Vi;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(sr(r))return qE(e,r,t)}return t}function KP(e,t,r,n,i,a,s,o,l){return e=ey(r,n,!0,e,i,a,s,o,l),e.context=qP(null),r=e.current,n=Kt(),i=Bi(r),a=Vn(n,i),a.callback=t??null,zi(r,a,i),e.current.lanes=i,pu(e,i,n),or(e,n),e}function ah(e,t,r,n){var i=t.current,a=Kt(),s=Bi(i);return r=qP(r),t.context===null?t.context=r:t.pendingContext=r,t=Vn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zi(i,t,s),e!==null&&(rn(e,i,s,a),Gc(e,i,s)),s}function $d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ty(e,t){r1(e,t),(e=e.alternate)&&r1(e,t)}function O5(){return null}var VP=typeof reportError=="function"?reportError:function(e){console.error(e)};function ry(e){this._internalRoot=e}sh.prototype.render=ry.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));ah(e,t,null,null)};sh.prototype.unmount=ry.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Da(function(){ah(null,e,null,null)}),t[Zn]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var t=SE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oi.length&&t!==0&&t<Oi[r].priority;r++);Oi.splice(r,0,e),r===0&&EE(e)}};function ny(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n1(){}function N5(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=$d(s);a.call(u)}}var s=KP(t,n,e,0,null,!1,!1,"",n1);return e._reactRootContainer=s,e[Zn]=s.current,$l(e.nodeType===8?e.parentNode:e),Da(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=$d(l);o.call(u)}}var l=ey(e,0,!1,null,null,!1,!1,"",n1);return e._reactRootContainer=l,e[Zn]=l.current,$l(e.nodeType===8?e.parentNode:e),Da(function(){ah(t,l,r,n)}),l}function lh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=$d(s);o.call(l)}}ah(t,s,e,i)}else s=N5(r,t,e,i,n);return $d(s)}_E=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ul(t.pendingLanes);r!==0&&(_0(t,r|1),or(t,Qe()),!(he&6)&&(to=Qe()+500,ta()))}break;case 13:Da(function(){var n=ei(e,1);if(n!==null){var i=Kt();rn(n,e,1,i)}}),ty(e,1)}};j0=function(e){if(e.tag===13){var t=ei(e,134217728);if(t!==null){var r=Kt();rn(t,e,134217728,r)}ty(e,134217728)}};jE=function(e){if(e.tag===13){var t=Bi(e),r=ei(e,t);if(r!==null){var n=Kt();rn(r,e,t,n)}ty(e,t)}};SE=function(){return be};kE=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};uv=function(e,t,r){switch(t){case"input":if(rv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Qf(n);if(!i)throw Error(F(90));rE(n),rv(n,i)}}}break;case"textarea":iE(e,r);break;case"select":t=r.value,t!=null&&Ls(e,!!r.multiple,t,!1)}};dE=X0;fE=Da;var C5={usingClientEntryPoint:!1,Events:[gu,Ps,Qf,uE,cE,X0]},Wo={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A5={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pE(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||O5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Gf=vc.inject(A5),Sn=vc}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C5;_r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(t))throw Error(F(200));return P5(e,t,null,r)};_r.createRoot=function(e,t){if(!ny(e))throw Error(F(299));var r=!1,n="",i=VP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ey(e,1,!1,null,null,r,!1,n,i),e[Zn]=t.current,$l(e.nodeType===8?e.parentNode:e),new ry(t)};_r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=pE(t),e=e===null?null:e.stateNode,e};_r.flushSync=function(e){return Da(e)};_r.hydrate=function(e,t,r){if(!oh(t))throw Error(F(200));return lh(null,e,t,!0,r)};_r.hydrateRoot=function(e,t,r){if(!ny(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=VP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=KP(t,null,e,1,r??null,i,!1,a,s),e[Zn]=t.current,$l(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new sh(t)};_r.render=function(e,t,r){if(!oh(t))throw Error(F(200));return lh(null,e,t,!1,r)};_r.unmountComponentAtNode=function(e){if(!oh(e))throw Error(F(40));return e._reactRootContainer?(Da(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1};_r.unstable_batchedUpdates=X0;_r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oh(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return lh(e,t,r,!1,n)};_r.version="18.3.1-next-f1338f8080-20240426";function GP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GP)}catch(e){console.error(e)}}GP(),Gk.exports=_r;var uh=Gk.exports,YP,i1=uh;YP=i1.createRoot,i1.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a1="popstate";function T5(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Uv("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Kl(i)}return M5(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I5(){return Math.random().toString(36).substring(2,10)}function s1(e,t){return{usr:e.state,key:e.key,idx:t}}function Uv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:r,key:t&&t.key||n||I5()}}function Kl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function M5(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let x=c(),b=x==null?null:x-u;u=x,l&&l({action:o,location:g.location,delta:b})}function h(x,b){o="PUSH";let w=Uv(g.location,x,b);u=c()+1;let y=s1(w,u),_=g.createHref(w);try{s.pushState(y,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function p(x,b){o="REPLACE";let w=Uv(g.location,x,b);u=c();let y=s1(w,u),_=g.createHref(w);s.replaceState(y,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function v(x){return D5(x)}let g={get action(){return o},get location(){return e(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(a1,f),l=x,()=>{i.removeEventListener(a1,f),l=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return g}function D5(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Kl(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function XP(e,t,r="/"){return R5(e,t,r,!1)}function R5(e,t,r,n){let i=typeof t=="string"?go(t):t,a=ri(i.pathname||"/",r);if(a==null)return null;let s=JP(e);$5(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=G5(a);o=K5(s[l],u,n)}return o}function JP(e,t=[],r=[],n="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;Fe(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let f=Gn([n,c.relativePath]),h=r.concat(c);s.children&&s.children.length>0&&(Fe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),JP(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:H5(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of QP(s.path))a(s,o,!0,u)}),t}function QP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=QP(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function $5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:q5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var L5=/^:[\w-]+$/,z5=3,F5=2,B5=1,U5=10,W5=-2,o1=e=>e==="*";function H5(e,t){let r=e.split("/"),n=r.length;return r.some(o1)&&(n+=W5),t&&(n+=F5),r.filter(i=>!o1(i)).reduce((i,a)=>i+(L5.test(a)?z5:a===""?B5:U5),n)}function q5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function K5(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Gn([a,f.pathname]),pathnameBase:Q5(Gn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Gn([a,f.pathnameBase]))}return s}function Ld(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=V5(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:f},h)=>{if(c==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function V5(e,t=!1,r=!0){$r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function G5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var Y5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function X5(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?go(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=l1(r.substring(1),"/"):a=l1(r,t)):a=t,{pathname:a,search:Z5(n),hash:eR(i)}}function l1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function lp(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iy(e){let t=J5(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ay(e,t,r,n=!1){let i;typeof e=="string"?i=go(e):(i={...e},Fe(!i.pathname||!i.pathname.includes("?"),lp("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),lp("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),lp("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=X5(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Gn=e=>e.join("/").replace(/\/\/+/g,"/"),Q5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,tR=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function rR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function nR(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eO(e,t){let r=e;if(typeof r!="string"||!Y5.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(ZP)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),o=ri(s.pathname,t);s.origin===a.origin&&o!=null?r=o+s.search+s.hash:i=!0}catch{$r(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tO=["POST","PUT","PATCH","DELETE"];new Set(tO);var iR=["GET",...tO];new Set(iR);var yo=m.createContext(null);yo.displayName="DataRouter";var ch=m.createContext(null);ch.displayName="DataRouterState";var aR=m.createContext(!1),rO=m.createContext({isTransitioning:!1});rO.displayName="ViewTransition";var sR=m.createContext(new Map);sR.displayName="Fetchers";var oR=m.createContext(null);oR.displayName="Await";var Sr=m.createContext(null);Sr.displayName="Navigation";var xu=m.createContext(null);xu.displayName="Location";var Br=m.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var sy=m.createContext(null);sy.displayName="RouteError";var nO="REACT_ROUTER_ERROR",lR="REDIRECT",uR="ROUTE_ERROR_RESPONSE";function cR(e){if(e.startsWith(`${nO}:${lR}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function dR(e){if(e.startsWith(`${nO}:${uR}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tR(t.status,t.statusText,t.data)}catch{}}function fR(e,{relative:t}={}){Fe(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Sr),{hash:i,pathname:a,search:s}=bu(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:Gn([r,a])),n.createHref({pathname:o,search:s,hash:i})}function xo(){return m.useContext(xu)!=null}function fi(){return Fe(xo(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(xu).location}var iO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aO(e){m.useContext(Sr).static||m.useLayoutEffect(e)}function Xa(){let{isDataRoute:e}=m.useContext(Br);return e?OR():hR()}function hR(){Fe(xo(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(yo),{basename:t,navigator:r}=m.useContext(Sr),{matches:n}=m.useContext(Br),{pathname:i}=fi(),a=JSON.stringify(iy(n)),s=m.useRef(!1);return aO(()=>{s.current=!0}),m.useCallback((l,u={})=>{if($r(s.current,iO),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=ay(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Gn([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,a,i,e])}var mR=m.createContext(null);function pR(e){let t=m.useContext(Br).outlet;return m.useMemo(()=>t&&m.createElement(mR.Provider,{value:e},t),[t,e])}function vR(){let{matches:e}=m.useContext(Br),t=e[e.length-1];return t?t.params:{}}function bu(e,{relative:t}={}){let{matches:r}=m.useContext(Br),{pathname:n}=fi(),i=JSON.stringify(iy(r));return m.useMemo(()=>ay(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function gR(e,t){return sO(e,t)}function sO(e,t,r,n,i){var w;Fe(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(Sr),{matches:s}=m.useContext(Br),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let y=f&&f.path||"";lO(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=fi(),p;if(t){let y=typeof t=="string"?go(t):t;Fe(c==="/"||((w=y.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=h;let v=p.pathname||"/",g=v;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=XP(e,{pathname:g});$r(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),$r(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=_R(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Gn([c,a.encodeLocation?a.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Gn([c,a.encodeLocation?a.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),s,r,n,i);return t&&b?m.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function yR(){let e=PR(),t=rR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:a},"ErrorBoundary")," or"," ",m.createElement("code",{style:a},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:i},r):null,s)}var xR=m.createElement(yR,null),oO=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=dR(e.digest);r&&(e=r)}let t=e!==void 0?m.createElement(Br.Provider,{value:this.props.routeContext},m.createElement(sy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?m.createElement(bR,{error:e},t):t}};oO.contextType=aR;var up=new WeakMap;function bR({children:e,error:t}){let{basename:r}=m.useContext(Sr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=cR(t.digest);if(n){let i=up.get(t);if(i)throw i;let a=eO(n.location,r);if(ZP&&!up.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw up.set(t,s),s}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function wR({routeContext:e,match:t,children:r}){let n=m.useContext(yo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Br.Provider,{value:e},r)}function _R(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Fe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=r&&n?(c,f)=>{var h,p;n(c,{location:r.location,params:((p=(h=r.matches)==null?void 0:h[0])==null?void 0:p.params)??{},unstable_pattern:nR(r.matches),errorInfo:f})}:void 0;return a.reduceRight((c,f,h)=>{let p,v=!1,g=null,x=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||xR,o&&(l<0&&h===0?(lO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):l===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),w=()=>{let y;return p?y=g:v?y=x:f.route.Component?y=m.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,m.createElement(wR,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(oO,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function oy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jR(e){let t=m.useContext(yo);return Fe(t,oy(e)),t}function SR(e){let t=m.useContext(ch);return Fe(t,oy(e)),t}function kR(e){let t=m.useContext(Br);return Fe(t,oy(e)),t}function ly(e){let t=kR(e),r=t.matches[t.matches.length-1];return Fe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ER(){return ly("useRouteId")}function PR(){var n;let e=m.useContext(sy),t=SR("useRouteError"),r=ly("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function OR(){let{router:e}=jR("useNavigate"),t=ly("useNavigate"),r=m.useRef(!1);return aO(()=>{r.current=!0}),m.useCallback(async(i,a={})=>{$r(r.current,iO),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var u1={};function lO(e,t,r){!t&&!u1[e]&&(u1[e]=!0,$r(!1,r))}m.memo(NR);function NR({routes:e,future:t,state:r,onError:n}){return sO(e,void 0,r,n,t)}function uy({to:e,replace:t,state:r,relative:n}){Fe(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(Sr);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=m.useContext(Br),{pathname:s}=fi(),o=Xa(),l=ay(e,iy(a),s,n==="path"),u=JSON.stringify(l);return m.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function CR(e){return pR(e.context)}function qr(e){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AR({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Fe(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof r=="string"&&(r=go(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:p="default"}=r,v=m.useMemo(()=>{let g=ri(u,o);return g==null?null:{location:{pathname:g,search:c,hash:f,state:h,key:p},navigationType:n}},[o,u,c,f,h,p,n]);return $r(v!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:m.createElement(Sr.Provider,{value:l},m.createElement(xu.Provider,{children:t,value:v}))}function TR({children:e,location:t}){return gR(Wv(e),t)}function Wv(e,t=[]){let r=[];return m.Children.forEach(e,(n,i)=>{if(!m.isValidElement(n))return;let a=[...t,i];if(n.type===m.Fragment){r.push.apply(r,Wv(n.props.children,a));return}Fe(n.type===qr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Wv(n.props.children,a)),r.push(s)}),r}var td="get",rd="application/x-www-form-urlencoded";function dh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function IR(e){return dh(e)&&e.tagName.toLowerCase()==="button"}function MR(e){return dh(e)&&e.tagName.toLowerCase()==="form"}function DR(e){return dh(e)&&e.tagName.toLowerCase()==="input"}function RR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $R(e,t){return e.button===0&&(!t||t==="_self")&&!RR(e)}function Hv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function LR(e,t){let r=Hv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var gc=null;function zR(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var FR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(e){return e!=null&&!FR.has(e)?($r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):e}function BR(e,t){let r,n,i,a,s;if(MR(e)){let o=e.getAttribute("action");n=o?ri(o,t):null,r=e.getAttribute("method")||td,i=cp(e.getAttribute("enctype"))||rd,a=new FormData(e)}else if(IR(e)||DR(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?ri(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||td,i=cp(e.getAttribute("formenctype"))||cp(o.getAttribute("enctype"))||rd,a=new FormData(o,e),!zR()){let{name:u,type:c,value:f}=e;if(c==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(dh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=td,n=null,i=rd,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UR(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ri(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function WR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function qR(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await WR(a,r);return s.links?s.links():[]}return[]}));return YR(n.flat(1).filter(HR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function c1(e,t,r,n,i,a){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function KR(e,t,{includeHydrateFallback:r}={}){return VR(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function VR(e){return[...new Set(e)]}function GR(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function YR(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(GR(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function uO(){let e=m.useContext(yo);return cy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XR(){let e=m.useContext(ch);return cy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dy=m.createContext(void 0);dy.displayName="FrameworkContext";function cO(){let e=m.useContext(dy);return cy(e,"You must render this element inside a <HydratedRouter> element"),e}function JR(e,t){let r=m.useContext(dy),[n,i]=m.useState(!1),[a,s]=m.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let g=b=>{b.forEach(w=>{s(w.isIntersecting)})},x=new IntersectionObserver(g,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),m.useEffect(()=>{if(n){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{i(!0)},v=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:Ho(o,p),onBlur:Ho(l,v),onMouseEnter:Ho(u,p),onMouseLeave:Ho(c,v),onTouchStart:Ho(f,p)}]:[!1,h,{}]}function Ho(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function QR({page:e,...t}){let{router:r}=uO(),n=m.useMemo(()=>XP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(e$,{page:e,matches:n,...t}):null}function ZR(e){let{manifest:t,routeModules:r}=cO(),[n,i]=m.useState([]);return m.useEffect(()=>{let a=!1;return qR(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function e$({page:e,matches:t,...r}){let n=fi(),{future:i,manifest:a,routeModules:s}=cO(),{basename:o}=uO(),{loaderData:l,matches:u}=XR(),c=m.useMemo(()=>c1(e,t,u,a,n,"data"),[e,t,u,a,n]),f=m.useMemo(()=>c1(e,t,u,a,n,"assets"),[e,t,u,a,n]),h=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,x=!1;if(t.forEach(w=>{var _;let y=a.routes[w.route.id];!y||!y.hasLoader||(!c.some(j=>j.route.id===w.route.id)&&w.route.id in l&&((_=s[w.route.id])!=null&&_.shouldRevalidate)||y.hasClientLoader?x=!0:g.add(w.route.id))}),g.size===0)return[];let b=UR(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return x&&g.size>0&&b.searchParams.set("_routes",t.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,n,a,c,t,e,s]),p=m.useMemo(()=>KR(f,a),[f,a]),v=ZR(f);return m.createElement(m.Fragment,null,h.map(g=>m.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>m.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),v.map(({key:g,link:x})=>m.createElement("link",{key:g,nonce:r.nonce,...x,crossOrigin:x.crossOrigin??r.crossOrigin})))}function t$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var r$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r$&&(window.__reactRouterVersion="7.13.0")}catch{}function n$({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=m.useRef();i.current==null&&(i.current=T5({window:n,v5Compat:!0}));let a=i.current,[s,o]=m.useState({action:a.action,location:a.location}),l=m.useCallback(u=>{r===!1?o(u):m.startTransition(()=>o(u))},[r]);return m.useLayoutEffect(()=>a.listen(l),[a,l]),m.createElement(AR,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:r})}var dO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fO=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},v){let{basename:g,unstable_useTransitions:x}=m.useContext(Sr),b=typeof u=="string"&&dO.test(u),w=eO(u,g);u=w.to;let y=fR(u,{relative:i}),[_,j,S]=JR(n,p),k=s$(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:x});function E(C){t&&t(C),C.defaultPrevented||k(C)}let O=m.createElement("a",{...p,...S,href:w.absoluteURL||y,onClick:w.isExternal||a?t:E,ref:t$(v,j),target:l,"data-discover":!b&&r==="render"?"true":void 0});return _&&!b?m.createElement(m.Fragment,null,O,m.createElement(QR,{page:y})):O});fO.displayName="Link";var hO=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=bu(s,{relative:u.relative}),h=fi(),p=m.useContext(ch),{navigator:v,basename:g}=m.useContext(Sr),x=p!=null&&d$(f)&&o===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=h.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),y=y?y.toLowerCase():null,b=b.toLowerCase()),y&&g&&(y=ri(y,g)||y);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=w===b||!i&&w.startsWith(b)&&w.charAt(_)==="/",S=y!=null&&(y===b||!i&&y.startsWith(b)&&y.charAt(b.length)==="/"),k={isActive:j,isPending:S,isTransitioning:x},E=j?t:void 0,O;typeof n=="function"?O=n(k):O=[n,j?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(k):a;return m.createElement(fO,{...u,"aria-current":E,className:O,ref:c,style:C,to:s,viewTransition:o},typeof l=="function"?l(k):l)});hO.displayName="NavLink";var i$=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=td,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},v)=>{let{unstable_useTransitions:g}=m.useContext(Sr),x=u$(),b=c$(o,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&dO.test(o),_=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let S=j.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||s,E=()=>x(S||j.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:h});g&&r!==!1?m.startTransition(()=>E()):E()};return m.createElement("form",{ref:v,method:w,action:b,onSubmit:n?l:_,...p,"data-discover":!y&&e==="render"?"true":void 0})});i$.displayName="Form";function a$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mO(e){let t=m.useContext(yo);return Fe(t,a$(e)),t}function s$(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Xa(),c=fi(),f=bu(e,{relative:a});return m.useCallback(h=>{if($R(h,t)){h.preventDefault();let p=r!==void 0?r:Kl(c)===Kl(f),v=()=>u(e,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?m.startTransition(()=>v()):v()}},[c,u,f,r,n,t,e,i,a,s,o,l])}function pO(e){$r(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Hv(e)),r=m.useRef(!1),n=fi(),i=m.useMemo(()=>LR(n.search,r.current?null:t.current),[n.search]),a=Xa(),s=m.useCallback((o,l)=>{const u=Hv(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}var o$=0,l$=()=>`__${String(++o$)}__`;function u$(){let{router:e}=mO("useSubmit"),{basename:t}=m.useContext(Sr),r=ER(),n=e.fetch,i=e.navigate;return m.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:c,body:f}=BR(a,t);if(s.navigate===!1){let h=s.fetcherKey||l$();await n(h,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,t,r])}function c$(e,{relative:t}={}){let{basename:r}=m.useContext(Sr),n=m.useContext(Br);Fe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...bu(e||".",{relative:t})},s=fi();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Gn([r,a.pathname])),Kl(a)}function d$(e,{relative:t}={}){let r=m.useContext(rO);Fe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mO("useViewTransitionState"),i=bu(e,{relative:t});if(!r.isTransitioning)return!1;let a=ri(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ri(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ld(i.pathname,s)!=null||Ld(i.pathname,a)!=null}const f$="modulepreload",h$=function(e){return"/"+e},d1={},wu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=h$(l),l in d1)return;d1[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":f$,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},m$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class fy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class p$ extends fy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class f1 extends fy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class h1 extends fy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qv||(qv={}));var v$=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class g${constructor(t,{headers:r={},customFetch:n,region:i=qv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=m$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return v$(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(g=>{throw new p$(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new f1(f);if(!f.ok)throw new h1(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof h1||i instanceof f1?i.context:void 0}}})}}var tr={},hy={},fh={},_u={},hh={},mh={},y$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=y$();const x$=ro.fetch,vO=ro.fetch.bind(ro),gO=ro.Headers,b$=ro.Request,w$=ro.Response,bo=Object.freeze(Object.defineProperty({__proto__:null,Headers:gO,Request:b$,Response:w$,default:vO,fetch:x$},Symbol.toStringTag,{value:"Module"})),_$=iM(bo);var ph={};Object.defineProperty(ph,"__esModule",{value:!0});let j$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ph.default=j$;var yO=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mh,"__esModule",{value:!0});const S$=yO(_$),k$=yO(ph);let E$=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=S$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,u;let c=null,f=null,h=null,p=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=w:f=JSON.parse(w))}const x=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const x=await a.text();try{c=JSON.parse(x),Array.isArray(c)&&a.status===404&&(f=[],c=null,p=200,v="OK")}catch{a.status===404&&x===""?(p=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new k$.default(c)}return{error:c,data:f,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};mh.default=E$;var P$=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hh,"__esModule",{value:!0});const O$=P$(mh);let N$=class extends O$.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};hh.default=N$;var C$=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_u,"__esModule",{value:!0});const A$=C$(hh);let T$=class extends A$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};_u.default=T$;var I$=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fh,"__esModule",{value:!0});const qo=I$(_u);let M$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new qo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};fh.default=M$;var xO=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hy,"__esModule",{value:!0});const D$=xO(fh),R$=xO(_u);let $$=class bO{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new D$.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(o="POST",u=r);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new R$.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};hy.default=$$;var wo=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tr,"__esModule",{value:!0});tr.PostgrestError=tr.PostgrestBuilder=tr.PostgrestTransformBuilder=tr.PostgrestFilterBuilder=tr.PostgrestQueryBuilder=tr.PostgrestClient=void 0;const wO=wo(hy);tr.PostgrestClient=wO.default;const _O=wo(fh);tr.PostgrestQueryBuilder=_O.default;const jO=wo(_u);tr.PostgrestFilterBuilder=jO.default;const SO=wo(hh);tr.PostgrestTransformBuilder=SO.default;const kO=wo(mh);tr.PostgrestBuilder=kO.default;const EO=wo(ph);tr.PostgrestError=EO.default;var L$=tr.default={PostgrestClient:wO.default,PostgrestQueryBuilder:_O.default,PostgrestFilterBuilder:jO.default,PostgrestTransformBuilder:SO.default,PostgrestBuilder:kO.default,PostgrestError:EO.default};const{PostgrestClient:z$,PostgrestQueryBuilder:Mre,PostgrestFilterBuilder:Dre,PostgrestTransformBuilder:Rre,PostgrestBuilder:$re,PostgrestError:Lre}=L$;class F${static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const B$="2.15.5",U$=`realtime-js/${B$}`,W$="1.0.0",Kv=1e4,H$=1e3,q$=100;var Sl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sl||(Sl={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var Xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xr||(Xr={}));var Vv;(function(e){e.websocket="websocket"})(Vv||(Vv={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class K${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class PO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const m1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=V$(s,e,t,i),a),{})},V$=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?OO(a,s):Gv(s)},OO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J$(t,r)}switch(e){case Ee.bool:return G$(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Y$(t);case Ee.json:case Ee.jsonb:return X$(t);case Ee.timestamp:return Q$(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Gv(t);default:return Gv(t)}},Gv=e=>e,G$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Y$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},X$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>OO(t,o))}return e},Q$=e=>typeof e=="string"?e.replace(" ","T"):e,NO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class dp{constructor(t,r,n={},i=Kv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p1||(p1={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=kl.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const f=a[u];if(f){const h=c.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=c.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),g.length>0&&(l[u]=g)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const f=t[o].map(p=>p.presence_ref),h=c.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,c,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(v1||(v1={}));var El;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(El||(El={}));var zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class my{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dp(this,Xr.join,this.params,this.timeout),this.rejoinTimer=new PO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new kl(this),this.broadcastEndpointURL=NO(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[El.PRESENCE]&&this.bindings[El.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(zn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(zn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(zn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,b=[];for(let w=0;w<x;w++){const y=g[w],{filter:{event:_,schema:j,table:S,filter:k}}=y,E=p&&p[w];if(E&&E.event===_&&E.schema===j&&E.table===S&&E.filter===k)b.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=lt.errored,t==null||t(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(zn.SUBSCRIBED);return}}).receive("error",p=>{this.state=lt.errored,t==null||t(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===lt.joined&&t===El.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new dp(this,Xr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>q$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=Xr;if(n&&[o,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,g,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var v,g,x,b,w,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:x,commit_timestamp:b,type:w,errors:y}=v;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:b,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&my.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xr.close,{},t)}_onError(t){this._on(Xr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=m1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=m1(t.columns,t.old_record)),r}}const fp=()=>{},yc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Z$=[1e3,2e3,5e3,1e4],eL=1e4,tL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rL{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kv,this.transport=null,this.heartbeatIntervalMs=yc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fp,this.ref=0,this.reconnectTimer=null,this.logger=fp,this.conn=null,this.sendBuffer=[],this.serializer=new K$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>wu(async()=>{const{default:o}=await Promise.resolve().then(()=>bo);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Vv.websocket}`,this.httpEndpoint=NO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W$}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sl.connecting:return ga.Connecting;case Sl.open:return ga.Open;case Sl.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new my(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(H$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},yc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:U$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Xr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,c;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Kv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:yc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:fp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Z$[f-1]||eL,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class py extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nL extends py{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yv extends py{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var iL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const CO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aL=()=>iL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wu(()=>Promise.resolve().then(()=>bo),void 0)).Response:Response}),Xv=e=>{if(Array.isArray(e))return e.map(r=>Xv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Xv(n)}),t},sL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ja=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const hp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oL=(e,t,r)=>Ja(void 0,void 0,void 0,function*(){const n=yield aL();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new nL(hp(i),a,s))}).catch(i=>{t(new Yv(hp(i),i))}):t(new Yv(hp(e),e))}),lL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(sL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ju(e,t,r,n,i,a){return Ja(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,lL(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>oL(l,o,n))})})}function zd(e,t,r,n){return Ja(this,void 0,void 0,function*(){return ju(e,"GET",t,r,n)})}function yn(e,t,r,n,i){return Ja(this,void 0,void 0,function*(){return ju(e,"POST",t,n,i,r)})}function Jv(e,t,r,n,i){return Ja(this,void 0,void 0,function*(){return ju(e,"PUT",t,n,i,r)})}function uL(e,t,r,n){return Ja(this,void 0,void 0,function*(){return ju(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function AO(e,t,r,n,i){return Ja(this,void 0,void 0,function*(){return ju(e,"DELETE",t,n,i,r)})}var Bt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const cL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dL{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=CO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Bt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},g1),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=yield(t=="PUT"?Jv:yn)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Bt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:g1.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Jv(this.fetch,o.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ut(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield yn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new py("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}update(t,r,n){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Bt(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Bt(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield yn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Bt(this,void 0,void 0,function*(){try{const i=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}download(t,r){return Bt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield zd(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ut(o))return{data:null,error:o};throw o}})}info(t){return Bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}exists(t){return Bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n)&&n instanceof Yv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Bt(this,void 0,void 0,function*(){try{return{data:yield AO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}list(t,r,n){return Bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cL),r),{prefix:t||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}listV2(t,r){return Bt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fL="2.12.1",hL={"X-Client-Info":`storage-js/${fL}`};var us=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class mL{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},hL),r),this.fetch=CO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}getBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return us(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return us(this,void 0,void 0,function*(){try{return{data:yield Jv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}emptyBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}deleteBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield AO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}}class pL extends mL{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new dL(this.url,this.headers,t,this.fetch)}}const vL="2.57.4";let dl="";typeof Deno<"u"?dl="deno":typeof document<"u"?dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dl="react-native":dl="node";const gL={"X-Client-Info":`supabase-js-${dl}/${vL}`},yL={headers:gL},xL={schema:"public"},bL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wL={};var _L=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const jL=e=>{let t;return e?t=e:typeof fetch>"u"?t=vO:t=fetch,(...r)=>t(...r)},SL=()=>typeof Headers>"u"?gO:Headers,kL=(e,t,r)=>{const n=jL(r),i=SL();return(a,s)=>_L(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var EL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};function PL(e){return e.endsWith("/")?e:e+"/"}function OL(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>EL(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function NL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TO="2.71.1",xs=30*1e3,Qv=3,mp=Qv*xs,CL="http://localhost:9999",AL="supabase.auth.token",TL={"X-Client-Info":`gotrue-js/${TO}`},Zv="X-Supabase-Api-Version",IO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ML=10*60*1e3;class vy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DL extends vy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RL(e){return ie(e)&&e.name==="AuthApiError"}class MO extends vy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ra extends vy{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ji extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $L(e){return ie(e)&&e.name==="AuthSessionMissingError"}class xc extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bc extends ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wc extends ra{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LL(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class y1 extends ra{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eg extends ra{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pp(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class x1 extends ra{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tg extends ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b1=` 	
\r=`.split(""),zL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<b1.length;t+=1)e[b1[t].charCodeAt(0)]=-2;for(let t=0;t<Fd.length;t+=1)e[Fd[t].charCodeAt(0)]=t;return e})();function w1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fd[n]),t.queuedBits-=6}}function DO(e,t,r){const n=zL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _1(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{UL(s,n,r)};for(let s=0;s<e.length;s+=1)DO(e.charCodeAt(s),i,a);return t.join("")}function FL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}FL(n,t)}}function UL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function WL(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)DO(e.charCodeAt(i),r,n);return new Uint8Array(t)}function HL(e){const t=[];return BL(e,r=>t.push(r)),new Uint8Array(t)}function qL(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>w1(i,r,n)),w1(null,r,n),t.join("")}function KL(e){return Math.round(Date.now()/1e3)+e}function VL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kr=()=>typeof window<"u"&&typeof document<"u",oa={tested:!1,writable:!1},RO=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oa.tested)return oa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oa.tested=!0,oa.writable=!0}catch{oa.tested=!0,oa.writable=!1}return oa.writable};function GL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const $O=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},YL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},la=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wi=async(e,t)=>{await e.removeItem(t)};class vh{constructor(){this.promise=new vh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vh.promiseConstructor=Promise;function vp(e){const t=e.split(".");if(t.length!==3)throw new tg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!IL.test(t[n]))throw new tg("JWT not in base64url format");return{header:JSON.parse(_1(t[0])),payload:JSON.parse(_1(t[1])),signature:WL(t[2]),raw:{header:t[0],payload:t[1]}}}async function XL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JL(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function QL(e){return("0"+e.toString(16)).substr(-2)}function ZL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,QL).join("")}async function e4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function t4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await e4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(e,t,r=!1){const n=ZL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bs(e,`${t}-code-verifier`,i);const a=await t4(n);return[a,n===a?"plain":"s256"]}const r4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n4(e){const t=e.headers.get(Zv);if(!t||!t.match(r4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function i4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(e){if(!s4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function j1(e){return JSON.parse(JSON.stringify(e))}var o4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l4=[502,503,504];async function S1(e){var t;if(!YL(e))throw new eg(fa(e),0);if(l4.includes(e.status))throw new eg(fa(e),e.status);let r;try{r=await e.json()}catch(a){throw new MO(fa(a),a)}let n;const i=n4(e);if(i&&i.getTime()>=IO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new x1(fa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ji}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new x1(fa(r),e.status,r.weak_password.reasons);throw new DL(fa(r),e.status||500,n)}const u4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function de(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Zv]||(a[Zv]=IO["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await c4(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function c4(e,t,r,n,i,a){const s=u4(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new eg(fa(l),0)}if(o.ok||await S1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await S1(l)}}function $n(e){var t;let r=null;m4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function k1(e){const t=$n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ci(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d4(e){return{data:e,error:null}}function f4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=o4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function h4(e){return e}function m4(e){return e.access_token&&e.refresh_token&&e.expires_in}const yp=["global","local","others"];var p4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class v4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$O(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=yp[0]){if(yp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yp.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ci})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=p4(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:f4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ci})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:h4});if(c.error)throw c.error;const f=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ds(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ci})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ds(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ci})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ds(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ci})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ds(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ds(t.userId),ds(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function E1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function g4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&RO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y4 extends LO{}async function x4(e,t,r){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}g4();const b4={url:CL,storageKey:AL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P1(e,t,r){return await r()}const hs={};class Vl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vl.nextInstanceID,Vl.nextInstanceID+=1,this.instanceID>0&&Kr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},b4),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new v4({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$O(i.fetch),this.lock=i.lock||P1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Kr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=x4:this.lock=P1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:RO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=E1(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=hs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=GL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),LL(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new MO("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$n}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:c,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await cs(this.storage,this.storageKey)),a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:$n})}else if("phone"in t){const{phone:c,password:f,options:h}=t;a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$n})}else throw new bc("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:k1})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:k1})}else throw new bc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,l,u,c,f,h,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:x,wallet:b,statement:w,options:y}=t;let _;if(Kr())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:x,error:b}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:qL(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$n});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new xc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(ie(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await la(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$n});if(await wi(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new xc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ie(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$n}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await cs(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bc("You must provide either an email or phone number.")}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$n});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await cs(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:d4})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ji;const{error:i}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new bc("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await la(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=gp()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ci}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ci})})}catch(r){if(ie(r))return $L(r)&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ji;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await cs(this.storage,this.storageKey));const{data:u,error:c}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ci});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ji;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=vp(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ji;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kr())throw new wc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new y1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new y1("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new wc("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let h=c+f;l&&(h=parseInt(l));const p=h-c;p*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(RL(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await cs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await JL(async i=>(i>0&&await XL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$n})),(i,a)=>{const s=200*Math.pow(2,i);return a&&pp(a)&&Date.now()+s-n<xs})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await la(this.storage,this.storageKey);if(i&&this.userStorage){let s=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await bs(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:gp()}else if(i&&!i.user&&!i.user){const s=await la(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await wi(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,i)):i.user=gp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${mp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),pp(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vh;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ji;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ie(a)){const s={session:null,error:a};return pp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bs(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=j1(i);await bs(this.storage,this.storageKey,a)}else{const i=j1(r);await bs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await wi(this.storage,this.storageKey),await wi(this.storage,this.storageKey+"-code-verifier"),await wi(this.storage,this.storageKey+"-user"),this.userStorage&&await wi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xs}ms, refresh threshold is ${Qv} ticks`),i<=Qv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await cs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=vp(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+ML>i)return n;const{data:a,error:s}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=vp(n);r!=null&&r.allowExpired||i4(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const c=a4(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,s,HL(`${o}.${l}`)))throw new tg("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}Vl.nextInstanceID=0;const w4=Vl;class _4 extends w4{constructor(t){super(t)}}var j4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class S4{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=NL(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:xL,realtime:wL,auth:Object.assign(Object.assign({},bL),{storageKey:l}),global:yL},c=OL(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=kL(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new z$(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new pL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new g$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return j4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k4=(e,t,r)=>new S4(e,t,r);function E4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}E4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P4="https://nmfgoikvqwbhllthlrbu.supabase.co",O4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss",z=k4(P4,O4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage}}),zO=m.createContext(null);function N4({children:e}){const[t,r]=m.useState(null),[n,i]=m.useState(null),[a,s]=m.useState(null),[o,l]=m.useState(!0);m.useEffect(()=>{z.auth.getSession().then(({data:{session:x}})=>{i(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?u(x.user.id):l(!1)});const{data:{subscription:g}}=z.auth.onAuthStateChange((x,b)=>{x==="SIGNED_OUT"?(i(null),r(null),s(null),l(!1)):b&&(i(b),r(b.user),u(b.user.id))});return()=>g.unsubscribe()},[]);async function u(g){try{const{data:x,error:b}=await z.from("profiles").select("role, is_active").eq("id",g).maybeSingle();if(b){console.error("Error loading profile:",b),s("agent"),l(!1);return}x?x.is_active===!1?(await z.auth.signOut(),s(null),r(null),i(null)):s(x.role):s("agent")}catch(x){console.error("Error loading profile:",x),s("agent")}finally{l(!1)}}async function c(g,x){try{const{data:b,error:w}=await z.auth.signInWithPassword({email:g,password:x});if(w)return{error:w.message};if(b.user){const{data:y}=await z.from("profiles").select("is_active").eq("id",b.user.id).maybeSingle();if(!(y!=null&&y.is_active))return await z.auth.signOut(),{error:"Votre compte est dsactiv. Contactez un administrateur."}}return{error:null}}catch{return{error:"Erreur de connexion. Veuillez ressayer."}}}async function f(){await z.auth.signOut(),r(null),i(null),s(null)}const h=a==="admin",p=a==="manager"||h,v=p||h;return d.jsx(zO.Provider,{value:{authenticated:!!t,loading:o,user:t,session:n,userRole:a,isAdmin:h,isManager:p,canManage:v,signIn:c,signOut:f},children:e})}function _o(){const e=m.useContext(zO);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>m.createElement("svg",{ref:c,...C4,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${A4(e)}`,o].join(" "),...u},[...t.map(([f,h])=>m.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=K("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=K("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=K("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=K("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=K("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=K("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=K("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=K("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=K("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=K("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=K("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=K("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=K("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=K("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=K("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=K("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=K("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=K("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=K("MinusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=K("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=K("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=K("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=K("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=K("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=K("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=K("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=K("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=K("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=K("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),d3=[{to:"/",icon:Y4,label:"Tableau de bord"},{to:"/inbox",icon:xy,label:"Bote de rception"},{to:"/templates",icon:Pn,label:"Modles"},{to:"/knowledge",icon:UO,label:"Base de connaissances"},{to:"/reports",icon:R4,label:"Rapports"},{to:"/admin",icon:by,label:"Admin"}];function f3({collapsed:e,onToggle:t}){const{signOut:r}=_o(),[n,i]=m.useState([]),[a,s]=m.useState(!1),[o,l]=pO();m.useEffect(()=>{u()},[]);async function u(){const{data:f}=await z.from("mailboxes").select("*").eq("is_active",!0).order("name");f&&i(f)}function c(f){const h=new URLSearchParams(o);f?h.set("mailbox",f):h.delete("mailbox"),l(h),s(!1)}return d.jsxs("aside",{className:`fixed top-0 left-0 h-screen bg-slate-900 text-white flex flex-col z-30 transition-all duration-300 ${e?"w-16":"w-60"}`,children:[d.jsxs("div",{className:"flex items-center gap-3 px-4 h-16 border-b border-slate-800 shrink-0",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-cyan-500 flex items-center justify-center shrink-0",children:d.jsx(Wi,{className:"w-4 h-4 text-white"})}),!e&&d.jsx("span",{className:"font-bold text-lg tracking-tight",children:"EmailOps"})]}),d.jsx("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:d3.map((f,h)=>d.jsxs("div",{children:[d.jsxs(hO,{to:f.to,end:f.to==="/",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${p?"bg-cyan-500/15 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"} ${e?"justify-center":""}`,children:[d.jsx(f.icon,{className:"w-5 h-5 shrink-0"}),!e&&d.jsx("span",{children:f.label})]}),f.to==="/inbox"&&!e&&n.length>0&&d.jsxs("div",{className:"ml-3 mt-1 space-y-0.5",children:[d.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 px-3 py-1.5 text-xs text-slate-400 hover:text-slate-300 transition w-full",children:[d.jsx(Ms,{className:`w-3 h-3 transition-transform ${a?"rotate-180":""}`}),d.jsx("span",{children:"Botes mail"})]}),a&&d.jsxs("div",{className:"space-y-0.5 pl-3",children:[d.jsx("button",{onClick:()=>c(null),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition ${o.get("mailbox")?"text-slate-400 hover:text-white hover:bg-slate-800":"bg-cyan-500/10 text-cyan-400"}`,children:"Toutes les botes"}),n.map(p=>d.jsx("button",{onClick:()=>c(p.id),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition truncate ${o.get("mailbox")===p.id?"bg-cyan-500/10 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:p.name,children:p.name},p.id))]})]})]},f.to))}),d.jsxs("div",{className:"px-2 py-3 border-t border-slate-800 space-y-1",children:[!e&&d.jsxs("div",{className:"px-3 py-2 mb-1",children:[d.jsx("p",{className:"text-sm font-medium text-slate-200 truncate",children:"Administrateur"}),d.jsx("p",{className:"text-xs text-slate-500",children:"Admin"})]}),d.jsxs("button",{onClick:r,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors w-full ${e?"justify-center":""}`,children:[d.jsx(J4,{className:"w-5 h-5 shrink-0"}),!e&&d.jsx("span",{children:"Deconnexion"})]}),d.jsxs("button",{onClick:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-slate-500 hover:text-slate-300 transition-colors w-full ${e?"justify-center":""}`,children:[e?d.jsx(yy,{className:"w-4 h-4"}):d.jsx(gy,{className:"w-4 h-4"}),!e&&d.jsx("span",{className:"text-xs",children:"Rduire"})]})]})]})}function h3(){const[e,t]=m.useState(!1);return d.jsxs("div",{className:"min-h-screen bg-slate-50",children:[d.jsx(f3,{collapsed:e,onToggle:()=>t(!e)}),d.jsx("div",{className:`transition-all duration-300 ${e?"ml-16":"ml-60"}`,children:d.jsx(CR,{})})]})}function m3(){const{signIn:e}=_o(),[t,r]=m.useState(""),[n,i]=m.useState(""),[a,s]=m.useState(""),[o,l]=m.useState(!1),u=async c=>{c.preventDefault(),s(""),l(!0);const f=await e(t,n);f.error&&s(f.error),l(!1)};return d.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-950 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 opacity-10",children:[d.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full bg-cyan-400 blur-3xl"}),d.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-teal-400 blur-3xl"})]}),d.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-16",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-500 flex items-center justify-center",children:d.jsx(Wi,{className:"w-6 h-6 text-white"})}),d.jsx("span",{className:"text-3xl font-bold text-white tracking-tight",children:"EmailOps"})]}),d.jsxs("h1",{className:"text-4xl font-bold text-white leading-tight mb-4",children:["Plateforme de Gestion",d.jsx("br",{}),"des Emails"]}),d.jsx("p",{className:"text-slate-400 text-lg leading-relaxed max-w-md",children:"Centralisez vos boites mail, automatisez la classification par IA, et optimisez le workflow de votre equipe."}),d.jsx("div",{className:"mt-12 grid grid-cols-2 gap-4",children:[{label:"Classification IA",desc:"Tri automatique des emails"},{label:"Templates",desc:"Modeles dynamiques"},{label:"Workflow",desc:"Gestion par tickets"},{label:"Multi-Boites",desc:"Inbox centralise"}].map(c=>d.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:[d.jsx("p",{className:"text-white font-medium text-sm",children:c.label}),d.jsx("p",{className:"text-slate-500 text-xs mt-1",children:c.desc})]},c.label))})]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center px-8",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-10",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-cyan-500 flex items-center justify-center",children:d.jsx(Wi,{className:"w-5 h-5 text-white"})}),d.jsx("span",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"EmailOps"})]}),d.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Connexion"}),d.jsx("p",{className:"text-slate-500 mb-8",children:"Connectez-vous avec votre compte pour accder  la plateforme"}),a&&d.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 rounded-lg px-4 py-3 text-sm",children:a}),d.jsxs("form",{onSubmit:u,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"email",value:t,onChange:c=>r(c.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-lg text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition",placeholder:"votre.email@exemple.com",required:!0,autoFocus:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Mot de passe"}),d.jsxs("div",{className:"relative",children:[d.jsx(X4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"password",value:n,onChange:c=>i(c.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-lg text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition",placeholder:"Entrez votre mot de passe",required:!0})]})]}),d.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 bg-cyan-600 hover:bg-cyan-700 text-white font-medium py-2.5 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Connexion...":"Se connecter",!o&&d.jsx(BO,{className:"w-4 h-4"})]})]})]})})]})}const ZO=6048e5,p3=864e5,_c=43200,C1=1440,A1=Symbol.for("constructDateFrom");function sn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&A1 in e?e[A1](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ze(e,t){return sn(t||e,e)}function v3(e,t,r){const n=Ze(e,r==null?void 0:r.in);return isNaN(t)?sn(e,NaN):(n.setDate(n.getDate()+t),n)}let g3={};function ku(){return g3}function Yl(e,t){var o,l,u,c;const r=ku(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Ze(e,t==null?void 0:t.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ud(e,t){return Yl(e,{...t,weekStartsOn:1})}function e2(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),i=sn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Ud(i),s=sn(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Ud(s);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Wd(e){const t=Ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jo(e,...t){const r=sn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Hd(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function t2(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t),a=Hd(n),s=Hd(i),o=+a-Wd(a),l=+s-Wd(s);return Math.round((o-l)/p3)}function y3(e,t){const r=e2(e,t),n=sn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ud(n)}function id(e,t){const r=+Ze(e)-+Ze(t);return r<0?-1:r>0?1:r}function wy(e){return sn(e,Date.now())}function r2(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t);return+Hd(n)==+Hd(i)}function x3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function b3(e){return!(!x3(e)&&typeof e!="number"||isNaN(+Ze(e)))}function w3(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function _3(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t),a=T1(n,i),s=Math.abs(t2(n,i));n.setDate(n.getDate()-a*s);const o=+(T1(n,i)===-a),l=a*(s-o);return l===0?0:l}function T1(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function j3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function S3(e,t){return+Ze(e)-+Ze(t)}function k3(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function E3(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function P3(e,t){const r=Ze(e,t==null?void 0:t.in);return+k3(r,t)==+E3(r,t)}function O3(e,t,r){const[n,i,a]=jo(r==null?void 0:r.in,e,e,t),s=id(i,a),o=Math.abs(w3(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let l=id(i,a)===-s;P3(n)&&o===1&&id(n,a)===1&&(l=!1);const u=s*(o-+l);return u===0?0:u}function N3(e,t,r){const n=S3(e,t)/1e3;return j3(r==null?void 0:r.roundingMethod)(n)}function C3(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const A3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T3=(e,t,r)=>{let n;const i=A3[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qs(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const I3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R3={date:qs({formats:I3,defaultWidth:"full"}),time:qs({formats:M3,defaultWidth:"full"}),dateTime:qs({formats:D3,defaultWidth:"full"})},$3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L3=(e,t,r,n)=>$3[e];function bn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[o]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const z3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},B3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},K3={ordinalNumber:q3,era:bn({values:z3,defaultWidth:"wide"}),quarter:bn({values:F3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bn({values:B3,defaultWidth:"wide"}),day:bn({values:U3,defaultWidth:"wide"}),dayPeriod:bn({values:W3,defaultWidth:"wide",formattingValues:H3,defaultFormattingWidth:"wide"})};function wn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?G3(o,f=>f.test(s)):V3(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(s.length);return{value:u,rest:c}}}function V3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function G3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function n2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(i.length);return{value:s,rest:o}}}const Y3=/^(\d+)(th|st|nd|rd)?/i,X3=/\d+/i,J3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q3={any:[/^b/i,/^(a|c)/i]},Z3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ez={any:[/1/i,/2/i,/3/i,/4/i]},tz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},az={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oz={ordinalNumber:n2({matchPattern:Y3,parsePattern:X3,valueCallback:e=>parseInt(e,10)}),era:wn({matchPatterns:J3,defaultMatchWidth:"wide",parsePatterns:Q3,defaultParseWidth:"any"}),quarter:wn({matchPatterns:Z3,defaultMatchWidth:"wide",parsePatterns:ez,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wn({matchPatterns:tz,defaultMatchWidth:"wide",parsePatterns:rz,defaultParseWidth:"any"}),day:wn({matchPatterns:nz,defaultMatchWidth:"wide",parsePatterns:iz,defaultParseWidth:"any"}),dayPeriod:wn({matchPatterns:az,defaultMatchWidth:"any",parsePatterns:sz,defaultParseWidth:"any"})},i2={code:"en-US",formatDistance:T3,formatLong:R3,formatRelative:L3,localize:K3,match:oz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lz(e,t){const r=Ze(e,t==null?void 0:t.in);return t2(r,C3(r))+1}function uz(e,t){const r=Ze(e,t==null?void 0:t.in),n=+Ud(r)-+y3(r);return Math.round(n/ZO)+1}function a2(e,t){var c,f,h,p;const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),i=ku(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=sn((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Yl(s,t),l=sn((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Yl(l,t);return+r>=+o?n+1:+r>=+u?n:n-1}function cz(e,t){var o,l,u,c;const r=ku(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=a2(e,t),a=sn((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Yl(a,t)}function dz(e,t){const r=Ze(e,t==null?void 0:t.in),n=+Yl(r,t)-+cz(r,t);return Math.round(n/ZO)+1}function ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _i={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ye(r+1,2)},d(e,t){return ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ye(e.getHours()%12||12,t.length)},H(e,t){return ye(e.getHours(),t.length)},m(e,t){return ye(e.getMinutes(),t.length)},s(e,t){return ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ye(i,t.length)}},ms={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return _i.y(e,t)},Y:function(e,t,r,n){const i=a2(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return ye(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ye(a,t.length)},R:function(e,t){const r=e2(e);return ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _i.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=dz(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ye(i,t.length)},I:function(e,t,r){const n=uz(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_i.d(e,t)},D:function(e,t,r){const n=lz(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ye(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ye(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ye(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=ms.noon:n===0?i=ms.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=ms.evening:n>=12?i=ms.afternoon:n>=4?i=ms.morning:i=ms.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _i.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_i.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_i.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_i.s(e,t)},S:function(e,t){return _i.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return D1(n);case"XXXX":case"XX":return ha(n);case"XXXXX":case"XXX":default:return ha(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return D1(n);case"xxxx":case"xx":return ha(n);case"xxxxx":case"xxx":default:return ha(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+M1(n,":");case"OOOO":default:return"GMT"+ha(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+M1(n,":");case"zzzz":default:return"GMT"+ha(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ye(n,t.length)},T:function(e,t,r){return ye(+e,t.length)}};function M1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ye(a,2)}function D1(e,t){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):ha(e,t)}function ha(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ye(Math.trunc(n/60),2),a=ye(n%60,2);return r+i+t+a}const R1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},s2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return R1(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",R1(n,t)).replace("{{time}}",s2(i,t))},hz={p:s2,P:fz},mz=/^D+$/,pz=/^Y+$/,vz=["D","DD","YY","YYYY"];function gz(e){return mz.test(e)}function yz(e){return pz.test(e)}function xz(e,t,r){const n=bz(e,t,r);if(console.warn(n),vz.includes(e))throw new RangeError(n)}function bz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_z=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jz=/^'([^]*?)'?$/,Sz=/''/g,kz=/[a-zA-Z]/;function yr(e,t,r){var c,f,h,p,v,g,x,b;const n=ku(),i=(r==null?void 0:r.locale)??n.locale??i2,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(x=n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,o=Ze(e,r==null?void 0:r.in);if(!b3(o))throw new RangeError("Invalid time value");let l=t.match(_z).map(w=>{const y=w[0];if(y==="p"||y==="P"){const _=hz[y];return _(w,i.formatLong)}return w}).join("").match(wz).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:Ez(w)};if(I1[y])return{isToken:!0,value:w};if(y.match(kz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const y=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&yz(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&gz(y))&&xz(y,t,String(e));const _=I1[y[0]];return _(o,y,i.localize,u)}).join("")}function Ez(e){const t=e.match(jz);return t?t[1].replace(Sz,"'"):e}function Pz(e,t,r){const n=ku(),i=(r==null?void 0:r.locale)??n.locale??i2,a=2520,s=id(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[l,u]=jo(r==null?void 0:r.in,...s>0?[t,e]:[e,t]),c=N3(u,l),f=(Wd(u)-Wd(l))/1e3,h=Math.round((c-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,o):c<10?i.formatDistance("lessThanXSeconds",10,o):c<20?i.formatDistance("lessThanXSeconds",20,o):c<40?i.formatDistance("halfAMinute",0,o):c<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<C1){const v=Math.round(h/60);return i.formatDistance("aboutXHours",v,o)}else{if(h<a)return i.formatDistance("xDays",1,o);if(h<_c){const v=Math.round(h/C1);return i.formatDistance("xDays",v,o)}else if(h<_c*2)return p=Math.round(h/_c),i.formatDistance("aboutXMonths",p,o)}if(p=O3(u,l),p<12){const v=Math.round(h/_c);return i.formatDistance("xMonths",v,o)}else{const v=p%12,g=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",g,o):v<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function _y(e,t){return Pz(e,wy(e),t)}function Oz(e){return+Ze(e)>Date.now()}function o2(e){return+Ze(e)<Date.now()}function qd(e,t){return r2(sn(e,e),wy(e))}function Nz(e,t){return r2(e,v3(wy(e),1),t)}function Cz(){const e=Xa(),[t,r]=m.useState([]),[n,i]=m.useState(!1),[a,s]=m.useState(!1),o=m.useRef(null);m.useEffect(()=>{l();const g=setInterval(l,3e4);return()=>clearInterval(g)},[]),m.useEffect(()=>{function g(x){o.current&&!o.current.contains(x.target)&&i(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);async function l(){var b;const{data:g}=await z.auth.getSession();if(!((b=g==null?void 0:g.session)!=null&&b.user))return;const{data:x}=await z.from("notifications").select("*").eq("user_id",g.session.user.id).order("created_at",{ascending:!1}).limit(20);x&&r(x)}async function u(g){await z.from("notifications").update({is_read:!0}).eq("id",g),r(x=>x.map(b=>b.id===g?{...b,is_read:!0}:b))}async function c(){var x;s(!0);const{data:g}=await z.auth.getSession();(x=g==null?void 0:g.session)!=null&&x.user&&(await z.from("notifications").update({is_read:!0}).eq("user_id",g.session.user.id).eq("is_read",!1),r(b=>b.map(w=>({...w,is_read:!0}))),s(!1))}async function f(g){await z.from("notifications").delete().eq("id",g),r(x=>x.filter(b=>b.id!==g))}function h(g){u(g.id),g.link&&(e(g.link),i(!1))}const p=t.filter(g=>!g.is_read).length,v=g=>{const x={mention:"bg-blue-500",assignment:"bg-cyan-500",due_date:"bg-orange-500",response_generated:"bg-emerald-500",default:"bg-slate-500"};return x[g]||x.default};return d.jsxs("div",{className:"relative",ref:o,children:[d.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-slate-600 hover:text-cyan-600 hover:bg-cyan-50 rounded-lg transition",children:[d.jsx($4,{className:"w-5 h-5"}),p>0&&d.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:p>9?"9+":p})]}),n&&d.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl border border-slate-200 shadow-xl z-50",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Notifications"}),p>0&&d.jsx("button",{onClick:c,disabled:a,className:"text-xs font-medium text-cyan-600 hover:text-cyan-700 disabled:opacity-50",children:"Tout marquer comme lu"})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?d.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-500",children:"Aucune notification"}):t.map(g=>d.jsxs("div",{className:`group relative flex gap-3 px-4 py-3 border-b border-slate-100 transition ${g.is_read?"bg-white":"bg-cyan-50/30"} ${g.link?"cursor-pointer hover:bg-slate-50":""}`,onClick:()=>h(g),children:[d.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 shrink-0 ${v(g.type)}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:g.title}),d.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:g.message}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:_y(new Date(g.created_at),{addSuffix:!0})})]}),d.jsxs("div",{className:"flex items-start gap-1 opacity-0 group-hover:opacity-100 transition",children:[!g.is_read&&d.jsx("button",{onClick:x=>{x.stopPropagation(),u(g.id)},className:"p-1 text-slate-400 hover:text-cyan-600 rounded transition",title:"Marquer comme lu",children:d.jsx(ig,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:x=>{x.stopPropagation(),f(g.id)},className:"p-1 text-slate-400 hover:text-red-600 rounded transition",title:"Supprimer",children:d.jsx(Qa,{className:"w-3.5 h-3.5"})})]})]},g.id))})]})]})}function La({title:e,subtitle:t}){return d.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:e}),t&&d.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:t})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative hidden md:block",children:[d.jsx(yh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-9 pr-4 py-2 w-64 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition"})]}),d.jsx(Cz,{}),d.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-600 flex items-center justify-center text-white text-xs font-medium",children:"A"})]})]})}function Az({stats:e}){return d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(t=>{const r=t.change&&t.change>0?l3:t.change&&t.change<0?o3:e3,n=t.change&&t.change>0?"text-emerald-600":t.change&&t.change<0?"text-red-500":"text-slate-400";return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:`${t.color}12`},children:d.jsx(t.icon,{className:"w-5 h-5",style:{color:t.color}})}),t.change!==void 0&&d.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${n}`,children:[d.jsx(r,{className:"w-3 h-3"}),d.jsxs("span",{children:[Math.abs(t.change),"%"]})]})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.value}),d.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.label})]},t.label)})})}function l2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=l2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=l2(e))&&(n&&(n+=" "),n+=t);return n}var Tz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jy(e){if(typeof e!="string")return!1;var t=Tz;return t.includes(e)}var Iz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mz=new Set(Iz);function u2(e){return typeof e!="string"?!1:Mz.has(e)}function c2(e){return typeof e=="string"&&e.startsWith("data-")}function ur(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(u2(r)||c2(r))&&(t[r]=e[r]);return t}function za(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ur(t)}return typeof e=="object"&&!Array.isArray(e)?ur(e):null}function Vt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(u2(r)||c2(r)||jy(r))&&(t[r]=e[r]);return t}function Dz(e){return e==null?null:m.isValidElement(e)?Vt(e.props):typeof e=="object"&&!Array.isArray(e)?Vt(e):null}var Rz=["children","width","height","viewBox","className","style","title","desc"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(null,arguments)}function $z(e,t){if(e==null)return{};var r,n,i=Lz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sy=m.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=$z(e,Rz),f=a||{width:n,height:i,x:0,y:0},h=pe("recharts-surface",s);return m.createElement("svg",ag({},Vt(c),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,l),m.createElement("desc",null,u),r)}),zz=["children","className"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(null,arguments)}function Fz(e,t){if(e==null)return{};var r,n,i=Bz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var et=m.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Fz(e,zz),a=pe("recharts-layer",n);return m.createElement("g",sg({className:a},Vt(i),{ref:t}),r)}),d2=m.createContext(null),Uz=()=>m.useContext(d2);function Pe(e){return function(){return e}}const f2=Math.cos,Kd=Math.sin,un=Math.sqrt,Vd=Math.PI,xh=2*Vd,og=Math.PI,lg=2*og,ma=1e-6,Wz=lg-ma;function h2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Hz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return h2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?h2:Hz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,f=o-r,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ma)if(!(Math.abs(f*l-u*c)>ma)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,v=i-o,g=l*l+u*u,x=p*p+v*v,b=Math.sqrt(g),w=Math.sqrt(h),y=a*Math.tan((og-Math.acos((g+h-x)/(2*b*w)))/2),_=y/w,j=y/b;Math.abs(_-1)>ma&&this._append`L${t+_*c},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>c*v)},${this._x1=t+j*l},${this._y1=r+j*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ma||Math.abs(this._y1-c)>ma)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%lg+lg),h>Wz?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:h>ma&&this._append`A${n},${n},0,${+(h>=og)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ky(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qz(t)}function Ey(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function m2(e){this._context=e}m2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bh(e){return new m2(e)}function p2(e){return e[0]}function v2(e){return e[1]}function g2(e,t){var r=Pe(!0),n=null,i=bh,a=null,s=ky(o);e=typeof e=="function"?e:e===void 0?p2:Pe(e),t=typeof t=="function"?t:t===void 0?v2:Pe(t);function o(l){var u,c=(l=Ey(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Pe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Pe(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Pe(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function jc(e,t,r){var n=null,i=Pe(!0),a=null,s=bh,o=null,l=ky(u);e=typeof e=="function"?e:e===void 0?p2:Pe(+e),t=typeof t=="function"?t:Pe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?v2:Pe(+r);function u(f){var h,p,v,g=(f=Ey(f)).length,x,b=!1,w,y=new Array(g),_=new Array(g);for(a==null&&(o=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(y[v],_[v]);o.lineEnd(),o.areaEnd()}b&&(y[h]=+e(x,h,f),_[h]=+t(x,h,f),o.point(n?+n(x,h,f):y[h],r?+r(x,h,f):_[h]))}if(w)return o=null,w+""||null}function c(){return g2().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Pe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Pe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Pe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Pe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Pe(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Pe(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class y2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Kz(e){return new y2(e,!0)}function Vz(e){return new y2(e,!1)}const Py={draw(e,t){const r=un(t/Vd);e.moveTo(r,0),e.arc(0,0,r,0,xh)}},Gz={draw(e,t){const r=un(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},x2=un(1/3),Yz=x2*2,Xz={draw(e,t){const r=un(t/Yz),n=r*x2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Jz={draw(e,t){const r=un(t),n=-r/2;e.rect(n,n,r,r)}},Qz=.8908130915292852,b2=Kd(Vd/10)/Kd(7*Vd/10),Zz=Kd(xh/10)*b2,e6=-f2(xh/10)*b2,t6={draw(e,t){const r=un(t*Qz),n=Zz*r,i=e6*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=xh*a/5,o=f2(s),l=Kd(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},xp=un(3),r6={draw(e,t){const r=-un(t/(xp*3));e.moveTo(0,r*2),e.lineTo(-xp*r,-r),e.lineTo(xp*r,-r),e.closePath()}},kr=-.5,Er=un(3)/2,ug=1/un(12),n6=(ug/2+1)*3,i6={draw(e,t){const r=un(t/n6),n=r/2,i=r*ug,a=n,s=r*ug+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(kr*n-Er*i,Er*n+kr*i),e.lineTo(kr*a-Er*s,Er*a+kr*s),e.lineTo(kr*o-Er*l,Er*o+kr*l),e.lineTo(kr*n+Er*i,kr*i-Er*n),e.lineTo(kr*a+Er*s,kr*s-Er*a),e.lineTo(kr*o+Er*l,kr*l-Er*o),e.closePath()}};function a6(e,t){let r=null,n=ky(i);e=typeof e=="function"?e:Pe(e||Py),t=typeof t=="function"?t:Pe(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Pe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Pe(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Gd(){}function Yd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function w2(e){this._context=e}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s6(e){return new w2(e)}function _2(e){this._context=e}_2.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o6(e){return new _2(e)}function j2(e){this._context=e}j2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l6(e){return new j2(e)}function S2(e){this._context=e}S2.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u6(e){return new S2(e)}function $1(e){return e<0?-1:1}function L1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return($1(a)+$1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function z1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function bp(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Xd(e){this._context=e}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bp(this,this._t0,z1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bp(this,z1(this,r=L1(this,e,t)),r);break;default:bp(this,this._t0,r=L1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function k2(e){this._context=new E2(e)}(k2.prototype=Object.create(Xd.prototype)).point=function(e,t){Xd.prototype.point.call(this,t,e)};function E2(e){this._context=e}E2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function c6(e){return new Xd(e)}function d6(e){return new k2(e)}function P2(e){this._context=e}P2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F1(e),i=F1(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F1(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function f6(e){return new P2(e)}function wh(e,t){this._context=e,this._t=t}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function h6(e){return new wh(e,.5)}function m6(e){return new wh(e,0)}function p6(e){return new wh(e,1)}function Fa(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function v6(e,t){return e[t]}function g6(e){const t=[];return t.key=e,t}function y6(){var e=Pe([]),t=cg,r=Fa,n=v6;function i(a){var s=Array.from(e.apply(this,arguments),g6),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,c=Ey(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Pe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Pe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?cg:typeof a=="function"?a:Pe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Fa,i):r},i}function x6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Fa(e,t)}}function b6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Fa(e,t)}}function w6(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[n][1]||0,h=c[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var g=e[t[v]],x=g[n][1]||0,b=g[n-1][1]||0;p+=x-b}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Fa(e,t)}}var _h={},O2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(O2);var Oy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Oy);var jh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(jh);var Sh={},N2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(N2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N2,r=jh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(Sh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O2,r=Oy,n=jh,i=Sh;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(_h);var _6=_h.get;const Ba=ci(_6);var j6=4;function Mi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j6,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ke(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Mi(o)+a:i+a},"")}var wt=e=>e===0?0:e>0?1:-1,on=e=>typeof e=="number"&&e!=+e,Ua=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,q=e=>(typeof e=="number"||e instanceof Number)&&!on(e),On=e=>q(e)||typeof e=="string",S6=0,Xl=e=>{var t=++S6;return"".concat(e||"").concat(t)},Lt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!q(t)&&typeof t!="string")return n;var a;if(Ua(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return on(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},C2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Me(e,t,r){return q(e)&&q(t)?Mi(e+r*(t-e)):t}function A2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ba(n,t))===r)}var Xe=e=>e===null||typeof e>"u",Eu=e=>Xe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nr(e){return e!=null}function Za(){}var k6=["type","size","sizeType"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(null,arguments)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){E6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E6(e,t,r){return(t=P6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P6(e){var t=O6(e,"string");return typeof t=="symbol"?t:t+""}function O6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N6(e,t){if(e==null)return{};var r,n,i=C6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T2={symbolCircle:Py,symbolCross:Gz,symbolDiamond:Xz,symbolSquare:Jz,symbolStar:t6,symbolTriangle:r6,symbolWye:i6},A6=Math.PI/180,T6=e=>{var t="symbol".concat(Eu(e));return T2[t]||Py},I6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*A6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},M6=(e,t)=>{T2["symbol".concat(Eu(e))]=t},Ny=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=N6(e,k6),a=U1(U1({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=T6(s),p=a6().type(h).size(I6(r,n,s)),v=p();if(v!==null)return v},{className:l,cx:u,cy:c}=a,f=Vt(a);return q(u)&&q(c)&&q(r)?m.createElement("path",dg({},f,{className:pe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Ny.registerSymbol=M6;var I2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Cy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{jy(i)&&(n[i]=a=>r[i](r,a))}),n},D6=(e,t,r)=>n=>(e(t,r,n),null),Pu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];jy(i)&&typeof a=="function"&&(n||(n={}),n[i]=D6(a,t,r))}),n};function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){$6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $6(e,t,r){return(t=L6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6(e){var t=z6(e,"string");return typeof t=="symbol"?t:t+""}function z6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t){var r=R6({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(null,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){B6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B6(e,t,r){return(t=U6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6(e){var t=W6(e,"string");return typeof t=="symbol"?t:t+""}function W6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Or=32,H6={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function q6(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Or/2,a=Or/6,s=Or/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return m.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Or,y2:i,className:"recharts-legend-icon"})}if(l==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Or,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return m.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Or/8,"h").concat(Or,"v").concat(Or*3/4,"h").concat(-Or,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var c=F6({},t);return delete c.legendIcon,m.cloneElement(t.legendIcon,c)}return m.createElement(Ny,{fill:o,cx:i,cy:i,size:Or,sizeType:"diameter",type:l})}function K6(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Or,height:Or},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var h=c.formatter||i,p=pe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?a:c.color,g=h?h(c.value,c,f):c.value;return m.createElement("li",Jd({className:p,style:l,key:"legend-item-".concat(f)},Pu(e,c,f)),m.createElement(Sy,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(g," legend icon")},m.createElement(q6,{data:c,iconType:s,inactiveColor:a})),m.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g))})}var V6=e=>{var t=at(e,H6),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:a},m.createElement(K6,Jd({},t,{payload:r})))},M2={},D2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(D2);var R2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(R2);var Ay={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ay);var $2={},kh={},L2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(kh);var z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kh,r=z2;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})($2);var F2={},B2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_h;function r(n){return function(i){return t.get(i,n)}}e.property=r})(B2);var U2={},Ty={},W2={},Iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Iy);var My={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(My);var Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Dy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iy,r=My,n=Dy;function i(c,f,h){return typeof h!="function"?i(c,f,()=>{}):a(c,f,function p(v,g,x,b,w,y){const _=h(v,g,x,b,w,y);return _!==void 0?!!_:a(v,g,p,y)},new Map)}function a(c,f,h,p){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,h,p);case"function":return Object.keys(f).length>0?a(c,{...f},h,p):n.isEqualsSameValueZero(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(c,f)}}function s(c,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(c,f,h,p);if(f instanceof Map)return o(c,f,h,p);if(f instanceof Set)return u(c,f,h,p);const v=Object.keys(f);if(c==null||r.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===c;p==null||p.set(f,c);try{for(let g=0;g<v.length;g++){const x=v[g];if(!r.isPrimitive(c)&&!(x in c)||f[x]===void 0&&c[x]!==void 0||f[x]===null&&c[x]!==null||!h(c[x],f[x],x,c,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(c,f,h,p){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,g]of f.entries()){const x=c.get(v);if(h(x,g,v,c,f,p)===!1)return!1}return!0}function l(c,f,h,p){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let g=0;g<f.length;g++){const x=f[g];let b=!1;for(let w=0;w<c.length;w++){if(v.has(w))continue;const y=c[w];let _=!1;if(h(y,x,g,c,f,p)&&(_=!0),_){v.add(w),b=!0;break}}if(!b)return!1}return!0}function u(c,f,h,p){return f.size===0?!0:c instanceof Set?l([...c],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(W2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W2;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ty);var H2={},Ry={},q2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(q2);var Eh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Eh);var $y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",v="[object Error]",g="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",O="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=O,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=b})($y);var K2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(K2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2,r=Eh,n=$y,i=My,a=K2;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,h,p=new Map,v=void 0){const g=v==null?void 0:v(c,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const x=new Array(c.length);p.set(c,x);for(let b=0;b<c.length;b++)x[b]=o(c[b],b,h,p,v);return Object.hasOwn(c,"index")&&(x.index=c.index),Object.hasOwn(c,"input")&&(x.input=c.input),x}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const x=new RegExp(c.source,c.flags);return x.lastIndex=c.lastIndex,x}if(c instanceof Map){const x=new Map;p.set(c,x);for(const[b,w]of c)x.set(b,o(w,b,h,p,v));return x}if(c instanceof Set){const x=new Set;p.set(c,x);for(const b of c)x.add(o(b,void 0,h,p,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const x=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,x);for(let b=0;b<c.length;b++)x[b]=o(c[b],b,h,p,v);return x}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const x=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,x),l(x,c,h,p,v),x}if(typeof File<"u"&&c instanceof File){const x=new File([c],c.name,{type:c.type});return p.set(c,x),l(x,c,h,p,v),x}if(typeof Blob<"u"&&c instanceof Blob){const x=new Blob([c],{type:c.type});return p.set(c,x),l(x,c,h,p,v),x}if(c instanceof Error){const x=new c.constructor;return p.set(c,x),x.message=c.message,x.name=c.name,x.stack=c.stack,x.cause=c.cause,l(x,c,h,p,v),x}if(c instanceof Boolean){const x=new Boolean(c.valueOf());return p.set(c,x),l(x,c,h,p,v),x}if(c instanceof Number){const x=new Number(c.valueOf());return p.set(c,x),l(x,c,h,p,v),x}if(c instanceof String){const x=new String(c.valueOf());return p.set(c,x),l(x,c,h,p,v),x}if(typeof c=="object"&&u(c)){const x=Object.create(Object.getPrototypeOf(c));return p.set(c,x),l(x,c,h,p,v),x}return c}function l(c,f,h=c,p,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<g.length;x++){const b=g[x],w=Object.getOwnPropertyDescriptor(c,b);(w==null||w.writable)&&(c[b]=o(f[b],b,h,p,v))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Ry);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(H2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ty,r=H2;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(U2);var V2={},G2={},Y2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=Eh,n=$y;function i(a,s){return t.cloneDeepWith(a,(o,l,u,c)=>{const f=s==null?void 0:s(o,l,u,c);if(f!==void 0)return f;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const h={};return c.set(a,h),t.copyProperties(h,a,u,c),h}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case n.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(Y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(G2);var X2={},Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ly);var J2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(J2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oy,r=Ly,n=J2,i=Sh;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(X2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ty,r=jh,n=G2,i=_h,a=X2;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(V2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ay,r=B2,n=U2,i=V2;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(F2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D2,r=R2,n=Ay,i=$2,a=F2;function s(o,l=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(M2);var G6=M2.uniqBy;const q1=ci(G6);function Q2(e,t,r){return t===!0?q1(e,r):typeof t=="function"?q1(e,t):e}var Z2={exports:{}},eN={},tN={exports:{}},rN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=m;function Y6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X6=typeof Object.is=="function"?Object.is:Y6,J6=io.useState,Q6=io.useEffect,Z6=io.useLayoutEffect,eF=io.useDebugValue;function tF(e,t){var r=t(),n=J6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Z6(function(){i.value=r,i.getSnapshot=t,wp(i)&&a({inst:i})},[e,r,t]),Q6(function(){return wp(i)&&a({inst:i}),e(function(){wp(i)&&a({inst:i})})},[e]),eF(r),r}function wp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!X6(e,r)}catch{return!0}}function rF(e,t){return t()}var nF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rF:tF;rN.useSyncExternalStore=io.useSyncExternalStore!==void 0?io.useSyncExternalStore:nF;tN.exports=rN;var iF=tN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=m,aF=iF;function sF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oF=typeof Object.is=="function"?Object.is:sF,lF=aF.useSyncExternalStore,uF=Ph.useRef,cF=Ph.useEffect,dF=Ph.useMemo,fF=Ph.useDebugValue;eN.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=uF(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=dF(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,oF(c,p))return v;var g=n(p);return i!==void 0&&i(v,g)?(c=p,v):(c=p,f=g)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=lF(e,a[0],a[1]);return cF(function(){s.hasValue=!0,s.value=o},[o]),fF(o),o};Z2.exports=eN;var hF=Z2.exports,zy=m.createContext(null),mF=e=>e,Ne=()=>{var e=m.useContext(zy);return e?e.store.dispatch:mF},ad=()=>{},pF=()=>ad,vF=(e,t)=>e===t;function Q(e){var t=m.useContext(zy),r=m.useMemo(()=>t?n=>{if(n!=null)return e(n)}:ad,[t,e]);return hF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pF,t?t.store.getState:ad,t?t.store.getState:ad,r,vF)}function gF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var K1=e=>Array.isArray(e)?e:[e];function bF(e){const t=Array.isArray(e[0])?e[0]:e;return xF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wF(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var _F=class{constructor(e){this.value=e}deref(){return this.value}},jF=typeof WeakRef<"u"?WeakRef:_F,SF=0,V1=1;function Sc(){return{s:SF,v:void 0,o:null,p:null}}function nN(e,t={}){let r=Sc();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const x=g.get(v);x===void 0?(o=Sc(),g.set(v,o)):o=x}else{let g=o.p;g===null&&(o.p=g=new Map);const x=g.get(v);x===void 0?(o=Sc(),g.set(v,o)):o=x}}const u=o;let c;if(o.s===V1)c=o.v;else if(c=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new jF(c):c}return u.s=V1,u.v=c,c}return s.clearCache=()=>{r=Sc(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function kF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),gF(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=nN,argsMemoizeOptions:v=[],devModeChecks:g={}}=c,x=K1(h),b=K1(v),w=bF(i),y=f(function(){return a++,u.apply(null,arguments)},...x),_=p(function(){s++;const S=wF(w,arguments);return o=y.apply(null,S),o},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:y,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var I=kF(nN),EF=Object.assign((e,t=I)=>{yF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>EF}),iN={},aN={},sN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(sN);var oN={},Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Fy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(oN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN,r=oN,n=Sh;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,v)=>{let g=p;for(let x=0;x<v.length&&g!=null;++x)g=g[v[x]];return g},c=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(v=>c(v,p))})).slice().sort((p,v)=>{for(let g=0;g<f.length;g++){const x=t.compareValues(p.criteria[g],v.criteria[g],o[g]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=i})(aN);var lN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(lN);var By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=kh,n=Iy,i=Dy;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(By);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN,r=lN,n=By;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(iN);var PF=iN.sortBy;const Oh=ci(PF);var uN=e=>e.legend.settings,OF=e=>e.legend.size,NF=e=>e.legend.payload,CF=I([NF,uN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Oh(n,r):n});function AF(){return Q(CF)}var kc=1;function cN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>kc||Math.abs(s.left-t.left)>kc||Math.abs(s.top-t.top)>kc||Math.abs(s.width-t.width)>kc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Et(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TF=typeof Symbol=="function"&&Symbol.observable||"@@observable",G1=TF,_p=()=>Math.random().toString(36).substring(7).split("").join("."),IF={INIT:`@@redux/INIT${_p()}`,REPLACE:`@@redux/REPLACE${_p()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_p()}`},Qd=IF;function Uy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function dN(e,t,r){if(typeof e!="function")throw new Error(Et(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Et(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Et(1));return r(dN)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((x,b)=>{s.set(b,x)}))}function c(){if(l)throw new Error(Et(3));return i}function f(x){if(typeof x!="function")throw new Error(Et(4));if(l)throw new Error(Et(5));let b=!0;u();const w=o++;return s.set(w,x),function(){if(b){if(l)throw new Error(Et(6));b=!1,u(),s.delete(w),a=null}}}function h(x){if(!Uy(x))throw new Error(Et(7));if(typeof x.type>"u")throw new Error(Et(8));if(typeof x.type!="string")throw new Error(Et(17));if(l)throw new Error(Et(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=s).forEach(w=>{w()}),x}function p(x){if(typeof x!="function")throw new Error(Et(10));n=x,h({type:Qd.REPLACE})}function v(){const x=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Et(11));function w(){const _=b;_.next&&_.next(c())}return w(),{unsubscribe:x(w)}},[G1](){return this}}}return h({type:Qd.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[G1]:v}}function MF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Qd.INIT})>"u")throw new Error(Et(12));if(typeof r(void 0,{type:Qd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Et(13))})}function fN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{MF(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const f=n[c],h=r[f],p=s[f],v=h(p,o);if(typeof v>"u")throw o&&o.type,new Error(Et(14));u[f]=v,l=l||v!==p}return l=l||n.length!==Object.keys(s).length,l?u:s}}function Zd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function DF(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Et(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Zd(...o)(i.dispatch),{...i,dispatch:a}}}function hN(e){return Uy(e)&&"type"in e&&typeof e.type=="string"}var mN=Symbol.for("immer-nothing"),Y1=Symbol.for("immer-draftable"),Gt=Symbol.for("immer-state");function Qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vr=Object,ao=vr.getPrototypeOf,ef="constructor",Nh="prototype",fg="configurable",tf="enumerable",sd="writable",Jl="value",ni=e=>!!e&&!!e[Gt];function ln(e){var t;return e?pN(e)||Ah(e)||!!e[Y1]||!!((t=e[ef])!=null&&t[Y1])||Th(e)||Ih(e):!1}var RF=vr[Nh][ef].toString(),X1=new WeakMap;function pN(e){if(!e||!Wy(e))return!1;const t=ao(e);if(t===null||t===vr[Nh])return!0;const r=vr.hasOwnProperty.call(t,ef)&&t[ef];if(r===Object)return!0;if(!ws(r))return!1;let n=X1.get(r);return n===void 0&&(n=Function.toString.call(r),X1.set(r,n)),n===RF}function Ch(e,t,r=!0){Ou(e)===0?(r?Reflect.ownKeys(e):vr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ou(e){const t=e[Gt];return t?t.type_:Ah(e)?1:Th(e)?2:Ih(e)?3:0}var J1=(e,t,r=Ou(e))=>r===2?e.has(t):vr[Nh].hasOwnProperty.call(e,t),hg=(e,t,r=Ou(e))=>r===2?e.get(t):e[t],rf=(e,t,r,n=Ou(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function $F(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ah=Array.isArray,Th=e=>e instanceof Map,Ih=e=>e instanceof Set,Wy=e=>typeof e=="object",ws=e=>typeof e=="function",jp=e=>typeof e=="boolean";function LF(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Bn=e=>e.copy_||e.base_,Hy=e=>e.modified_?e.copy_:e.base_;function mg(e,t){if(Th(e))return new Map(e);if(Ih(e))return new Set(e);if(Ah(e))return Array[Nh].slice.call(e);const r=pN(e);if(t===!0||t==="class_only"&&!r){const n=vr.getOwnPropertyDescriptors(e);delete n[Gt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[sd]===!1&&(o[sd]=!0,o[fg]=!0),(o.get||o.set)&&(n[s]={[fg]:!0,[sd]:!0,[tf]:o[tf],[Jl]:e[s]})}return vr.create(ao(e),n)}else{const n=ao(e);if(n!==null&&r)return{...e};const i=vr.create(n);return vr.assign(i,e)}}function qy(e,t=!1){return Mh(e)||ni(e)||!ln(e)||(Ou(e)>1&&vr.defineProperties(e,{set:Ec,add:Ec,clear:Ec,delete:Ec}),vr.freeze(e),t&&Ch(e,(r,n)=>{qy(n,!0)},!1)),e}function zF(){Qr(2)}var Ec={[Jl]:zF};function Mh(e){return e===null||!Wy(e)?!0:vr.isFrozen(e)}var nf="MapSet",pg="Patches",Q1="ArrayMethods",vN={};function Wa(e){const t=vN[e];return t||Qr(0,e),t}var Z1=e=>!!vN[e],Ql,gN=()=>Ql,FF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Z1(nf)?Wa(nf):void 0,arrayMethodsPlugin_:Z1(Q1)?Wa(Q1):void 0});function e_(e,t){t&&(e.patchPlugin_=Wa(pg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vg(e){gg(e),e.drafts_.forEach(BF),e.drafts_=null}function gg(e){e===Ql&&(Ql=e.parent_)}var t_=e=>Ql=FF(Ql,e);function BF(e){const t=e[Gt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Gt].modified_&&(vg(t),Qr(4)),ln(e)&&(e=n_(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Gt].base_,e,t)}else e=n_(t,r);return UF(t,e,!0),vg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mN?e:void 0}function n_(e,t){if(Mh(t))return t;const r=t[Gt];if(!r)return af(t,e.handledSet_,e);if(!Dh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);bN(r,e)}return r.copy_}function UF(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qy(t,r)}function yN(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Dh=(e,t)=>e.scope_===t,WF=[];function xN(e,t,r,n){const i=Bn(e),a=e.type_;if(n!==void 0&&hg(i,n,a)===t){rf(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Ch(i,(l,u)=>{if(ni(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??WF;for(const o of s)rf(i,o,r,a)}function HF(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Dh(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=Hy(a);xN(e,a.draft_??a,s,r),bN(a,i)})}function bN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}yN(e)}}function qF(e,t,r){const{scope_:n}=e;if(ni(r)){const i=r[Gt];Dh(i,n)&&i.callbacks_.push(function(){od(e);const s=Hy(i);xN(e,r,s,t)})}else ln(r)&&e.callbacks_.push(function(){const a=Bn(e);e.type_===3?a.has(r)&&af(r,n.handledSet_,n):hg(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&af(hg(e.copy_,t,e.type_),n.handledSet_,n)})}function af(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ni(e)||t.has(e)||!ln(e)||Mh(e)||(t.add(e),Ch(e,(n,i)=>{if(ni(i)){const a=i[Gt];if(Dh(a,r)){const s=Hy(a);rf(e,n,s,e.type_),yN(a)}}else ln(i)&&af(i,t,r)})),e}function KF(e,t){const r=Ah(e),n={type_:r?1:0,scope_:t?t.scope_:gN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=sf;r&&(i=[n],a=Zl);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var sf={get(e,t){if(t===Gt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Bn(e);if(!J1(i,t,e.type_))return VF(e,i,t);const a=i[t];if(e.finalized_||!ln(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&LF(t))return a;if(a===Sp(e.base_,t)){od(e);const s=e.type_===1?+t:t,o=xg(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Bn(e)},ownKeys(e){return Reflect.ownKeys(Bn(e))},set(e,t,r){const n=wN(Bn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Sp(Bn(e),t),a=i==null?void 0:i[Gt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if($F(r,i)&&(r!==void 0||J1(e.base_,t,e.type_)))return!0;od(e),yg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),qF(e,t,r)),!0},deleteProperty(e,t){return od(e),Sp(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Bn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[sd]:!0,[fg]:e.type_!==1||t!=="length",[tf]:n[tf],[Jl]:r[t]}},defineProperty(){Qr(11)},getPrototypeOf(e){return ao(e.base_)},setPrototypeOf(){Qr(12)}},Zl={};for(let e in sf){let t=sf[e];Zl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Zl.deleteProperty=function(e,t){return Zl.set.call(this,e,t,void 0)};Zl.set=function(e,t,r){return sf.set.call(this,e[0],t,r,e[0])};function Sp(e,t){const r=e[Gt];return(r?Bn(r):e)[t]}function VF(e,t,r){var i;const n=wN(t,r);return n?Jl in n?n[Jl]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function wN(e,t){if(!(t in e))return;let r=ao(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ao(r)}}function yg(e){e.modified_||(e.modified_=!0,e.parent_&&yg(e.parent_))}function od(e){e.copy_||(e.assigned_=new Map,e.copy_=mg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var GF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ws(r)&&!ws(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,f=>n.call(this,f,...c))}}ws(n)||Qr(6),i!==void 0&&!ws(i)&&Qr(7);let a;if(ln(r)){const s=t_(this),o=xg(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?vg(s):gg(s)}return e_(s,i),r_(a,s)}else if(!r||!Wy(r)){if(a=n(r),a===void 0&&(a=r),a===mN&&(a=void 0),this.autoFreeze_&&qy(a,!0),i){const s=[],o=[];Wa(pg).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Qr(1,r)},this.produceWithPatches=(r,n)=>{if(ws(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},jp(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),jp(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),jp(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ln(t)||Qr(8),ni(t)&&(t=nn(t));const r=t_(this),n=xg(r,t,void 0);return n[Gt].isManual_=!0,gg(r),n}finishDraft(t,r){const n=t&&t[Gt];(!n||!n.isManual_)&&Qr(9);const{scope_:i}=n;return e_(i,r),r_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Wa(pg).applyPatches_;return ni(t)?i(t,r):this.produce(t,a=>i(a,r))}};function xg(e,t,r,n){const[i,a]=Th(t)?Wa(nf).proxyMap_(t,r):Ih(t)?Wa(nf).proxySet_(t,r):KF(t,r);return((r==null?void 0:r.scope_)??gN()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?HF(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function nn(e){return ni(e)||Qr(10,e),_N(e)}function _N(e){if(!ln(e)||Mh(e))return e;const t=e[Gt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=mg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=mg(e,!0);return Ch(r,(i,a)=>{rf(r,i,_N(a))},n),t&&(t.finalized_=!1),r}var YF=new GF,jN=YF.produce;function SN(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var XF=SN(),JF=SN,QF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zd:Zd.apply(null,arguments)};function Lr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>hN(n)&&n.type===e,r}var kN=class fl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fl.prototype)}static get[Symbol.species](){return fl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fl(...t[0].concat(this)):new fl(...t.concat(this))}};function i_(e){return ln(e)?jN(e,()=>{}):e}function Pc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ZF(e){return typeof e=="boolean"}var eB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new kN;return r&&(ZF(r)?s.push(XF):s.push(JF(r.extraArgument))),s},EN="RTK_autoBatch",$e=()=>e=>({payload:e,meta:{[EN]:!0}}),a_=e=>t=>{setTimeout(t,e)},PN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:a_(10):e.type==="callback"?e.queueNotification:a_(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const f=()=>i&&c(),h=n.subscribe(f);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[EN]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},tB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new kN(e);return n&&i.push(PN(typeof n=="object"?n:void 0)),i};function rB(e){const t=eB(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Uy(r))l=fN(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(t):u=t();let c=Zd;i&&(c=QF({trace:!1,...typeof i=="object"&&i}));const f=DF(...u),h=tB(f);let p=typeof o=="function"?o(h):h();const v=c(...p);return dN(l,s,v)}function ON(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(xr(28));if(o in t)throw new Error(xr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function nB(e){return typeof e=="function"}function iB(e,t){let[r,n,i]=ON(t),a;if(nB(e))a=()=>i_(e());else{const o=i_(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(ni(c)){const p=f(c,l);return p===void 0?c:p}else{if(ln(c))return jN(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return s.getInitialState=a,s}var aB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sB=(e=21)=>{let t="",r=e;for(;r--;)t+=aB[Math.random()*64|0];return t},oB=Symbol.for("rtk-slice-createasyncthunk");function lB(e,t){return`${e}/${t}`}function uB({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[oB];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(xr(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(dB()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(xr(12));if(S in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[S]=j,c},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),c},exposeAction(_,j){return u.actionCreators[_]=j,c},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,c}};l.forEach(_=>{const j=o[_],S={reducerName:_,type:lB(a,_),createNotation:typeof i.reducers=="function"};hB(j)?pB(S,j,c,t):fB(S,j,c)});function f(){const[_={},j=[],S=void 0]=typeof i.extraReducers=="function"?ON(i.extraReducers):[i.extraReducers],k={..._,...u.sliceCaseReducersByType};return iB(i.initialState,E=>{for(let O in k)E.addCase(O,k[O]);for(let O of u.sliceMatchers)E.addMatcher(O.matcher,O.reducer);for(let O of j)E.addMatcher(O.matcher,O.reducer);S&&E.addDefaultCase(S)})}const h=_=>_,p=new Map,v=new WeakMap;let g;function x(_,j){return g||(g=f()),g(_,j)}function b(){return g||(g=f()),g.getInitialState()}function w(_,j=!1){function S(E){let O=E[_];return typeof O>"u"&&j&&(O=Pc(v,S,b)),O}function k(E=h){const O=Pc(p,j,()=>new WeakMap);return Pc(O,E,()=>{const C={};for(const[M,P]of Object.entries(i.selectors??{}))C[M]=cB(P,E,()=>Pc(v,E,b),j);return C})}return{reducerPath:_,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const y={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(s),injectInto(_,{reducerPath:j,...S}={}){const k=j??s;return _.inject({reducerPath:k,reducer:x},S),{...y,...w(k,!0)}}};return y}}function cB(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var cr=uB();function dB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function fB({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!mB(n))throw new Error(xr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Lr(e,s):Lr(e))}function hB(e){return e._reducerDefinitionType==="asyncThunk"}function mB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pB({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,f=i(e,a,c);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Oc,pending:o||Oc,rejected:l||Oc,settled:u||Oc})}function Oc(){}var vB="task",NN="listener",CN="completed",Ky="cancelled",gB=`task-${Ky}`,yB=`task-${CN}`,bg=`${NN}-${Ky}`,xB=`${NN}-${CN}`,Rh=class{constructor(e){Dm(this,"name","TaskAbortError");Dm(this,"message");this.code=e,this.message=`${vB} ${Ky} (reason: ${e})`}},Vy=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},of=()=>{},AN=(e,t=of)=>(e.catch(t),e),TN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Pa=e=>{if(e.aborted)throw new Rh(e.reason)};function IN(e,t){let r=of;return new Promise((n,i)=>{const a=()=>i(new Rh(e.reason));if(e.aborted){a();return}r=TN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=of})}var bB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Rh?"cancelled":"rejected",error:r}}finally{t==null||t()}},lf=e=>t=>AN(IN(e,t).then(r=>(Pa(e),r))),MN=e=>{const t=lf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ks}=Object,s_={},$h="listenerMiddleware",wB=(e,t)=>{const r=n=>TN(e,()=>n.abort(e.reason));return(n,i)=>{Vy(n);const a=new AbortController;r(a);const s=bB(async()=>{Pa(e),Pa(a.signal);const o=await n({pause:lf(a.signal),delay:MN(a.signal),signal:a.signal});return Pa(a.signal),o},()=>a.abort(yB));return i!=null&&i.autoJoin&&t.push(s.catch(of)),{result:lf(e)(s),cancel(){a.abort(gB)}}}},_B=(e,t)=>{const r=async(n,i)=>{Pa(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await IN(t,Promise.race(o));return Pa(t),l}finally{a()}};return(n,i)=>AN(r(n,i))},DN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Lr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return Vy(a),{predicate:i,type:t,effect:a}},RN=Ks(e=>{const{type:t,predicate:r,effect:n}=DN(e);return{id:sB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>RN}),o_=(e,t)=>{const{type:r,effect:n,predicate:i}=DN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},wg=e=>{e.pending.forEach(t=>{t.abort(bg)})},jB=(e,t)=>()=>{for(const r of t.keys())wg(r);e.clear()},l_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$N=Ks(Lr(`${$h}/add`),{withTypes:()=>$N}),SB=Lr(`${$h}/removeAll`),LN=Ks(Lr(`${$h}/remove`),{withTypes:()=>LN}),kB=(...e)=>{console.error(`${$h}/error`,...e)},Nu=(e={})=>{const t=new Map,r=new Map,n=p=>{const v=r.get(p)??0;r.set(p,v+1)},i=p=>{const v=r.get(p)??1;v===1?r.delete(p):r.set(p,v-1)},{extra:a,onError:s=kB}=e;Vy(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&wg(p)}),l=p=>{const v=o_(t,p)??RN(p);return o(v)};Ks(l,{withTypes:()=>l});const u=p=>{const v=o_(t,p);return v&&(v.unsubscribe(),p.cancelActive&&wg(v)),!!v};Ks(u,{withTypes:()=>u});const c=async(p,v,g,x)=>{const b=new AbortController,w=_B(l,b.signal),y=[];try{p.pending.add(b),n(p),await Promise.resolve(p.effect(v,Ks({},g,{getOriginalState:x,condition:(_,j)=>w(_,j).then(Boolean),take:w,delay:MN(b.signal),pause:lf(b.signal),extra:a,signal:b.signal,fork:wB(b.signal,y),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,j,S)=>{_!==b&&(_.abort(bg),S.delete(_))})},cancel:()=>{b.abort(bg),p.pending.delete(b)},throwIfCancelled:()=>{Pa(b.signal)}})))}catch(_){_ instanceof Rh||l_(s,_,{raisedBy:"effect"})}finally{await Promise.all(y),b.abort(xB),i(p),p.pending.delete(b)}},f=jB(t,r);return{middleware:p=>v=>g=>{if(!hN(g))return v(g);if($N.match(g))return l(g.payload);if(SB.match(g)){f();return}if(LN.match(g))return u(g.payload);let x=p.getState();const b=()=>{if(x===s_)throw new Error(xr(23));return x};let w;try{if(w=v(g),t.size>0){const y=p.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(g,y,x)}catch(k){S=!1,l_(s,k,{raisedBy:"predicate"})}S&&c(j,g,p,b)}}}finally{x=s_}return w},startListening:l,stopListening:u,clearListeners:f}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zN=cr({name:"chartLayout",initialState:EB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:PB,setLayout:OB,setChartSize:NB,setScale:CB}=zN.actions,AB=zN.reducer;function FN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ae(e){return Number.isFinite(e)}function Nn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){TB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TB(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function je(e,t,r){return Xe(e)||Xe(t)?r:On(t)?Ba(e,t,r):typeof t=="function"?t(e):r}var DB=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&q(e[a]))return Ds(Ds({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&q(e[s]))return Ds(Ds({},e),{},{[s]:e[s]+(i||0)})}return e},An=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BN=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},UN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(g=p==="angleAxis"&&a&&a.length>=2?wt(a[0]-a[1])*2*g:g,f||h){var x=(f||h||[]).map((b,w)=>{var y=n?n.indexOf(b):b,_=s.map(y);return ae(_)?{coordinate:_+g,value:b,offset:g,index:w}:null}).filter(nr);return x}return l&&u?u.map((b,w)=>{var y=s.map(b);return ae(y)?{coordinate:y+g,value:b,index:w,offset:g}:null}).filter(nr):s.ticks&&!r&&c!=null?s.ticks(c).map((b,w)=>{var y=s.map(b);return ae(y)?{coordinate:y+g,value:b,index:w,offset:g}:null}).filter(nr):s.domain().map((b,w)=>{var y=s.map(b);return ae(y)?{coordinate:y+g,value:n?n[b]:b,index:w,offset:g}:null}).filter(nr)},RB=(e,t)=>{if(!t||t.length!==2||!q(t[0])||!q(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!q(e[0])||e[0]<r)&&(i[0]=r),(!q(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},$B=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],h=on(c)?f:c;h>=0?(u[0]=a,a+=h,u[1]=a):(u[0]=s,s+=h,u[1]=s)}}}},LB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=on(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},zB={sign:$B,expand:x6,none:Fa,silhouette:b6,wiggle:w6,positive:LB},FB=(e,t,r)=>{var n,i=(n=zB[r])!==null&&n!==void 0?n:Fa,a=y6().keys(t).value((o,l)=>Number(je(o,l,0))).order(cg).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=je(e[c],t[l],0);Array.isArray(f)&&f.length===2&&q(f[0])&&q(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function WN(e){return e==null?void 0:String(e)}function c_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xe(i[t.dataKey])){var o=A2(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var l=je(i,Xe(s)?t.dataKey:s),u=t.scale.map(l);return q(u)?u:null}var d_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=je(a,t.dataKey,t.scale.domain()[s]);if(Xe(o))return null;var l=t.scale.map(o);return q(l)?l-i/2+n:null},BB=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},UB=e=>{var t=e.flat(2).filter(q);return[Math.min(...t),Math.max(...t)]},WB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],HB=(e,t,r)=>{if(e!=null)return WB(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=FN(u,t,r),f=UB(c);return!ae(f[0])||!ae(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},f_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,so=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Oh(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function m_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ds(Ds({},t),{},{dataKey:r,payload:n,value:i,name:a})}function So(e,t){if(e)return String(e);if(typeof t=="string")return t}var qB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},KB=(e,t)=>t==="centric"?e.angle:e.radius,hi=e=>e.layout.width,mi=e=>e.layout.height,VB=e=>e.layout.scale,HN=e=>e.layout.margin,Lh=I(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),zh=I(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qN="data-recharts-item-index",KN="data-recharts-item-id",Cu=60;function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){GB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=XB(e,"string");return typeof t=="symbol"?t:t+""}function XB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JB=e=>e.brush.height;function QB(e){var t=zh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Cu;return r+i}return r},0)}function ZB(e){var t=zh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Cu;return r+i}return r},0)}function eU(e){var t=Lh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function tU(e){var t=Lh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ht=I([hi,mi,HN,JB,QB,ZB,eU,tU,uN,OF],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=Nc(Nc({},f),c),p=h.bottom;h.bottom+=n,h=DB(h,l,u);var v=e-h.left-h.right,g=t-h.top-h.bottom;return Nc(Nc({brushBottom:p},h),{},{width:Math.max(v,0),height:Math.max(g,0)})}),rU=I(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gy=I(hi,mi,(e,t)=>({x:0,y:0,width:e,height:t})),nU=m.createContext(null),Ft=()=>m.useContext(nU)!=null,Fh=e=>e.brush,Bh=I([Fh,ht,HN],(e,t,r)=>({height:e.height,x:q(e.x)?e.x:t.left,y:q(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:q(e.width)?e.width:t.width})),VN={},GN={},YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{v(),s=void 0,o=null},x=()=>{c()},b=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const y=h==null;p(),l&&y&&c()};return b.schedule=p,b.cancel=g,b.flush=x,i==null||i.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(YN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YN;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const h=t.debounce(function(...g){c=n.apply(this,g),f=null},i,{edges:u}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},v=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=v,p}e.debounce=r})(GN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GN;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(VN);var iU=VN.throttle;const aU=ci(iU);var uf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},_n={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},XN=(e,t,r)=>{var{width:n=_n.width,height:i=_n.height,aspect:a,maxHeight:s}=r,o=Ua(n)?e:Number(n),l=Ua(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},sU={width:0,height:0,overflow:"visible"},oU={width:0,overflowX:"visible"},lU={height:0,overflowY:"visible"},uU={},cU=e=>{var{width:t,height:r}=e,n=Ua(t),i=Ua(r);return n&&i?sU:n?oU:i?lU:uU};function dU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=_n.width,a=_n.height):i===void 0?i=n&&n>0?void 0:_n.width:a===void 0&&(a=n&&n>0?void 0:_n.height),{width:i,height:a}}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(null,arguments)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JN=m.createContext(_n.initialDimension);function pU(e){return Nn(e.width)&&Nn(e.height)}function QN(e){var{children:t,width:r,height:n}=e,i=m.useMemo(()=>({width:r,height:n}),[r,n]);return pU(i)?m.createElement(JN.Provider,{value:i},t):null}var Yy=()=>m.useContext(JN),vU=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=_n.initialDimension,width:i,height:a,minWidth:s=_n.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=_n.debounce,id:f,className:h,onResize:p,style:v={}}=e,g=m.useRef(null),x=m.useRef();x.current=p,m.useImperativeHandle(t,()=>g.current);var[b,w]=m.useState({containerWidth:n.width,containerHeight:n.height}),y=m.useCallback((E,O)=>{w(C=>{var M=Math.round(E),P=Math.round(O);return C.containerWidth===M&&C.containerHeight===P?C:{containerWidth:M,containerHeight:P}})},[]);m.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Za;var E=P=>{var A,R=P[0];if(R!=null){var{width:W,height:G}=R.contentRect;y(W,G),(A=x.current)===null||A===void 0||A.call(x,W,G)}};c>0&&(E=aU(E,c,{trailing:!0,leading:!1}));var O=new ResizeObserver(E),{width:C,height:M}=g.current.getBoundingClientRect();return y(C,M),O.observe(g.current),()=>{O.disconnect()}},[y,c]);var{containerWidth:_,containerHeight:j}=b;uf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:k}=XN(_,j,{width:i,height:a,aspect:r,maxHeight:l});return uf(S!=null&&S>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,k,i,a,s,o,r),m.createElement("div",{id:f?"".concat(f):void 0,className:pe("recharts-responsive-container",h),style:g_(g_({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},m.createElement("div",{style:cU({width:i,height:a})},m.createElement(QN,{width:S,height:k},u)))}),ld=m.forwardRef((e,t)=>{var r=Yy();if(Nn(r.width)&&Nn(r.height))return e.children;var{width:n,height:i}=dU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=XN(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return q(a)&&q(s)?m.createElement(QN,{width:a,height:s},e.children):m.createElement(vU,_g({},e,{width:n,height:i,ref:t}))});function Xy(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Uh=()=>{var e,t=Ft(),r=Q(rU),n=Q(Bh),i=(e=Q(Fh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},gU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ZN=()=>{var e;return(e=Q(ht))!==null&&e!==void 0?e:gU},Jy=()=>Q(hi),Qy=()=>Q(mi),yU=()=>Q(e=>e.layout.margin),me=e=>e.layout.layoutType,es=()=>Q(me),Zy=()=>{var e=es();if(e==="horizontal"||e==="vertical")return e},eC=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},xU=()=>{var e=es();return e!==void 0},Au=e=>{var t=Ne(),r=Ft(),{width:n,height:i}=e,a=Yy(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),m.useEffect(()=>{!r&&Nn(s)&&Nn(o)&&t(NB({width:s,height:o}))},[t,r,s,o]),null},tC=Symbol.for("immer-nothing"),y_=Symbol.for("immer-draftable"),wr=Symbol.for("immer-state");function Zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var eu=Object.getPrototypeOf;function oo(e){return!!e&&!!e[wr]}function Ha(e){var t;return e?rC(e)||Array.isArray(e)||!!e[y_]||!!((t=e.constructor)!=null&&t[y_])||Tu(e)||Hh(e):!1}var bU=Object.prototype.constructor.toString(),x_=new WeakMap;function rC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=x_.get(r);return n===void 0&&(n=Function.toString.call(r),x_.set(r,n)),n===bU}function cf(e,t,r=!0){Wh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Wh(e){const t=e[wr];return t?t.type_:Array.isArray(e)?1:Tu(e)?2:Hh(e)?3:0}function jg(e,t){return Wh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nC(e,t,r){const n=Wh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function wU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tu(e){return e instanceof Map}function Hh(e){return e instanceof Set}function pa(e){return e.copy_||e.base_}function Sg(e,t){if(Tu(e))return new Map(e);if(Hh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=rC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[wr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(eu(e),n)}else{const n=eu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function ex(e,t=!1){return qh(e)||oo(e)||!Ha(e)||(Wh(e)>1&&Object.defineProperties(e,{set:Cc,add:Cc,clear:Cc,delete:Cc}),Object.freeze(e),t&&Object.values(e).forEach(r=>ex(r,!0))),e}function _U(){Zr(2)}var Cc={value:_U};function qh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var jU={};function qa(e){const t=jU[e];return t||Zr(0,e),t}var tu;function iC(){return tu}function SU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b_(e,t){t&&(qa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kg(e){Eg(e),e.drafts_.forEach(kU),e.drafts_=null}function Eg(e){e===tu&&(tu=e.parent_)}function w_(e){return tu=SU(tu,e)}function kU(e){const t=e[wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function __(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[wr].modified_&&(kg(t),Zr(4)),Ha(e)&&(e=df(t,e),t.parent_||ff(t,e)),t.patches_&&qa("Patches").generateReplacementPatches_(r[wr].base_,e,t.patches_,t.inversePatches_)):e=df(t,r,[]),kg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tC?e:void 0}function df(e,t,r){if(qh(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[wr];if(!i)return cf(t,(a,s)=>j_(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return ff(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),cf(s,(l,u)=>j_(e,i,a,l,u,r,o),n),ff(e,a,!1),r&&e.patches_&&qa("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function j_(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=qh(i);if(!(o&&!s)){if(oo(i)){const l=a&&t&&t.type_!==3&&!jg(t.assigned_,n)?a.concat(n):void 0,u=df(e,i,l);if(nC(r,n,u),oo(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Ha(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;df(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Tu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ff(e,i)}}}function ff(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ex(t,r)}function EU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:iC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=tx;r&&(i=[n],a=ru);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var tx={get(e,t){if(t===wr)return e;const r=pa(e);if(!jg(r,t))return PU(e,r,t);const n=r[t];return e.finalized_||!Ha(n)?n:n===kp(e.base_,t)?(Ep(e),e.copy_[t]=Og(n,e)):n},has(e,t){return t in pa(e)},ownKeys(e){return Reflect.ownKeys(pa(e))},set(e,t,r){const n=aC(pa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=kp(pa(e),t),a=i==null?void 0:i[wr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(wU(r,i)&&(r!==void 0||jg(e.base_,t)))return!0;Ep(e),Pg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ep(e),Pg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Zr(11)},getPrototypeOf(e){return eu(e.base_)},setPrototypeOf(){Zr(12)}},ru={};cf(tx,(e,t)=>{ru[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ru.deleteProperty=function(e,t){return ru.set.call(this,e,t,void 0)};ru.set=function(e,t,r){return tx.set.call(this,e[0],t,r,e[0])};function kp(e,t){const r=e[wr];return(r?pa(r):e)[t]}function PU(e,t,r){var i;const n=aC(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function aC(e,t){if(!(t in e))return;let r=eu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=eu(r)}}function Pg(e){e.modified_||(e.modified_=!0,e.parent_&&Pg(e.parent_))}function Ep(e){e.copy_||(e.copy_=Sg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Zr(6),n!==void 0&&typeof n!="function"&&Zr(7);let i;if(Ha(t)){const a=w_(this),s=Og(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?kg(a):Eg(a)}return b_(a,n),__(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===tC&&(i=void 0),this.autoFreeze_&&ex(i,!0),n){const a=[],s=[];qa("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Zr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ha(e)||Zr(8),oo(e)&&(e=NU(e));const t=w_(this),r=Og(e,void 0);return r[wr].isManual_=!0,Eg(t),r}finishDraft(e,t){const r=e&&e[wr];(!r||!r.isManual_)&&Zr(9);const{scope_:n}=r;return b_(n,t),__(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=qa("Patches").applyPatches_;return oo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Og(e,t){const r=Tu(e)?qa("MapSet").proxyMap_(e,t):Hh(e)?qa("MapSet").proxySet_(e,t):EU(e,t);return(t?t.scope_:iC()).drafts_.push(r),r}function NU(e){return oo(e)||Zr(10,e),sC(e)}function sC(e){if(!Ha(e)||qh(e))return e;const t=e[wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Sg(e,!0);return cf(r,(i,a)=>{nC(r,i,sC(a))},n),t&&(t.finalized_=!1),r}var CU=new OU;CU.produce;var AU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oC=cr({name:"legend",initialState:AU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:$e()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=nn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:$e()},removeLegendPayload:{reducer(e,t){var r=nn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:$e()}}}),{setLegendSize:S_,setLegendSettings:TU,addLegendPayload:lC,replaceLegendPayload:uC,removeLegendPayload:cC}=oC.actions,IU=oC.reducer,MU=["contextPayload"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=RU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LU(e,t){if(e==null)return{};var r,n,i=zU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FU(e){return e.value}function BU(e){var{contextPayload:t}=e,r=LU(e,MU),n=Q2(t,e.payloadUniqBy,FU),i=lo(lo({},r),{},{payload:n});return m.isValidElement(e.content)?m.cloneElement(e.content,i):typeof e.content=="function"?m.createElement(e.content,i):m.createElement(V6,i)}function UU(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),lo(lo({},u),c)}function WU(e){var t=Ne();return m.useEffect(()=>{t(TU(e))},[t,e]),null}function HU(e){var t=Ne();return m.useEffect(()=>(t(S_(e)),()=>{t(S_({width:0,height:0}))}),[t,e]),null}function qU(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var KU={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function dC(e){var t=at(e,KU),r=AF(),n=Uz(),i=yU(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=cN([r]),f=Jy(),h=Qy();if(f==null||h==null)return null;var p=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=qU(t.layout,s,a,p),g=l?o:lo(lo({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||s||"auto"},UU(o,t,i,f,h,u)),o),x=l??n;if(x==null||r==null)return null;var b=m.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},m.createElement(WU,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&m.createElement(HU,{width:u.width,height:u.height}),m.createElement(BU,Ng({},t,v,{margin:i,chartWidth:f,chartHeight:h,contextPayload:r})));return uh.createPortal(b,x)}dC.displayName="Legend";function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(null,arguments)}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XU(e){return Array.isArray(e)&&On(e[0])&&On(e[1])?e.join(" ~ "):e}var ps={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},JU=e=>{var{separator:t=ps.separator,contentStyle:r,itemStyle:n,labelStyle:i=ps.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=ps.accessibilityLayer}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},S=(o?Oh(a,o):a).map((k,E)=>{if(k.type==="none")return null;var O=k.formatter||s||XU,{value:C,name:M}=k,P=C,A=M;if(O){var R=O(C,M,k,E,a);if(Array.isArray(R))[P,A]=R;else if(R!=null)P=R;else return null}var W=Ko(Ko({},ps.itemStyle),{},{color:k.color||ps.itemStyle.color},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:W},On(A)?m.createElement("span",{className:"recharts-tooltip-item-name"},A):null,On(A)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},P),m.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},v=Ko(Ko({},ps.contentStyle),r),g=Ko({margin:0},i),x=!Xe(c),b=x?c:"",w=pe("recharts-default-tooltip",l),y=pe("recharts-tooltip-label",u);x&&f&&a!==void 0&&a!==null&&(b=f(c,a));var _=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",Cg({className:w,style:v},_),m.createElement("p",{className:y,style:g},m.isValidElement(b)?b:"".concat(b)),p())},Vo="recharts-tooltip-wrapper",QU={visibility:"hidden"};function ZU(e){var{coordinate:t,translateX:r,translateY:n}=e;return pe(Vo,{["".concat(Vo,"-right")]:q(r)&&t&&q(t.x)&&r>=t.x,["".concat(Vo,"-left")]:q(r)&&t&&q(t.x)&&r<t.x,["".concat(Vo,"-bottom")]:q(n)&&t&&q(t.y)&&n>=t.y,["".concat(Vo,"-top")]:q(n)&&t&&q(t.y)&&n<t.y})}function P_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&q(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?c:f;var h=l[n];if(h==null)return 0;if(s[n]){var p=c,v=h;return p<v?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var g=f+o,x=h+u;return g>x?Math.max(c,h):Math.max(f,h)}function e8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function t8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,f,h;return o.height>0&&o.width>0&&r?(f=P_({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=P_({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=e8({translateX:f,translateY:h,useTranslate3d:l})):c=QU,{cssProperties:c,cssClasses:ZU({translateX:f,translateY:h,coordinate:r})}}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ag(e,t,r){return(t=r8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=n8(e,"string");return typeof t=="symbol"?t:t+""}function n8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class i8 extends m.PureComponent{constructor(){super(...arguments),Ag(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ag(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:v,lastBoundingBox:g,innerRef:x,hasPortalFromProps:b}=this.props,w=typeof u=="number"?u:u.x,y=typeof u=="number"?u:u.y,{cssClasses:_,cssProperties:j}=t8({allowEscapeViewBox:r,coordinate:s,offsetLeft:w,offsetTop:y,position:c,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=b?{}:Ac(Ac({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Ac(Ac({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:x},a)}}var fC=()=>{var e;return(e=Q(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A_={curveBasisClosed:o6,curveBasisOpen:l6,curveBasis:s6,curveBumpX:Kz,curveBumpY:Vz,curveLinearClosed:u6,curveLinear:bh,curveMonotoneX:c6,curveMonotoneY:d6,curveNatural:f6,curveStep:h6,curveStepAfter:p6,curveStepBefore:m6},hf=e=>ae(e.x)&&ae(e.y),T_=e=>e.base!=null&&hf(e.base)&&hf(e),Go=e=>e.x,Yo=e=>e.y,l8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Eu(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=A_["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return A_[r]||bh},I_={connectNulls:!1,type:"linear"},u8=e=>{var{type:t=I_.type,points:r=[],baseLine:n,layout:i,connectNulls:a=I_.connectNulls}=e,s=l8(t,i),o=a?r.filter(hf):r;if(Array.isArray(n)){var l,u=r.map((v,g)=>C_(C_({},v),{},{base:n[g]}));i==="vertical"?l=jc().y(Yo).x1(Go).x0(v=>v.base.x):l=jc().x(Go).y1(Yo).y0(v=>v.base.y);var c=l.defined(T_).curve(s),f=a?u.filter(T_):u;return c(f)}var h;i==="vertical"&&q(n)?h=jc().y(Yo).x1(Go).x0(n):q(n)?h=jc().x(Go).y1(Yo).y0(n):h=g2().x(Go).y(Yo);var p=h.defined(hf).curve(s);return p(o)},Vs=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=es();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?u8(s):n;return m.createElement("path",Tg({},ur(e),Cy(e),{className:pe("recharts-curve",t),d:o===null?void 0:o,ref:i}))},c8=["x","y","top","left","width","height","className"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(null,arguments)}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){f8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8(e,t,r){return(t=h8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=m8(e,"string");return typeof t=="symbol"?t:t+""}function m8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8(e,t){if(e==null)return{};var r,n,i=v8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),y8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=p8(e,c8),u=d8({x:t,y:r,top:n,left:i,width:a,height:s},l);return!q(t)||!q(r)||!q(a)||!q(s)||!q(n)||!q(i)?null:m.createElement("path",Ig({},Vt(u),{className:pe("recharts-cross",o),d:g8(t,r,a,s,n,i)}))};function x8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){b8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b8(e,t,r){return(t=w8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w8(e){var t=_8(e,"string");return typeof t=="symbol"?t:t+""}function _8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hC=(e,t,r)=>e.map(n=>"".concat(j8(n)," ").concat(t,"ms ").concat(r)).join(","),S8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),nu=(e,t)=>Object.keys(t).reduce((r,n)=>R_(R_({},r),{},{[n]:e(n,t[n])}),{});function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){k8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8(e,t,r){return(t=E8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=P8(e,"string");return typeof t=="symbol"?t:t+""}function P8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mf=(e,t,r)=>e+(t-e)*r,Mg=e=>{var{from:t,to:r}=e;return t!==r},mC=(e,t,r)=>{var n=nu((i,a)=>{if(Mg(a)){var[s,o]=e(a.from,a.to,a.velocity);return dt(dt({},a),{},{from:s,velocity:o})}return a},t);return r<1?nu((i,a)=>Mg(a)&&n[i]!=null?dt(dt({},a),{},{velocity:mf(a.velocity,n[i].velocity,r),from:mf(a.from,n[i].from,r)}):a,t):mC(e,n,r-1)};function O8(e,t,r,n,i,a){var s,o=n.reduce((h,p)=>dt(dt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>nu((h,p)=>p.from,o),u=()=>!Object.values(o).filter(Mg).length,c=null,f=h=>{s||(s=h);var p=h-s,v=p/r.dt;o=mC(r,o,v),i(dt(dt(dt({},e),t),l())),s=h,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}function N8(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,h)=>{var p=e[h],v=t[h];return p==null||v==null?f:dt(dt({},f),{},{[h]:[p,v]})},{}),u,c=f=>{u||(u=f);var h=(f-u)/n,p=nu((g,x)=>mf(...x,r(h)),l);if(a(dt(dt(dt({},e),t),p)),h<1)o=s.setTimeout(c);else{var v=nu((g,x)=>mf(...x,r(1)),l);a(dt(dt(dt({},e),t),v))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const C8=(e,t,r,n,i,a)=>{var s=S8(e,t);return r==null?()=>(i(dt(dt({},e),t)),()=>{}):r.isStepper===!0?O8(e,t,r,s,i,a):N8(e,t,r,n,s,i,a)};var pf=1e-4,pC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],vC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),L_=(e,t)=>r=>{var n=pC(e,t);return vC(n,r)},A8=(e,t)=>r=>{var n=pC(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return vC(i,r)},T8=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},I8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=T8(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},M8=(e,t,r,n)=>{var i=L_(e,r),a=L_(t,n),s=A8(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,h=0;h<8;++h){var p=i(f)-c,v=s(f);if(Math.abs(p-c)<pf||v<pf)return a(f);f=o(f-p/v)}return a(f)};return l.isStepper=!1,l},z_=function(){return M8(...I8(...arguments))},D8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<pf&&Math.abs(f)<pf?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},R8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return z_(e);case"spring":return D8();default:if(e.split("(")[0]==="cubic-bezier")return z_(e)}return typeof e=="function"?e:null};function $8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class L8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function z8(){return $8(new L8)}var F8=m.createContext(z8);function B8(e,t){var r=m.useContext(F8);return m.useMemo(()=>t??r(e),[e,t,r])}var U8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Iu={devToolsEnabled:!0,isSsr:U8()},W8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},F_={t:0},Pp={t:1};function Mu(e){var t=at(e,W8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!Iu.isSsr:r,f=B8(t.animationId,t.animationManager),[h,p]=m.useState(c?F_:Pp),v=m.useRef(null);return m.useEffect(()=>{c||p(Pp)},[c]),m.useEffect(()=>{if(!c||!n)return Za;var g=C8(F_,Pp,R8(a),i,p,f.getTimeoutController()),x=()=>{v.current=g()};return f.start([l,s,x,i,o]),()=>{f.stop(),v.current&&v.current(),o()}},[c,n,i,a,s,l,o,f]),u(h.t)}function Du(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(Xl(t)),n=m.useRef(e);return n.current!==e&&(r.current=Xl(t),n.current=e),r.current}var H8=["radius"],q8=["radius"],B_,U_,W_,H_,q_,K_,V_,G_,Y_,X_;function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){K8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K8(e,t,r){return(t=V8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(null,arguments)}function Z_(e,t){if(e==null)return{};var r,n,i=Y8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ej=(e,t,r,n,i)=>{var a=Mi(r),s=Mi(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var h=[0,0,0,0],p=0,v=4;p<v;p++){var g,x=(g=i[p])!==null&&g!==void 0?g:0;h[p]=x>o?o:x}f=Ke(B_||(B_=hn(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Ke(U_||(U_=hn(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),f+=Ke(W_||(W_=hn(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=Ke(H_||(H_=hn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+l*h[1])),f+=Ke(q_||(q_=hn(["L ",",",""])),e+r,t+n-l*h[2]),h[2]>0&&(f+=Ke(K_||(K_=hn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-u*h[2],t+n)),f+=Ke(V_||(V_=hn(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=Ke(G_||(G_=hn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);f=Ke(Y_||(Y_=hn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*b,b,b,c,e+u*b,t,e+r-u*b,t,b,b,c,e+r,t+l*b,e+r,t+n-l*b,b,b,c,e+r-u*b,t+n,e+u*b,t+n,b,b,c,e,t+n-l*b)}else f=Ke(X_||(X_=hn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},tj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gC=e=>{var t=at(e,tj),r=m.useRef(null),[n,i]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:g}=t,x=m.useRef(o),b=m.useRef(l),w=m.useRef(a),y=m.useRef(s),_=m.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),j=Du(_,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=pe("recharts-rectangle",c);if(!g){var k=Vt(t),E=Z_(k,H8);return m.createElement("path",vf({},E,{x:Mi(a),y:Mi(s),width:Mi(o),height:Mi(l),radius:typeof u=="number"?u:void 0,className:S,d:ej(a,s,o,l,u)}))}var O=x.current,C=b.current,M=w.current,P=y.current,A="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),W=hC(["strokeDasharray"],h,typeof f=="string"?f:tj.animationEasing);return m.createElement(Mu,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:g,begin:p},G=>{var te=Me(O,o,G),L=Me(C,l,G),U=Me(M,a,G),H=Me(P,s,G);r.current&&(x.current=te,b.current=L,w.current=U,y.current=H);var J;v?G>0?J={transition:W,strokeDasharray:R}:J={strokeDasharray:A}:J={strokeDasharray:R};var se=Vt(t),le=Z_(se,q8);return m.createElement("path",vf({},le,{radius:typeof u=="number"?u:void 0,className:S,d:ej(U,H,te,L,u),ref:r,style:Q_(Q_({},J),t.style)}))})};function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return(t=J8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=Q8(e,"string");return typeof t=="symbol"?t:t+""}function Q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gf=Math.PI/180,Z8=e=>e*180/Math.PI,nt=(e,t,r,n)=>({x:e+Math.cos(-gf*n)*r,y:t+Math.sin(-gf*n)*r}),yC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},e7=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},t7=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=e7({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:Z8(l),angleInRadian:l}},r7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},n7=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},i7=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=t7({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=r7(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?nj(nj({},t),{},{radius:i,angle:n7(c,t)}):null};function xC(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=nt(t,r,n,i),o=nt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var ij,aj,sj,oj,lj,uj,cj;function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(null,arguments)}function wa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a7=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/gf,f=l?i:i+a*c,h=nt(t,r,u,f),p=nt(t,r,n,f),v=l?i-a*c:i,g=nt(t,r,u*Math.cos(c*gf),v);return{center:h,circleTangency:p,lineTangency:g,theta:c}},bC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=a7(a,s),l=a+o,u=nt(t,r,i,a),c=nt(t,r,i,l),f=Ke(ij||(ij=wa(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(n>0){var h=nt(t,r,n,a),p=nt(t,r,n,l);f+=Ke(aj||(aj=wa(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Ke(sj||(sj=wa(["L ",","," Z"])),t,r);return f},s7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=wt(u-l),{circleTangency:f,lineTangency:h,theta:p}=Tc({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:g,theta:x}=Tc({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-u):Math.abs(l-u)-p-x;if(b<0)return s?Ke(oj||(oj=wa(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):bC({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var w=Ke(lj||(lj=wa(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),f.x,f.y,i,i,+(b>180),+(c<0),v.x,v.y,a,a,+(c<0),g.x,g.y);if(n>0){var{circleTangency:y,lineTangency:_,theta:j}=Tc({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:k,theta:E}=Tc({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),O=o?Math.abs(l-u):Math.abs(l-u)-j-E;if(O<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Ke(uj||(uj=wa(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,a,a,+(c<0),S.x,S.y,n,n,+(O>180),+(c>0),y.x,y.y,a,a,+(c<0),_.x,_.y)}else w+=Ke(cj||(cj=wa(["L",",","Z"])),t,r);return w},o7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wC=e=>{var t=at(e,o7),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var h=pe("recharts-sector",f),p=a-i,v=Lt(s,p,0,!0),g;return v>0&&Math.abs(u-c)<360?g=s7({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):g=bC({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),m.createElement("path",Dg({},Vt(t),{className:h,d:g}))};function l7(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(I2(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=nt(n,i,a,o),u=nt(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return xC(t)}}var _C={},jC={},SC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(SC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(jC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=jC;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(_C);var u7=_C.range;const kC=ci(u7);function Hi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rx(e){let t,r,n;e.length!==2?(t=Hi,r=(o,l)=>Hi(e(o),l),n=(o,l)=>e(o)-l):(t=e===Hi||e===c7?e:d7,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function d7(){return 0}function EC(e){return e===null?NaN:+e}function*f7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const h7=rx(Hi),Ru=h7.right;rx(EC).center;class dj extends Map{constructor(t,r=v7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(fj(this,t))}has(t){return super.has(fj(this,t))}set(t,r){return super.set(m7(this,t),r)}delete(t){return super.delete(p7(this,t))}}function fj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function m7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function p7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function v7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function g7(e=Hi){if(e===Hi)return PC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const y7=Math.sqrt(50),x7=Math.sqrt(10),b7=Math.sqrt(2);function yf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=y7?10:a>=x7?5:a>=b7?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?yf(e,t,r*2):[o,l,u]}function Rg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?yf(t,e,r):yf(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function $g(e,t,r){return t=+t,e=+e,r=+r,yf(e,t,r)[2]}function Lg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?$g(t,e,r):$g(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function hj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?PC:g7(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));OC(e,t,p,v,i)}const a=e[t];let s=r,o=n;for(Xo(e,r,t),i(e[n],a)>0&&Xo(e,r,n);s<o;){for(Xo(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Xo(e,r,o):(++o,Xo(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Xo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w7(e,t,r){if(e=Float64Array.from(f7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return mj(e);if(t>=1)return hj(e);var n,i=(n-1)*t,a=Math.floor(i),s=hj(OC(e,a).subarray(0,a+1)),o=mj(e.subarray(a+1));return s+(o-s)*(i-a)}}function _7(e,t,r=EC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function j7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Ur(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zg=Symbol("implicit");function nx(){var e=new dj,t=[],r=[],n=zg;function i(a){let s=e.get(a);if(s===void 0){if(n!==zg)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new dj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nx(t,r).unknown(n)},Ur.apply(i,arguments),i}function ix(){var e=nx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,p=i<n,v=p?i:n,g=p?n:i;a=(g-v)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),v+=(g-v-a*(h-l))*c,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var x=j7(h).map(function(b){return v+a*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return ix(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Ur.apply(f(),arguments)}function NC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NC(t())},e}function S7(){return NC(ix.apply(null,arguments).paddingInner(1))}function ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $u(){}var iu=.7,xf=1/iu,Gs="\\s*([+-]?\\d+)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k7=/^#([0-9a-f]{3,8})$/,E7=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),P7=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),O7=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${au}\\)$`),N7=new RegExp(`^rgba\\(${En},${En},${En},${au}\\)$`),C7=new RegExp(`^hsl\\(${au},${En},${En}\\)$`),A7=new RegExp(`^hsla\\(${au},${En},${En},${au}\\)$`),pj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax($u,su,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vj,formatHex:vj,formatHex8:T7,formatHsl:I7,formatRgb:gj,toString:gj});function vj(){return this.rgb().formatHex()}function T7(){return this.rgb().formatHex8()}function I7(){return AC(this).formatHsl()}function gj(){return this.rgb().formatRgb()}function su(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=k7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yj(t):r===3?new ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ic(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ic(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E7.exec(e))?new ir(t[1],t[2],t[3],1):(t=P7.exec(e))?new ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=O7.exec(e))?Ic(t[1],t[2],t[3],t[4]):(t=N7.exec(e))?Ic(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=C7.exec(e))?wj(t[1],t[2]/100,t[3]/100,1):(t=A7.exec(e))?wj(t[1],t[2]/100,t[3]/100,t[4]):pj.hasOwnProperty(e)?yj(pj[e]):e==="transparent"?new ir(NaN,NaN,NaN,0):null}function yj(e){return new ir(e>>16&255,e>>8&255,e&255,1)}function Ic(e,t,r,n){return n<=0&&(e=t=r=NaN),new ir(e,t,r,n)}function M7(e){return e instanceof $u||(e=su(e)),e?(e=e.rgb(),new ir(e.r,e.g,e.b,e.opacity)):new ir}function Fg(e,t,r,n){return arguments.length===1?M7(e):new ir(e,t,r,n??1)}function ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ax(ir,Fg,CC($u,{brighter(e){return e=e==null?xf:Math.pow(xf,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?iu:Math.pow(iu,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ir(Oa(this.r),Oa(this.g),Oa(this.b),bf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xj,formatHex:xj,formatHex8:D7,formatRgb:bj,toString:bj}));function xj(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}`}function D7(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}${_a((isNaN(this.opacity)?1:this.opacity)*255)}`}function bj(){const e=bf(this.opacity);return`${e===1?"rgb(":"rgba("}${Oa(this.r)}, ${Oa(this.g)}, ${Oa(this.b)}${e===1?")":`, ${e})`}`}function bf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _a(e){return e=Oa(e),(e<16?"0":"")+e.toString(16)}function wj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function AC(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=su(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new en(s,o,l,e.opacity)}function R7(e,t,r,n){return arguments.length===1?AC(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ax(en,R7,CC($u,{brighter(e){return e=e==null?xf:Math.pow(xf,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?iu:Math.pow(iu,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ir(Op(e>=240?e-240:e+120,i,n),Op(e,i,n),Op(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new en(_j(this.h),Mc(this.s),Mc(this.l),bf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bf(this.opacity);return`${e===1?"hsl(":"hsla("}${_j(this.h)}, ${Mc(this.s)*100}%, ${Mc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _j(e){return e=(e||0)%360,e<0?e+360:e}function Mc(e){return Math.max(0,Math.min(1,e||0))}function Op(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sx=e=>()=>e;function $7(e,t){return function(r){return e+r*t}}function L7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function z7(e){return(e=+e)==1?TC:function(t,r){return r-t?L7(t,r,e):sx(isNaN(t)?r:t)}}function TC(e,t){var r=t-e;return r?$7(e,r):sx(isNaN(e)?t:e)}const jj=function e(t){var r=z7(t);function n(i,a){var s=r((i=Fg(i)).r,(a=Fg(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=TC(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function F7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function B7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ko(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function W7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function H7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ko(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Bg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Np=new RegExp(Bg.source,"g");function q7(e){return function(){return e}}function K7(e){return function(t){return e(t)+""}}function V7(e,t){var r=Bg.lastIndex=Np.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Bg.exec(e))&&(i=Np.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:wf(n,i)})),r=Np.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?K7(l[0].x):q7(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function ko(e,t){var r=typeof t,n;return t==null||r==="boolean"?sx(t):(r==="number"?wf:r==="string"?(n=su(t))?(t=n,jj):V7:t instanceof su?jj:t instanceof Date?W7:B7(t)?F7:Array.isArray(t)?U7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?H7:wf)(e,t)}function ox(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function G7(e,t){t===void 0&&(t=e,e=ko);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Y7(e){return function(){return e}}function _f(e){return+e}var Sj=[0,1];function qt(e){return e}function Ug(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Y7(isNaN(t)?NaN:.5)}function X7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function J7(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Ug(i,n),a=r(s,a)):(n=Ug(n,i),a=r(a,s)),function(o){return a(n(o))}}function Q7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Ug(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Ru(e,o,1,n)-1;return a[l](i[l](o))}}function Lu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kh(){var e=Sj,t=Sj,r=ko,n,i,a,s=qt,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==qt&&(s=X7(e[0],e[h-1])),o=h>2?Q7:J7,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),wf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,_f),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ox,c()},f.clamp=function(h){return arguments.length?(s=h?!0:qt,c()):s!==qt},f.interpolate=function(h){return arguments.length?(r=h,c()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,c()}}function lx(){return Kh()(qt,qt)}function Z7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function uo(e){return e=jf(Math.abs(e)),e?e[1]:NaN}function eW(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function tW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ou(e){if(!(t=rW.exec(e)))throw new Error("invalid format: "+e);var t;return new ux({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ou.prototype=ux.prototype;function ux(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ux.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nW(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Sf;function iW(e,t){var r=jf(e,t);if(!r)return Sf=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(Sf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+jf(e,Math.max(0,t+a-1))[0]}function kj(e,t){var r=jf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Ej={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Z7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kj(e*100,t),r:kj,s:iW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Pj(e){return e}var Oj=Array.prototype.map,Nj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aW(e){var t=e.grouping===void 0||e.thousands===void 0?Pj:eW(Oj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Pj:tW(Oj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=ou(f);var p=f.fill,v=f.align,g=f.sign,x=f.symbol,b=f.zero,w=f.width,y=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(y=!0,S="g"):Ej[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||p==="0"&&v==="=")&&(b=!0,p="0",v="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),E=(x==="$"?n:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),O=Ej[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function M(P){var A=k,R=E,W,G,te;if(S==="c")R=O(P)+R,P="";else{P=+P;var L=P<0||1/P<0;if(P=isNaN(P)?l:O(Math.abs(P),_),j&&(P=nW(P)),L&&+P==0&&g!=="+"&&(L=!1),A=(L?g==="("?g:o:g==="-"||g==="("?"":g)+A,R=(S==="s"&&!isNaN(P)&&Sf!==void 0?Nj[8+Sf/3]:"")+R+(L&&g==="("?")":""),C){for(W=-1,G=P.length;++W<G;)if(te=P.charCodeAt(W),48>te||te>57){R=(te===46?i+P.slice(W+1):P.slice(W))+R,P=P.slice(0,W);break}}}y&&!b&&(P=t(P,1/0));var U=A.length+P.length+R.length,H=U<w?new Array(w-U+1).join(p):"";switch(y&&b&&(P=t(H+P,H.length?w-R.length:1/0),H=""),v){case"<":P=A+P+R+H;break;case"=":P=A+H+P+R;break;case"^":P=H.slice(0,U=H.length>>1)+A+P+R+H.slice(U);break;default:P=H+A+P+R;break}return a(P)}return M.toString=function(){return f+""},M}function c(f,h){var p=Math.max(-8,Math.min(8,Math.floor(uo(h)/3)))*3,v=Math.pow(10,-p),g=u((f=ou(f),f.type="f",f),{suffix:Nj[8+p/3]});return function(x){return g(v*x)}}return{format:u,formatPrefix:c}}var Dc,cx,IC;sW({thousands:",",grouping:[3],currency:["$",""]});function sW(e){return Dc=aW(e),cx=Dc.format,IC=Dc.formatPrefix,Dc}function oW(e){return Math.max(0,-uo(Math.abs(e)))}function lW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uo(t)/3)))*3-uo(Math.abs(e)))}function uW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uo(t)-uo(e))+1}function MC(e,t,r,n){var i=Lg(e,t,r),a;switch(n=ou(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=lW(i,s))&&(n.precision=a),IC(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=uW(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=oW(i))&&(n.precision=a-(n.type==="%")*2);break}}return cx(n)}function na(e){var t=e.domain;return e.ticks=function(r){var n=t();return Rg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return MC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=$g(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function DC(){var e=lx();return e.copy=function(){return Lu(e,DC())},Ur.apply(e,arguments),na(e)}function RC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_f),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return RC(e).unknown(t)},e=arguments.length?Array.from(e,_f):[0,1],na(r)}function $C(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Cj(e){return Math.log(e)}function Aj(e){return Math.exp(e)}function cW(e){return-Math.log(-e)}function dW(e){return-Math.exp(-e)}function fW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hW(e){return e===10?fW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tj(e){return(t,r)=>-e(-t,r)}function dx(e){const t=e(Cj,Aj),r=t.domain;let n=10,i,a;function s(){return i=mW(n),a=hW(n),r()[0]<0?(i=Tj(i),a=Tj(a),e(cW,dW)):e(Cj,Aj),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),v,g;const x=o==null?10:+o;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(g=h<0?v/a(-h):v*a(h),!(g<u)){if(g>c)break;b.push(g)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/a(-h):v*a(h),!(g<u)){if(g>c)break;b.push(g)}b.length*2<x&&(b=Rg(u,c,x))}else b=Rg(h,p,Math.min(p-h,x)).map(a);return f?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ou(l)).precision==null&&(l.trim=!0),l=cx(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},t.nice=()=>r($C(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function LC(){const e=dx(Kh()).domain([1,10]);return e.copy=()=>Lu(e,LC()).base(e.base()),Ur.apply(e,arguments),e}function Ij(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Mj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fx(e){var t=1,r=e(Ij(t),Mj(t));return r.constant=function(n){return arguments.length?e(Ij(t=+n),Mj(t)):t},na(r)}function zC(){var e=fx(Kh());return e.copy=function(){return Lu(e,zC()).constant(e.constant())},Ur.apply(e,arguments)}function Dj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vW(e){return e<0?-e*e:e*e}function hx(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(pW,vW):e(Dj(r),Dj(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},na(t)}function mx(){var e=hx(Kh());return e.copy=function(){return Lu(e,mx()).exponent(e.exponent())},Ur.apply(e,arguments),e}function gW(){return mx.apply(null,arguments).exponent(.5)}function Rj(e){return Math.sign(e)*e*e}function yW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FC(){var e=lx(),t=[0,1],r=!1,n;function i(a){var s=yW(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Rj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,_f)).map(Rj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return FC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ur.apply(i,arguments),na(i)}function BC(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=_7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Ru(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Hi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return BC().domain(e).range(t).unknown(n)},Ur.apply(a,arguments)}function UC(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ru(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return UC().domain([e,t]).range(i).unknown(a)},Ur.apply(na(s),arguments)}function WC(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Ru(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WC().domain(e).range(t).unknown(r)},Ur.apply(i,arguments)}const Cp=new Date,Ap=new Date;function mt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>mt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Cp.setTime(+a),Ap.setTime(+s),e(Cp),e(Ap),Math.floor(r(Cp,Ap))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const kf=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kf);kf.range;const qn=1e3,Tr=qn*60,Kn=Tr*60,ii=Kn*24,px=ii*7,$j=ii*30,Tp=ii*365,ja=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCSeconds());ja.range;const vx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());vx.range;const gx=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());gx.range;const yx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getHours());yx.range;const xx=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getUTCHours());xx.range;const zu=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/ii,e=>e.getDate()-1);zu.range;const Vh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ii,e=>e.getUTCDate()-1);Vh.range;const HC=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ii,e=>Math.floor(e/ii));HC.range;function ts(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/px)}const Gh=ts(0),Ef=ts(1),xW=ts(2),bW=ts(3),co=ts(4),wW=ts(5),_W=ts(6);Gh.range;Ef.range;xW.range;bW.range;co.range;wW.range;_W.range;function rs(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/px)}const Yh=rs(0),Pf=rs(1),jW=rs(2),SW=rs(3),fo=rs(4),kW=rs(5),EW=rs(6);Yh.range;Pf.range;jW.range;SW.range;fo.range;kW.range;EW.range;const bx=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bx.range;const wx=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wx.range;const ai=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ai.range;const si=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});si.range;function qC(e,t,r,n,i,a){const s=[[ja,1,qn],[ja,5,5*qn],[ja,15,15*qn],[ja,30,30*qn],[a,1,Tr],[a,5,5*Tr],[a,15,15*Tr],[a,30,30*Tr],[i,1,Kn],[i,3,3*Kn],[i,6,6*Kn],[i,12,12*Kn],[n,1,ii],[n,2,2*ii],[r,1,px],[t,1,$j],[t,3,3*$j],[e,1,Tp]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),v=p?p.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,p=rx(([,,x])=>x).right(s,h);if(p===s.length)return e.every(Lg(u/Tp,c/Tp,f));if(p===0)return kf.every(Math.max(Lg(u,c,f),1));const[v,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(g)}return[o,l]}const[PW,OW]=qC(si,wx,Yh,HC,xx,gx),[NW,CW]=qC(ai,bx,Gh,zu,yx,vx);function Ip(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AW(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Qo(i),c=Zo(i),f=Qo(a),h=Zo(a),p=Qo(s),v=Zo(s),g=Qo(o),x=Zo(o),b=Qo(l),w=Zo(l),y={a:te,A:L,b:U,B:H,c:null,d:Wj,e:Wj,f:e9,g:c9,G:f9,H:JW,I:QW,j:ZW,L:KC,m:t9,M:r9,p:J,q:se,Q:Kj,s:Vj,S:n9,u:i9,U:a9,V:s9,w:o9,W:l9,x:null,X:null,y:u9,Y:d9,Z:h9,"%":qj},_={a:le,A:we,b:ue,B:Ce,c:null,d:Hj,e:Hj,f:g9,g:P9,G:N9,H:m9,I:p9,j:v9,L:GC,m:y9,M:x9,p:_e,q:T,Q:Kj,s:Vj,S:b9,u:w9,U:_9,V:j9,w:S9,W:k9,x:null,X:null,y:E9,Y:O9,Z:C9,"%":qj},j={a:C,A:M,b:P,B:A,c:R,d:Bj,e:Bj,f:VW,g:Fj,G:zj,H:Uj,I:Uj,j:WW,L:KW,m:UW,M:HW,p:O,q:BW,Q:YW,s:XW,S:qW,u:RW,U:$W,V:LW,w:DW,W:zW,x:W,X:G,y:Fj,Y:zj,Z:FW,"%":GW};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(D,V){return function(Z){var $=[],ce=-1,ne=0,Ae=D.length,ge,st,vt;for(Z instanceof Date||(Z=new Date(+Z));++ce<Ae;)D.charCodeAt(ce)===37&&($.push(D.slice(ne,ce)),(st=Lj[ge=D.charAt(++ce)])!=null?ge=D.charAt(++ce):st=ge==="e"?" ":"0",(vt=V[ge])&&(ge=vt(Z,st)),$.push(ge),ne=ce+1);return $.push(D.slice(ne,ce)),$.join("")}}function k(D,V){return function(Z){var $=Jo(1900,void 0,1),ce=E($,D,Z+="",0),ne,Ae;if(ce!=Z.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(V&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(ne=Mp(Jo($.y,0,1)),Ae=ne.getUTCDay(),ne=Ae>4||Ae===0?Pf.ceil(ne):Pf(ne),ne=Vh.offset(ne,($.V-1)*7),$.y=ne.getUTCFullYear(),$.m=ne.getUTCMonth(),$.d=ne.getUTCDate()+($.w+6)%7):(ne=Ip(Jo($.y,0,1)),Ae=ne.getDay(),ne=Ae>4||Ae===0?Ef.ceil(ne):Ef(ne),ne=zu.offset(ne,($.V-1)*7),$.y=ne.getFullYear(),$.m=ne.getMonth(),$.d=ne.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Ae="Z"in $?Mp(Jo($.y,0,1)).getUTCDay():Ip(Jo($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Ae+5)%7:$.w+$.U*7-(Ae+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Mp($)):Ip($)}}function E(D,V,Z,$){for(var ce=0,ne=V.length,Ae=Z.length,ge,st;ce<ne;){if($>=Ae)return-1;if(ge=V.charCodeAt(ce++),ge===37){if(ge=V.charAt(ce++),st=j[ge in Lj?V.charAt(ce++):ge],!st||($=st(D,Z,$))<0)return-1}else if(ge!=Z.charCodeAt($++))return-1}return $}function O(D,V,Z){var $=u.exec(V.slice(Z));return $?(D.p=c.get($[0].toLowerCase()),Z+$[0].length):-1}function C(D,V,Z){var $=p.exec(V.slice(Z));return $?(D.w=v.get($[0].toLowerCase()),Z+$[0].length):-1}function M(D,V,Z){var $=f.exec(V.slice(Z));return $?(D.w=h.get($[0].toLowerCase()),Z+$[0].length):-1}function P(D,V,Z){var $=b.exec(V.slice(Z));return $?(D.m=w.get($[0].toLowerCase()),Z+$[0].length):-1}function A(D,V,Z){var $=g.exec(V.slice(Z));return $?(D.m=x.get($[0].toLowerCase()),Z+$[0].length):-1}function R(D,V,Z){return E(D,t,V,Z)}function W(D,V,Z){return E(D,r,V,Z)}function G(D,V,Z){return E(D,n,V,Z)}function te(D){return s[D.getDay()]}function L(D){return a[D.getDay()]}function U(D){return l[D.getMonth()]}function H(D){return o[D.getMonth()]}function J(D){return i[+(D.getHours()>=12)]}function se(D){return 1+~~(D.getMonth()/3)}function le(D){return s[D.getUTCDay()]}function we(D){return a[D.getUTCDay()]}function ue(D){return l[D.getUTCMonth()]}function Ce(D){return o[D.getUTCMonth()]}function _e(D){return i[+(D.getUTCHours()>=12)]}function T(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var V=S(D+="",y);return V.toString=function(){return D},V},parse:function(D){var V=k(D+="",!1);return V.toString=function(){return D},V},utcFormat:function(D){var V=S(D+="",_);return V.toString=function(){return D},V},utcParse:function(D){var V=k(D+="",!0);return V.toString=function(){return D},V}}}var Lj={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,TW=/^%/,IW=/[\\^$*+?|[\]().{}]/g;function ve(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function MW(e){return e.replace(IW,"\\$&")}function Qo(e){return new RegExp("^(?:"+e.map(MW).join("|")+")","i")}function Zo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DW(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RW(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $W(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LW(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zW(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function zj(e,t,r){var n=jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Fj(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BW(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UW(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Bj(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WW(e,t,r){var n=jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Uj(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function HW(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qW(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function KW(e,t,r){var n=jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VW(e,t,r){var n=jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GW(e,t,r){var n=TW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YW(e,t,r){var n=jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XW(e,t,r){var n=jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Wj(e,t){return ve(e.getDate(),t,2)}function JW(e,t){return ve(e.getHours(),t,2)}function QW(e,t){return ve(e.getHours()%12||12,t,2)}function ZW(e,t){return ve(1+zu.count(ai(e),e),t,3)}function KC(e,t){return ve(e.getMilliseconds(),t,3)}function e9(e,t){return KC(e,t)+"000"}function t9(e,t){return ve(e.getMonth()+1,t,2)}function r9(e,t){return ve(e.getMinutes(),t,2)}function n9(e,t){return ve(e.getSeconds(),t,2)}function i9(e){var t=e.getDay();return t===0?7:t}function a9(e,t){return ve(Gh.count(ai(e)-1,e),t,2)}function VC(e){var t=e.getDay();return t>=4||t===0?co(e):co.ceil(e)}function s9(e,t){return e=VC(e),ve(co.count(ai(e),e)+(ai(e).getDay()===4),t,2)}function o9(e){return e.getDay()}function l9(e,t){return ve(Ef.count(ai(e)-1,e),t,2)}function u9(e,t){return ve(e.getFullYear()%100,t,2)}function c9(e,t){return e=VC(e),ve(e.getFullYear()%100,t,2)}function d9(e,t){return ve(e.getFullYear()%1e4,t,4)}function f9(e,t){var r=e.getDay();return e=r>=4||r===0?co(e):co.ceil(e),ve(e.getFullYear()%1e4,t,4)}function h9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function Hj(e,t){return ve(e.getUTCDate(),t,2)}function m9(e,t){return ve(e.getUTCHours(),t,2)}function p9(e,t){return ve(e.getUTCHours()%12||12,t,2)}function v9(e,t){return ve(1+Vh.count(si(e),e),t,3)}function GC(e,t){return ve(e.getUTCMilliseconds(),t,3)}function g9(e,t){return GC(e,t)+"000"}function y9(e,t){return ve(e.getUTCMonth()+1,t,2)}function x9(e,t){return ve(e.getUTCMinutes(),t,2)}function b9(e,t){return ve(e.getUTCSeconds(),t,2)}function w9(e){var t=e.getUTCDay();return t===0?7:t}function _9(e,t){return ve(Yh.count(si(e)-1,e),t,2)}function YC(e){var t=e.getUTCDay();return t>=4||t===0?fo(e):fo.ceil(e)}function j9(e,t){return e=YC(e),ve(fo.count(si(e),e)+(si(e).getUTCDay()===4),t,2)}function S9(e){return e.getUTCDay()}function k9(e,t){return ve(Pf.count(si(e)-1,e),t,2)}function E9(e,t){return ve(e.getUTCFullYear()%100,t,2)}function P9(e,t){return e=YC(e),ve(e.getUTCFullYear()%100,t,2)}function O9(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function N9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fo(e):fo.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function C9(){return"+0000"}function qj(){return"%"}function Kj(e){return+e}function Vj(e){return Math.floor(+e/1e3)}var vs,XC,JC;A9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A9(e){return vs=AW(e),XC=vs.format,vs.parse,JC=vs.utcFormat,vs.utcParse,vs}function T9(e){return new Date(e)}function I9(e){return e instanceof Date?+e:+new Date(+e)}function _x(e,t,r,n,i,a,s,o,l,u){var c=lx(),f=c.invert,h=c.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),w=u("%b %d"),y=u("%B"),_=u("%Y");function j(S){return(l(S)<S?p:o(S)<S?v:s(S)<S?g:a(S)<S?x:n(S)<S?i(S)<S?b:w:r(S)<S?y:_)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?h(Array.from(S,I9)):h().map(T9)},c.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},c.tickFormat=function(S,k){return k==null?j:u(k)},c.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h($C(k,S)):c},c.copy=function(){return Lu(c,_x(e,t,r,n,i,a,s,o,l,u))},c}function M9(){return Ur.apply(_x(NW,CW,ai,bx,Gh,zu,yx,vx,ja,XC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D9(){return Ur.apply(_x(PW,OW,si,wx,Yh,Vh,xx,gx,ja,JC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xh(){var e=0,t=1,r,n,i,a,s=qt,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,v;return arguments.length?([p,v]=h,s=f(p,v),u):[s(0),s(1)]}}return u.range=c(ko),u.rangeRound=c(ox),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function ia(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QC(){var e=na(Xh()(qt));return e.copy=function(){return ia(e,QC())},pi.apply(e,arguments)}function ZC(){var e=dx(Xh()).domain([1,10]);return e.copy=function(){return ia(e,ZC()).base(e.base())},pi.apply(e,arguments)}function eA(){var e=fx(Xh());return e.copy=function(){return ia(e,eA()).constant(e.constant())},pi.apply(e,arguments)}function jx(){var e=hx(Xh());return e.copy=function(){return ia(e,jx()).exponent(e.exponent())},pi.apply(e,arguments)}function R9(){return jx.apply(null,arguments).exponent(.5)}function tA(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ru(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>w7(e,a/n))},r.copy=function(){return tA(t).domain(e)},pi.apply(r,arguments)}function Jh(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=qt,c,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(x){var b,w,y;return arguments.length?([b,w,y]=x,u=G7(g,[b,w,y]),p):[u(0),u(.5),u(1)]}}return p.range=v(ko),p.rangeRound=v(ox),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return c=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function rA(){var e=na(Jh()(qt));return e.copy=function(){return ia(e,rA())},pi.apply(e,arguments)}function nA(){var e=dx(Jh()).domain([.1,1,10]);return e.copy=function(){return ia(e,nA()).base(e.base())},pi.apply(e,arguments)}function iA(){var e=fx(Jh());return e.copy=function(){return ia(e,iA()).constant(e.constant())},pi.apply(e,arguments)}function Sx(){var e=hx(Jh());return e.copy=function(){return ia(e,Sx()).exponent(e.exponent())},pi.apply(e,arguments)}function $9(){return Sx.apply(null,arguments).exponent(.5)}const hl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ix,scaleDiverging:rA,scaleDivergingLog:nA,scaleDivergingPow:Sx,scaleDivergingSqrt:$9,scaleDivergingSymlog:iA,scaleIdentity:RC,scaleImplicit:zg,scaleLinear:DC,scaleLog:LC,scaleOrdinal:nx,scalePoint:S7,scalePow:mx,scaleQuantile:BC,scaleQuantize:UC,scaleRadial:FC,scaleSequential:QC,scaleSequentialLog:ZC,scaleSequentialPow:jx,scaleSequentialQuantile:tA,scaleSequentialSqrt:R9,scaleSequentialSymlog:eA,scaleSqrt:gW,scaleSymlog:zC,scaleThreshold:WC,scaleTime:M9,scaleUtc:D9,tickFormat:MC},Symbol.toStringTag,{value:"Module"}));var vi=e=>e.chartData,Qh=I([vi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),aA=(e,t,r,n)=>n?Qh(e):vi(e),sA=(e,t,r)=>r?Qh(e):vi(e);function oi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ae(t)&&ae(r))return!0}return!1}function Gj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function oA(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ae(r))i=r;else if(typeof r=="function")return;if(ae(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(oi(s))return s}}function L9(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(oi(n))return Gj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(q(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&f_.test(i)){var l=f_.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(q(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&h_.test(a)){var c=h_.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(oi(h))return t==null?h:Gj(h,t,r)}}}var Eo=1e9,z9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ex,ze=!0,zr="[DecimalError] ",Na=zr+"Invalid argument: ",kx=zr+"Exponent out of range: ",Po=Math.floor,va=Math.pow,F9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,xt=1e7,Ie=7,lA=9007199254740991,Of=Po(lA/Ie),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};X.dividedBy=X.div=function(e){return Xn(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,r=t.constructor;return Se(Xn(t,new r(e),0,1),r.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return it(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(mr))throw Error(zr+"NaN");if(r.s<1)throw Error(zr+(r.s?"NaN":"-Infinity"));return r.eq(mr)?new n(0):(ze=!1,t=Xn(lu(r,a),lu(e,a),a),ze=!0,Se(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dA(t,e):uA(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zr+"NaN");return r.s?(ze=!1,t=Xn(r,e,0,1).times(e),ze=!0,r.minus(t)):Se(new n(r),i)};X.naturalExponential=X.exp=function(){return cA(this)};X.naturalLogarithm=X.ln=function(){return lu(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uA(t,e):dA(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Na+e);if(t=it(i)+1,n=i.d.length-1,r=n*Ie+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};X.squareRoot=X.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(zr+"NaN")}for(e=it(o),ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=jn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Po((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Xn(o,a,s+2)).times(.5),jn(a.d).slice(0,s)===(t=jn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Se(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return ze=!0,Se(n,r)};X.times=X.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,f=c.constructor,h=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,r=c.e+e.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+t,a[i--]=o%xt|0,t=o/xt|0;a[i]=(a[i]+t)%xt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ze?Se(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Cn(e,0,Eo),t===void 0?t=n.rounding:Cn(t,0,8),Se(r,e+it(r)+1,t))};X.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ka(n,!0):(Cn(e,0,Eo),t===void 0?t=i.rounding:Cn(t,0,8),n=Se(new i(n),e+1,t),r=Ka(n,!0,e+1)),r};X.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ka(i):(Cn(e,0,Eo),t===void 0?t=a.rounding:Cn(t,0,8),n=Se(new a(i),e+it(i)+1,t),r=Ka(n.abs(),!1,e+it(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return Se(new t(e),it(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(mr);if(o=new l(o),!o.s){if(e.s<1)throw Error(zr+"Infinity");return o}if(o.eq(mr))return o;if(n=l.precision,e.eq(mr))return Se(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=lA){for(i=new l(mr),t=Math.ceil(n/Ie+4),ze=!1;r%2&&(i=i.times(o),Xj(i.d,t)),r=Po(r/2),r!==0;)o=o.times(o),Xj(o.d,t);return ze=!0,e.s<0?new l(mr).div(i):Se(i,n)}}else if(a<0)throw Error(zr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ze=!1,i=e.times(lu(o,n+u)),ze=!0,i=cA(i),i.s=a,i};X.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=it(i),n=Ka(i,r<=a.toExpNeg||r>=a.toExpPos)):(Cn(e,1,Eo),t===void 0?t=a.rounding:Cn(t,0,8),i=Se(new a(i),e,t),r=it(i),n=Ka(i,e<=r||r<=a.toExpNeg,e)),n};X.toSignificantDigits=X.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Cn(e,1,Eo),t===void 0?t=n.rounding:Cn(t,0,8)),Se(new n(r),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=it(e),r=e.constructor;return Ka(e,t<=r.toExpNeg||t>=r.toExpPos)};function uA(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),ze?Se(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/Ie),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/xt|0,l[a]%=xt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ze?Se(t,f):t}function Cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Na+e)}function jn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ie-n.length,r&&(a+=Ei(r)),a+=n;s=e[t],n=s+"",r=Ie-n.length,r&&(a+=Ei(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%xt|0,s=a/xt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*xt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,f,h,p,v,g,x,b,w,y,_,j,S,k,E,O=n.constructor,C=n.s==i.s?1:-1,M=n.d,P=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(zr+"Division by zero");for(l=n.e-i.e,k=P.length,j=M.length,p=new O(C),v=p.d=[],u=0;P[u]==(M[u]||0);)++u;if(P[u]>(M[u]||0)&&--l,a==null?w=a=O.precision:s?w=a+(it(n)-it(i))+1:w=a,w<0)return new O(0);if(w=w/Ie+2|0,u=0,k==1)for(c=0,P=P[0],w++;(u<j||c)&&w--;u++)y=c*xt+(M[u]||0),v[u]=y/P|0,c=y%P|0;else{for(c=xt/(P[0]+1)|0,c>1&&(P=e(P,c),M=e(M,c),k=P.length,j=M.length),_=k,g=M.slice(0,k),x=g.length;x<k;)g[x++]=0;E=P.slice(),E.unshift(0),S=P[0],P[1]>=xt/2&&++S;do c=0,o=t(P,g,k,x),o<0?(b=g[0],k!=x&&(b=b*xt+(g[1]||0)),c=b/S|0,c>1?(c>=xt&&(c=xt-1),f=e(P,c),h=f.length,x=g.length,o=t(f,g,h,x),o==1&&(c--,r(f,k<h?E:P,h))):(c==0&&(o=c=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),o==-1&&(x=g.length,o=t(P,g,k,x),o<1&&(c++,r(g,k<x?E:P,x))),x=g.length):o===0&&(c++,g=[0]),v[u++]=c,o&&g[0]?g[x++]=M[_]||0:(g=[M[_]],x=1);while((_++<j||g[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,Se(p,s?a+it(p)+1:a)}}();function cA(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(it(e)>16)throw Error(kx+it(e));if(!e.s)return new c(mr);for(t==null?(ze=!1,o=f):o=t,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(va(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(mr),c.precision=o;;){if(i=Se(i.times(e),o),r=r.times(++l),s=a.plus(Xn(i,r,o)),jn(s.d).slice(0,o)===jn(a.d).slice(0,o)){for(;u--;)a=Se(a.times(a),o);return c.precision=f,t==null?(ze=!0,Se(a,f)):a}a=s}}function it(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function Dp(e,t,r){if(t>e.LN10.sd())throw ze=!0,r&&(e.precision=r),Error(zr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function Ei(e){for(var t="";e--;)t+="0";return t}function lu(e,t){var r,n,i,a,s,o,l,u,c,f=1,h=10,p=e,v=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(zr+(p.s?"NaN":"-Infinity"));if(p.eq(mr))return new g(0);if(t==null?(ze=!1,u=x):u=t,p.eq(10))return t==null&&(ze=!0),Dp(g,u);if(u+=h,g.precision=u,r=jn(v),n=r.charAt(0),a=it(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=jn(p.d),n=r.charAt(0),f++;a=it(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=Dp(g,u+2,x).times(a+""),p=lu(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=x,t==null?(ze=!0,Se(p,x)):p;for(o=s=p=Xn(p.minus(mr),p.plus(mr),u),c=Se(p.times(p),u),i=3;;){if(s=Se(s.times(c),u),l=o.plus(Xn(s,new g(i),u)),jn(l.d).slice(0,u)===jn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Dp(g,u+2,x).times(a+""))),o=Xn(o,new g(f),u),g.precision=x,t==null?(ze=!0,Se(o,x)):o;o=l,i+=2}}function Yj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Po(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ie;n<i;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ze&&(e.e>Of||e.e<-Of))throw Error(kx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ie,i=t,u=f[c=0];else{if(c=Math.ceil((n+1)/Ie),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;n%=Ie,i=n-Ie+s}if(r!==void 0&&(a=va(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/va(10,s-i):0:f[c-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=it(e),f.length=1,t=t-a-1,f[0]=va(10,(Ie-t%Ie)%Ie),e.e=Po(-t/Ie)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=va(10,Ie-n),f[c]=i>0?(u/va(10,s-i)%va(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==xt&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=xt)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ze&&(e.e>Of||e.e<-Of))throw Error(kx+it(e));return e}function dA(e,t){var r,n,i,a,s,o,l,u,c,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ze?Se(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(p/Ie),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=xt-1;--l[a],l[i]+=xt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ze?Se(t,p):t):new h(0)}function Ka(e,t,r){var n,i=it(e),a=jn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ei(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ei(-i-1)+a,r&&(n=r-s)>0&&(a+=Ei(n))):i>=s?(a+=Ei(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ei(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ei(n))),e.s<0?"-"+a:a}function Xj(e,t){if(e.length>t)return e.length=t,!0}function fA(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Na+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Yj(s,a.toString())}else if(typeof a!="string")throw Error(Na+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,F9.test(a))Yj(s,a);else throw Error(Na+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fA,i.config=i.set=B9,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function B9(e){if(!e||typeof e!="object")throw Error(zr+"Object expected");var t,r,n,i=["precision",1,Eo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Po(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Na+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Na+r+": "+n);return this}var Ex=fA(z9);mr=new Ex(1);const xe=Ex;function hA(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function mA(e,t,r){for(var n=new xe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var pA=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},vA=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=hA(e.toNumber()),i=new xe(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new xe(l.toNumber()):new xe(Math.ceil(l.toNumber()))},U9=(e,t,r)=>{var n=new xe(1),i=new xe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new xe(10).pow(hA(e)-1),i=new xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new xe(Math.floor(e)))}else e===0?i=new xe(Math.floor((t-1)/2)):r||(i=new xe(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new xe(l-s).mul(n)).toNumber());return o},gA=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var s=vA(new xe(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new xe(0):(o=new xe(t).add(r).div(2),o=o.sub(new xe(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new xe(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?gA(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new xe(l).mul(s)),tickMax:o.add(new xe(u).mul(s))})},W9=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=pA([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return r>n?u.reverse():u}if(o===l)return U9(o,i,a);var{step:c,tickMin:f,tickMax:h}=gA(o,l,s,a,0),p=mA(f,h.add(new xe(.1).mul(c)),c);return r>n?p.reverse():p},H9=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=pA([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=vA(new xe(o).sub(s).div(l-1),a,0),c=[...mA(new xe(s),new xe(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),n>i?c.reverse():c},yA=e=>e.rootProps.maxBarSize,q9=e=>e.rootProps.barGap,xA=e=>e.rootProps.barCategoryGap,K9=e=>e.rootProps.barSize,Fu=e=>e.rootProps.stackOffset,bA=e=>e.rootProps.reverseStackOrder,Px=e=>e.options.chartName,Ox=e=>e.rootProps.syncId,wA=e=>e.rootProps.syncMethod,Nx=e=>e.options.eventEmitter,V9=e=>e.rootProps.baseValue,Ye={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ua={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Ye.axis},mn={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:Ye.axis},Zh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function em(e,t,r){if(r!=="auto")return r;if(e!=null)return An(e,t)?"category":"number"}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){G9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qj={allowDataOverflow:ua.allowDataOverflow,allowDecimals:ua.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ua.angleAxisId,includeHidden:!1,name:void 0,reversed:ua.reversed,scale:ua.scale,tick:ua.tick,tickCount:void 0,ticks:void 0,type:ua.type,unit:void 0},Zj={allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:mn.includeHidden,name:void 0,reversed:mn.reversed,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:mn.type,unit:void 0},J9=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Cx=I([J9,eC],(e,t)=>{var r;if(e!=null)return e;var n=(r=em(t,"angleAxis",Qj.type))!==null&&r!==void 0?r:"category";return Nf(Nf({},Qj),{},{type:n})}),Q9=(e,t)=>e.polarAxis.radiusAxis[t],Ax=I([Q9,eC],(e,t)=>{var r;if(e!=null)return e;var n=(r=em(t,"radiusAxis",Zj.type))!==null&&r!==void 0?r:"category";return Nf(Nf({},Zj),{},{type:n})}),tm=e=>e.polarOptions,Tx=I([hi,mi,ht],yC),_A=I([tm,Tx],(e,t)=>{if(e!=null)return Lt(e.innerRadius,t,0)}),jA=I([tm,Tx],(e,t)=>{if(e!=null)return Lt(e.outerRadius,t,t*.8)}),Z9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},SA=I([tm],Z9);I([Cx,SA],Zh);var kA=I([Tx,_A,jA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});I([Ax,kA],Zh);var EA=I([me,tm,_A,jA,hi,mi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Lt(s,i,i/2),cy:Lt(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),He=(e,t)=>t,Bu=(e,t,r)=>r;function rm(e){return e==null?void 0:e.id}function PA(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=rm(o);u.forEach((f,h)=>{var p=a==null||i?h:String(je(f,a,null)),v=je(f,o.dataKey,0),g;s.has(p)?g=s.get(p):g={},Object.assign(g,{[c]:v}),s.set(p,g)})}}),Array.from(s.values())}function nm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var im=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function am(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function eH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var St=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Oo=e=>e.tooltip.settings.axisId;function tH(e){if(e in hl)return hl[e]();var t="scale".concat(Eu(e));if(t in hl)return hl[t]()}function eS(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function tS(e,t,r){if(typeof e=="function")return eS(e.copy().domain(t).range(r));if(e!=null){var n=tH(e);if(n!=null)return n.domain(t).range(r),eS(n)}}var OA=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!oi(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];ae(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return(t=nH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wg=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NA=(e,t)=>e.cartesianAxis.xAxis[t],gi=(e,t)=>{var r=NA(e,t);return r??gt},yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Wg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cu},CA=(e,t)=>e.cartesianAxis.yAxis[t],yi=(e,t)=>{var r=CA(e,t);return r??yt},aH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ix=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??aH},Je=(e,t,r)=>{switch(t){case"xAxis":return gi(e,r);case"yAxis":return yi(e,r);case"zAxis":return Ix(e,r);case"angleAxis":return Cx(e,r);case"radiusAxis":return Ax(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sH=(e,t,r)=>{switch(t){case"xAxis":return gi(e,r);case"yAxis":return yi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},No=(e,t,r)=>{switch(t){case"xAxis":return gi(e,r);case"yAxis":return yi(e,r);case"angleAxis":return Cx(e,r);case"radiusAxis":return Ax(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},AA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Mx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var sm=e=>e.graphicalItems.cartesianItems,oH=I([He,Bu],Mx),Dx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Uu=I([sm,Je,oH],Dx,{memoizeOptions:{resultEqualityCheck:am}}),TA=I([Uu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(nm)),IA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lH=I([Uu],IA),Rx=e=>e.map(t=>t.data).filter(Boolean).flat(1),uH=I([Uu],Rx,{memoizeOptions:{resultEqualityCheck:am}}),$x=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Lx=I([uH,aA],$x),zx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:je(i,n)}))):e.map(n=>({value:n})),om=I([Lx,Je,Uu],zx);function MA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ud(e){if(On(e)||e instanceof Date){var t=Number(e);if(ae(t))return t}}function nS(e){if(Array.isArray(e)){var t=[ud(e[0]),ud(e[1])];return oi(t)?t:void 0}var r=ud(e);if(r!=null)return[r,r]}function li(e){return e.map(ud).filter(nr)}function cH(e,t,r){return!r||typeof t!="number"||on(t)?[]:r.length?li(r.flatMap(n=>{var i=je(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ae(a)||!ae(s)))return[t-a,t+s]})):[]}var pt=e=>{var t=St(e),r=Oo(e);return No(e,t,r)},Wu=I([pt],e=>e==null?void 0:e.dataKey),dH=I([TA,aA,pt],PA),DA=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(rm);return[o,{stackedData:FB(e,c,r),graphicalItems:u}]}))},Af=I([dH,TA,Fu,bA],DA),RA=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=HB(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},fH=I([Je],e=>e.allowDataOverflow),Fx=e=>{var t;if(e==null||!("domain"in e))return Wg;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=li(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Wg},Bx=I([Je],Fx),Ux=I([Bx,fH],oA),hH=I([Af,vi,He,Ux],RA,{memoizeOptions:{resultEqualityCheck:im}}),lm=e=>e.errorBars,mH=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>MA(r,n)),Tf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Wx=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(b=>MA(i,b)),h=je(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=cH(o,h,f);if(p.length>=2){var v=Math.min(...p),g=Math.max(...p);(a==null||v<a)&&(a=v),(s==null||g>s)&&(s=g)}var x=nS(h);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=nS(je(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),ae(a)&&ae(s))return[a,s]},pH=I([Lx,Je,lH,lm,He],Wx,{memoizeOptions:{resultEqualityCheck:im}});function vH(e){var{value:t}=e;if(On(t)||t instanceof Date)return t}var gH=(e,t,r)=>{var n=e.map(vH).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&C2(n))?kC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},$A=e=>e.referenceElements.dots,Co=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),yH=I([$A,He,Bu],Co),LA=e=>e.referenceElements.areas,xH=I([LA,He,Bu],Co),zA=e=>e.referenceElements.lines,bH=I([zA,He,Bu],Co),FA=(e,t)=>{if(e!=null){var r=li(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},wH=I(yH,He,FA),BA=(e,t)=>{if(e!=null){var r=li(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_H=I([xH,He],BA);function jH(e){var t;if(e.x!=null)return li([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:li(r)}function SH(e){var t;if(e.y!=null)return li([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:li(r)}var UA=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?jH(n):SH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kH=I([bH,He],UA),EH=I(wH,kH,_H,(e,t,r)=>Tf(e,r,t)),Hx=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Tf(n,a,i):Tf(a,i);return L9(t,u,e.allowDataOverflow)},PH=I([Je,Bx,Ux,hH,pH,EH,me,He],Hx,{memoizeOptions:{resultEqualityCheck:im}}),OH=[0,1],qx=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=An(t,a);if(u&&o==null){var c;return kC(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?gH(n,e,u):i==="expand"?OH:s}},Kx=I([Je,me,Lx,om,Fu,He,PH],qx);function NH(e){return e in hl}var WA=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Eu(n));return NH(a)?a:"point"}}},aa=I([Je,AA,Px],WA);function Vx(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?tS(e.scale,r,n):tS(t,r,n)}var Gx=(e,t,r)=>{var n=Fx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&oi(e))return W9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&oi(e))return H9(e,t.tickCount,t.allowDecimals)}},Yx=I([Kx,No,aa],Gx),Xx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&oi(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,l=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return t},CH=I([Je,Kx,Yx,He],Xx),AH=I(om,Je,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(li(e.map(f=>f.value))).sort((f,h)=>f-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/s}}),HA=I(AH,me,xA,ht,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!ae(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Lt(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),TH=(e,t,r)=>{var n=gi(e,t);return n==null||typeof n.padding!="string"?0:HA(e,"xAxis",t,r,n.padding)},IH=(e,t,r)=>{var n=yi(e,t);return n==null||typeof n.padding!="string"?0:HA(e,"yAxis",t,r,n.padding)},MH=I(gi,TH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),DH=I(yi,IH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),RH=I([ht,MH,Bh,Fh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),$H=I([ht,me,DH,Bh,Fh,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Hu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return RH(e,r,n);case"yAxis":return $H(e,r,n);case"zAxis":return(i=Ix(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return SA(e);case"radiusAxis":return kA(e,r);default:return}},qA=I([Je,Hu],Zh),LH=I([aa,CH],OA),um=I([Je,aa,LH,qA],Vx);I([Uu,lm,He],mH);function KA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cm=(e,t)=>t,dm=(e,t,r)=>r,zH=I(Lh,cm,dm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(KA)),FH=I(zh,cm,dm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(KA)),VA=(e,t)=>({width:e.width,height:t.height}),BH=(e,t)=>{var r=typeof t.width=="number"?t.width:Cu;return{width:r,height:e.height}},GA=I(ht,gi,VA),UH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},WH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},HH=I(mi,ht,zH,cm,dm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=VA(t,o);s==null&&(s=UH(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),qH=I(hi,ht,FH,cm,dm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=BH(t,o);s==null&&(s=WH(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),KH=(e,t)=>{var r=gi(e,t);if(r!=null)return HH(e,r.orientation,r.mirror)},VH=I([ht,gi,KH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),GH=(e,t)=>{var r=yi(e,t);if(r!=null)return qH(e,r.orientation,r.mirror)},YH=I([ht,yi,GH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),YA=I(ht,yi,(e,t)=>{var r=typeof t.width=="number"?t.width:Cu;return{width:r,height:e.height}}),iS=(e,t,r)=>{switch(t){case"xAxis":return GA(e,r).width;case"yAxis":return YA(e,r).height;default:return}},XA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=An(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&C2(l))return l}},Jx=I([me,om,Je,He],XA),JA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=An(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},Qx=I([me,om,No,He],JA),aS=I([me,sH,aa,um,Jx,Qx,Hu,Yx,He],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=An(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),XH=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=An(e,l),{type:c,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=c==="category"&&n.bandwidth?n.bandwidth()/p:0;v=l==="angleAxis"&&a!=null&&a.length>=2?wt(a[0]-a[1])*2*v:v;var g=f||i;return g?g.map((x,b)=>{var w=s?s.indexOf(x):x,y=n.map(w);return ae(y)?{index:b,coordinate:y+v,value:x,offset:v}:null}).filter(nr):u&&o?o.map((x,b)=>{var w=n.map(x);return ae(w)?{coordinate:w+v,value:x,index:b,offset:v}:null}).filter(nr):n.ticks?n.ticks(h).map((x,b)=>{var w=n.map(x);return ae(w)?{coordinate:w+v,value:x,index:b,offset:v}:null}).filter(nr):n.domain().map((x,b)=>{var w=n.map(x);return ae(w)?{coordinate:w+v,value:s?s[x]:x,index:b,offset:v}:null}).filter(nr)}},QA=I([me,No,aa,um,Yx,Hu,Jx,Qx,He],XH),JH=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=An(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?wt(n[0]-n[1])*2*u:u,o&&a?a.map((c,f)=>{var h=r.map(c);return ae(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(nr):r.ticks?r.ticks(l).map((c,f)=>{var h=r.map(c);return ae(h)?{coordinate:h+u,value:c,index:f,offset:u}:null}).filter(nr):r.domain().map((c,f)=>{var h=r.map(c);return ae(h)?{coordinate:h+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(nr)}},Gi=I([me,No,um,Hu,Jx,Qx,He],JH),Yi=I(Je,um,(e,t)=>{if(!(e==null||t==null))return Cf(Cf({},e),{},{scale:t})}),QH=I([Je,aa,Kx,qA],Vx);I((e,t,r)=>Ix(e,r),QH,(e,t)=>{if(!(e==null||t==null))return Cf(Cf({},e),{},{scale:t})});var ZH=I([me,Lh,zh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZA=e=>e.options.defaultTooltipEventType,eT=e=>e.options.validateTooltipEventTypes;function tT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Zx(e,t){var r=ZA(e),n=eT(e);return tT(t,r,n)}function eq(e){return Q(t=>Zx(t,e))}var rT=(e,t)=>{var r,n=Number(t);if(!(on(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},tq=e=>e.tooltip.settings,Ai={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},rq={itemInteraction:{click:Ai,hover:Ai},axisInteraction:{click:Ai,hover:Ai},keyboardInteraction:Ai,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nT=cr({name:"tooltip",initialState:rq,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:$e()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=nn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:$e()},removeTooltipEntrySettings:{reducer(e,t){var r=nn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:$e()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:nq,replaceTooltipEntrySettings:iq,removeTooltipEntrySettings:aq,setTooltipSettingsState:sq,setActiveMouseOverItemIndex:iT,mouseLeaveItem:oq,mouseLeaveChart:aT,setActiveClickItemIndex:lq,setMouseOverAxisIndex:sT,setMouseClickAxisIndex:uq,setSyncInteraction:Hg,setKeyboardInteraction:qg}=nT.actions,cq=nT.reducer;function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pq(e){return e.index!=null}var oT=(e,t,r,n)=>{if(t==null)return Ai;var i=mq(e,t,r);if(i==null)return Ai;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(pq(i)){if(a)return Rc(Rc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Rc(Rc({},Ai),{},{coordinate:i.coordinate})};function vq(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function gq(e,t){var r=vq(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function yq(e,t,r){if(r==null||t==null)return!0;var n=je(e,t);return n==null||!oi(r)?!0:gq(n,r)}var eb=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ae(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||yq(u,r,n)?String(l):null},lT=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},uT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},cT=e=>e.options.tooltipPayloadSearcher,Ao=e=>e.tooltip;function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t,r){return(t=bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _q(e,t){return e??t}var dT=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,f=[];return e.reduce((h,p)=>{var v,{dataDefinedOnItem:g,settings:x}=p,b=_q(g,o),w=Array.isArray(b)?FN(b,u,c):b,y=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,_=x==null?void 0:x.nameKey,j;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?j=A2(w,n,i):j=a(w,t,l,_),Array.isArray(j))j.forEach(k=>{var E=lS(lS({},x),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(m_({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:je(k.payload,k.dataKey),name:k.name}))});else{var S;h.push(m_({tooltipEntrySettings:x,dataKey:y,payload:j,value:je(j,y),name:(S=je(j,_))!==null&&S!==void 0?S:x==null?void 0:x.name}))}return h},f)}},tb=I([pt,AA,Px],WA),jq=I([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Sq=I([St,Oo],Mx),To=I([jq,pt,Sq],Dx,{memoizeOptions:{resultEqualityCheck:am}}),kq=I([To],e=>e.filter(nm)),Eq=I([To],Rx,{memoizeOptions:{resultEqualityCheck:am}}),Io=I([Eq,vi],$x),Pq=I([kq,vi,pt],PA),rb=I([Io,pt,To],zx),fT=I([pt],Fx),Oq=I([pt],e=>e.allowDataOverflow),hT=I([fT,Oq],oA),Nq=I([To],e=>e.filter(nm)),Cq=I([Pq,Nq,Fu,bA],DA),Aq=I([Cq,vi,St,hT],RA),Tq=I([To],IA),Iq=I([Io,pt,Tq,lm,St],Wx,{memoizeOptions:{resultEqualityCheck:im}}),Mq=I([$A,St,Oo],Co),Dq=I([Mq,St],FA),Rq=I([LA,St,Oo],Co),$q=I([Rq,St],BA),Lq=I([zA,St,Oo],Co),zq=I([Lq,St],UA),Fq=I([Dq,zq,$q],Tf),Bq=I([pt,fT,hT,Aq,Iq,Fq,me,St],Hx),qu=I([pt,me,Io,rb,Fu,St,Bq],qx),Uq=I([qu,pt,tb],Gx),Wq=I([pt,qu,Uq,St],Xx),mT=e=>{var t=St(e),r=Oo(e),n=!1;return Hu(e,t,r,n)},pT=I([pt,mT],Zh),vT=I([pt,tb,Wq,pT],Vx),Hq=I([me,rb,pt,St],XA),qq=I([me,rb,pt,St],JA),Kq=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=An(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wt(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>{var v=n.map(h);return ae(v)?{coordinate:v+f,value:h,index:p,offset:f}:null}).filter(nr):n.domain().map((h,p)=>{var v=n.map(h);return ae(v)?{coordinate:v+f,value:a?a[h]:h,index:p,offset:f}:null}).filter(nr)}}},xi=I([me,pt,tb,vT,mT,Hq,qq,St],Kq),nb=I([ZA,eT,tq],(e,t,r)=>tT(r.shared,e,t)),gT=e=>e.tooltip.settings.trigger,ib=e=>e.tooltip.settings.defaultIndex,Ku=I([Ao,nb,gT,ib],oT),Xi=I([Ku,Io,Wu,qu],eb),yT=I([xi,Xi],rT),ab=I([Ku],e=>{if(e)return e.dataKey}),Vq=I([Ku],e=>{if(e)return e.graphicalItemId}),xT=I([Ao,nb,gT,ib],uT),Gq=I([hi,mi,me,ht,xi,ib,xT],lT),Yq=I([Ku,Gq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Xq=I([Ku],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Jq=I([xT,Xi,vi,Wu,yT,cT,nb],dT),Qq=I([Jq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rK=()=>Q(pt),nK=()=>{var e=rK(),t=Q(xi),r=Q(vT);return so(!e||!r?void 0:cS(cS({},e),{},{scale:r}),t)};function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=sK(e,"string");return typeof t=="symbol"?t:t+""}function sK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oK=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},lK=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return gs(gs(gs({},n),nt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return gs(gs(gs({},n),nt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function uK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var bT=(e,t,r,n,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,h,p=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,v=(c=r[o])===null||c===void 0?void 0:c.coordinate,g=o>=s-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[o+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(p==null||v==null||g==null))if(wt(v-p)!==wt(g-v)){var b=[];if(wt(g-v)===wt(i[1]-i[0])){x=g;var w=v+i[1]-i[0];b[0]=Math.min(w,(w+p)/2),b[1]=Math.max(w,(w+p)/2)}else{x=p;var y=g+i[1]-i[0];b[0]=Math.min(v,(y+v)/2),b[1]=Math.max(v,(y+v)/2)}var _=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){var j;return(j=r[o])===null||j===void 0?void 0:j.index}}else{var S=Math.min(p,g),k=Math.max(p,g);if(e>(S+v)/2&&e<=(k+v)/2){var E;return(E=r[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var O=0;O<s;O++){var C=t[O];if(C!=null){var M=t[O+1],P=t[O-1];if(O===0&&M!=null&&e<=(C.coordinate+M.coordinate)/2||O===s-1&&P!=null&&e>(C.coordinate+P.coordinate)/2||O>0&&O<s-1&&P!=null&&M!=null&&e>(C.coordinate+P.coordinate)/2&&e<=(C.coordinate+M.coordinate)/2)return C.index}}return-1},wT=()=>Q(Px),sb=(e,t)=>t,_T=(e,t,r)=>r,ob=(e,t,r,n)=>n,cK=I(xi,e=>Oh(e,t=>t.coordinate)),lb=I([Ao,sb,_T,ob],oT),ub=I([lb,Io,Wu,qu],eb),dK=(e,t,r)=>{if(t!=null){var n=Ao(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},jT=I([Ao,sb,_T,ob],uT),If=I([hi,mi,me,ht,xi,ob,jT],lT),fK=I([lb,If],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ST=I([xi,ub],rT),hK=I([jT,ub,vi,Wu,ST,cT,sb],dT),mK=I([lb,ub],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),pK=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&uK(e,s)){var o=qB(e,t),l=bT(o,a,i,r,n),u=oK(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},vK=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=i7(e,r);if(o){var l=KB(o,t),u=bT(l,s,a,n,i),c=lK(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},gK=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?pK(e,t,n,i,a,s,o):vK(e,t,r,n,i,a,s)},yK=I(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),xK=I(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ye)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:eH}});function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jK={},SK={zIndexMap:Object.values(Ye).reduce((e,t)=>hS(hS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),jK)},kK=new Set(Object.values(Ye));function EK(e){return kK.has(e)}var kT=cr({name:"zIndex",initialState:SK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:$e()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!EK(r)&&delete e.zIndexMap[r])},prepare:$e()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:$e()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:$e()}}}),{registerZIndexPortal:PK,unregisterZIndexPortal:OK,registerZIndexPortalElement:NK,unregisterZIndexPortalElement:CK}=kT.actions,AK=kT.reducer;function dr(e){var{zIndex:t,children:r}=e,n=xU(),i=n&&t!==void 0&&t!==0,a=Ft(),s=Ne();m.useLayoutEffect(()=>i?(s(PK({zIndex:t})),()=>{s(OK({zIndex:t}))}):Za,[s,t,i]);var o=Q(l=>yK(l,t,a));return i?o?uh.createPortal(r,o):null:r}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(null,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){TK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TK(e,t,r){return(t=IK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function RK(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=r,h=n,p=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var v,g,x;if(c==="ScatterChart")v=f,g=y8,x=Ye.cursorLine;else if(c==="BarChart")v=x8(o,f,a,s),g=gC,x=Ye.cursorRectangle;else if(o==="radial"&&I2(f)){var{cx:b,cy:w,radius:y,startAngle:_,endAngle:j}=xC(f);v={cx:b,cy:w,startAngle:_,endAngle:j,innerRadius:y,outerRadius:y},g=wC,x=Ye.cursorLine}else v={points:l7(o,f,a)},g=Vs,x=Ye.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,k=$c($c($c($c({stroke:"#ccc",pointerEvents:"none"},a),v),za(l)),{},{payload:h,payloadIndex:p,className:pe("recharts-tooltip-cursor",S)});return m.createElement(dr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},m.createElement(DK,{cursor:l,cursorComp:g,cursorProps:k}))}function $K(e){var t=nK(),r=ZN(),n=es(),i=wT();return t==null||r==null||n==null||i==null?null:m.createElement(RK,Kg({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var ET=m.createContext(null),LK=()=>m.useContext(ET),PT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,w,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,p),!0;case 6:return x.fn.call(x.context,c,f,h,p,v),!0}for(y=1,w=new Array(b-1);y<b;y++)w[y-1]=arguments[y];x.fn.apply(x.context,w)}else{var _=x.length,j;for(y=0;y<_;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),b){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,c);break;case 3:x[y].fn.call(x[y].context,c,f);break;case 4:x[y].fn.call(x[y].context,c,f,h);break;default:if(!w)for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];x[y].fn.apply(x[y].context,w)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var g=0,x=[],b=v.length;g<b;g++)(v[g].fn!==c||h&&!v[g].once||f&&v[g].context!==f)&&x.push(v[g]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(PT);var zK=PT.exports;const FK=ci(zK);var uu=new FK,Vg="recharts.syncEvent.tooltip",pS="recharts.syncEvent.brush",cb=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!on(r))return e[r]}},BK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},OT=cr({name:"options",initialState:BK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),UK=OT.reducer,{createEventEmitter:WK}=OT.actions;function HK(e){return e.tooltip.syncInteraction}var qK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},NT=cr({name:"chartData",initialState:qK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:vS,setDataStartEndIndexes:KK,setComputedData:Fre}=NT.actions,VK=NT.reducer,GK=["x","y"];function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QK(e,t){if(e==null)return{};var r,n,i=ZK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eV(){var e=Q(Ox),t=Q(Nx),r=Ne(),n=Q(wA),i=Q(xi),a=es(),s=Uh(),o=Q(l=>l.rootProps.className);m.useEffect(()=>{if(e==null)return Za;var l=(u,c,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:v,y:g}=p,x=QK(p,GK),{x:b,y:w,width:y,height:_}=c.payload.sourceViewBox,j=ys(ys({},x),{},{x:s.x+(y?(v-b)/y:0)*s.width,y:s.y+(_?(g-w)/_:0)*s.height});r(ys(ys({},c),{},{payload:ys(ys({},c.payload),{},{coordinate:j})}))}else r(c);return}if(i!=null){var S;if(typeof n=="function"){var k={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},E=n(i,k);S=i[E]}else n==="value"&&(S=i.find(G=>String(G.value)===c.payload.label));var{coordinate:O}=c.payload;if(S==null||c.payload.active===!1||O==null||s==null){r(Hg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:C,y:M}=O,P=Math.min(C,s.x+s.width),A=Math.min(M,s.y+s.height),R={x:a==="horizontal"?S.coordinate:P,y:a==="horizontal"?A:S.coordinate},W=Hg({active:c.payload.active,coordinate:R,dataKey:c.payload.dataKey,index:String(S.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(W)}}};return uu.on(Vg,l),()=>{uu.off(Vg,l)}},[o,r,t,e,n,i,a,s])}function tV(){var e=Q(Ox),t=Q(Nx),r=Ne();m.useEffect(()=>{if(e==null)return Za;var n=(i,a,s)=>{t!==s&&e===i&&r(KK(a))};return uu.on(pS,n),()=>{uu.off(pS,n)}},[r,t,e])}function rV(){var e=Ne();m.useEffect(()=>{e(WK())},[e]),eV(),tV()}function nV(e,t,r,n,i,a){var s=Q(p=>dK(p,e,t)),o=Q(Nx),l=Q(Ox),u=Q(wA),c=Q(HK),f=c==null?void 0:c.active,h=Uh();m.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=Hg({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});uu.emit(Vg,l,p,o)}},[f,r,s,i,n,o,l,u,a,h])}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return(t=aV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e){return e.dataKey}function lV(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(JU,t)}var bS=[],uV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cd(e){var t,r,n=at(e,uV),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:x,cursor:b,shared:w,trigger:y,defaultIndex:_,portal:j,axisId:S}=n,k=Ne(),E=typeof _=="number"?String(_):_;m.useEffect(()=>{k(sq({shared:w,trigger:y,axisId:S,active:i,defaultIndex:E}))},[k,w,y,S,i,E]);var O=Uh(),C=fC(),M=eq(w),{activeIndex:P,isActive:A}=(t=Q(_e=>mK(_e,M,y,E)))!==null&&t!==void 0?t:{},R=Q(_e=>hK(_e,M,y,E)),W=Q(_e=>ST(_e,M,y,E)),G=Q(_e=>fK(_e,M,y,E)),te=R,L=LK(),U=(r=i??A)!==null&&r!==void 0?r:!1,[H,J]=cN([te,U]),se=M==="axis"?W:void 0;nV(M,y,G,se,P,U);var le=j??L;if(le==null||O==null||M==null)return null;var we=te??bS;U||(we=bS),u&&we.length&&(we=Q2(we.filter(_e=>_e.value!=null&&(_e.hide!==!0||n.includeHidden)),h,oV));var ue=we.length>0,Ce=m.createElement(i8,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:U,coordinate:G,hasPayload:ue,offset:f,position:p,reverseDirection:v,useTranslate3d:g,viewBox:O,wrapperStyle:x,lastBoundingBox:H,innerRef:J,hasPortalFromProps:!!j},lV(l,xS(xS({},n),{},{payload:we,label:se,active:U,activeIndex:P,coordinate:G,accessibilityLayer:C})));return m.createElement(m.Fragment,null,uh.createPortal(Ce,le),U&&m.createElement($K,{cursor:b,tooltipEventType:M,coordinate:G,payload:we,index:P}))}var ho=e=>null;ho.displayName="Cell";function cV(e,t,r){return(t=dV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hV{constructor(t){cV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return(t=vV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV={cacheSize:2e3,enableCache:!0},CT=mV({},yV),_S=new hV(CT.cacheSize),xV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jS="recharts_measurement_span";function bV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var SS=(e,t)=>{try{var r=document.getElementById(jS);r||(r=document.createElement("span"),r.setAttribute("id",jS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Iu.isSsr)return{width:0,height:0};if(!CT.enableCache)return SS(t,r);var n=bV(t,r),i=_S.get(n);if(i)return i;var a=SS(t,r);return _S.set(n,a),a},AT;function wV(e,t,r){return(t=_V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ES=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PV=["cm","mm","pt","pc","in","Q","px"];function OV(e){return PV.includes(e)}var Rs="NaN";function NV(e,t){return e*EV[t]}class Ot{static parse(t){var r,[,n,i]=(r=kV.exec(t))!==null&&r!==void 0?r:[];return n==null?Ot.NaN:new Ot(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,on(t)&&(this.unit=""),r!==""&&!SV.test(r)&&(this.num=NaN,this.unit=""),OV(r)&&(this.num=NV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return on(this.num)}}AT=Ot;wV(Ot,"NaN",new AT(NaN,""));function TT(e){if(e==null||e.includes(Rs))return Rs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=kS.exec(t))!==null&&r!==void 0?r:[],s=Ot.parse(n??""),o=Ot.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Rs;t=t.replace(kS,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,h]=(u=ES.exec(t))!==null&&u!==void 0?u:[],p=Ot.parse(c??""),v=Ot.parse(h??""),g=f==="+"?p.add(v):p.subtract(v);if(g.isNaN())return Rs;t=t.replace(ES,g.toString())}return t}var PS=/\(([^()]*)\)/;function CV(e){for(var t=e,r;(r=PS.exec(t))!=null;){var[,n]=r;t=t.replace(PS,TT(n))}return t}function AV(e){var t=e.replace(/\s+/g,"");return t=CV(t),t=TT(t),t}function TV(e){try{return AV(e)}catch{return Rs}}function Rp(e){var t=TV(e.slice(5,-1));return t===Rs?"":t}var IV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],MV=["dx","dy","angle","className","breakAll"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(null,arguments)}function OS(e,t){if(e==null)return{};var r,n,i=DV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IT=/[ \f\n\r\t\v\u2028\u2029]+/,MT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Xe(t)||(r?i=t.toString().split(""):i=t.toString().split(IT));var a=i.map(o=>({word:o,width:Ol(o,n).width})),s=r?0:Ol("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function RV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var DT=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),RT=e=>e.reduce((t,r)=>t.width>r.width?t:r),$V="",NS=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=MT({breakAll:r,style:n,children:l+$V});if(!u)return[!1,[]];var c=DT(u.wordsWithComputedWidth,a,s,o),f=c.length>i||RT(c).width>Number(a);return[f,c]},LV=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=q(a),c=String(s),f=DT(t,n,r,i);if(!u||i)return f;var h=f.length>a||RT(f).width>Number(n);if(!h)return f;for(var p=0,v=c.length-1,g=0,x;p<=v&&g<=c.length-1;){var b=Math.floor((p+v)/2),w=b-1,[y,_]=NS(c,w,l,o,a,n,r,i),[j]=NS(c,b,l,o,a,n,r,i);if(!y&&!j&&(p=b+1),y&&j&&(v=b-1),!y&&j){x=_;break}g++}return x||f},CS=e=>{var t=Xe(e)?[]:e.toString().split(IT);return[{words:t,width:void 0}]},zV=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Iu.isSsr){var o,l,u=MT({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return CS(n);return LV({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return CS(n)},$T="#808080",FV={angle:0,breakAll:!1,capHeight:"0.71em",fill:$T,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fm=m.forwardRef((e,t)=>{var r=at(e,FV),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,f=OS(r,IV),h=m.useMemo(()=>zV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:v,angle:g,className:x,breakAll:b}=f,w=OS(f,MV);if(!On(n)||!On(i)||h.length===0)return null;var y=Number(n)+(q(p)?p:0),_=Number(i)+(q(v)?v:0);if(!ae(y)||!ae(_))return null;var j;switch(c){case"start":j=Rp("calc(".concat(s,")"));break;case"middle":j=Rp("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=Rp("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[],k=h[0];if(l&&k!=null){var E=k.width,{width:O}=f;S.push("scale(".concat(q(O)&&q(E)?O/E:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(y,", ").concat(_,")")),S.length&&(w.transform=S.join(" ")),m.createElement("text",Gg({},Vt(w),{ref:t,x:y,y:_,className:pe("recharts-text",x),textAnchor:u,fill:o.includes("url")?$T:o}),h.map((C,M)=>{var P=C.words.join(b?"":" ");return m.createElement("tspan",{x:y,dy:M===0?j:a,key:"".concat(P,"-").concat(M)},P)}))});fm.displayName="Text";function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=UV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HV=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i,clamp:a}=e,{x:s,y:o,height:l,upperWidth:u,lowerWidth:c}=Xy(t),f=s,h=s+(u-c)/2,p=(f+h)/2,v=(u+c)/2,g=f+u/2,x=l>=0?1:-1,b=x*n,w=x>0?"end":"start",y=x>0?"start":"end",_=u>=0?1:-1,j=_*n,S=_>0?"end":"start",k=_>0?"start":"end",E=i;if(r==="top"){var O={x:f+u/2,y:o-b,horizontalAnchor:"middle",verticalAnchor:w};return a&&E&&(O.height=Math.max(o-E.y,0),O.width=u),O}if(r==="bottom"){var C={x:h+c/2,y:o+l+b,horizontalAnchor:"middle",verticalAnchor:y};return a&&E&&(C.height=Math.max(E.y+E.height-(o+l),0),C.width=c),C}if(r==="left"){var M={x:p-j,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"};return a&&E&&(M.width=Math.max(M.x-E.x,0),M.height=l),M}if(r==="right"){var P={x:p+v+j,y:o+l/2,horizontalAnchor:k,verticalAnchor:"middle"};return a&&E&&(P.width=Math.max(E.x+E.width-P.x,0),P.height=l),P}var A=a&&E?{width:v,height:l}:{};return r==="insideLeft"?pn({x:p+j,y:o+l/2,horizontalAnchor:k,verticalAnchor:"middle"},A):r==="insideRight"?pn({x:p+v-j,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"},A):r==="insideTop"?pn({x:f+u/2,y:o+b,horizontalAnchor:"middle",verticalAnchor:y},A):r==="insideBottom"?pn({x:h+c/2,y:o+l-b,horizontalAnchor:"middle",verticalAnchor:w},A):r==="insideTopLeft"?pn({x:f+j,y:o+b,horizontalAnchor:k,verticalAnchor:y},A):r==="insideTopRight"?pn({x:f+u-j,y:o+b,horizontalAnchor:S,verticalAnchor:y},A):r==="insideBottomLeft"?pn({x:h+j,y:o+l-b,horizontalAnchor:k,verticalAnchor:w},A):r==="insideBottomRight"?pn({x:h+c-j,y:o+l-b,horizontalAnchor:S,verticalAnchor:w},A):r&&typeof r=="object"&&(q(r.x)||Ua(r.x))&&(q(r.y)||Ua(r.y))?pn({x:s+Lt(r.x,v),y:o+Lt(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},A):pn({x:g,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},A)},qV=["labelRef"],KV=["content"];function TS(e,t){if(e==null)return{};var r,n,i=VV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(null,arguments)}var LT=m.createContext(null),JV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return m.createElement(LT.Provider,{value:l},o)},zT=()=>{var e=m.useContext(LT),t=Uh();return e||(t?Xy(t):void 0)},QV=m.createContext(null),ZV=()=>{var e=m.useContext(QV),t=Q(EA);return e||t},eG=e=>{var{value:t,formatter:r}=e,n=Xe(e.children)?t:e.children;return typeof r=="function"?r(n):n},db=e=>e!=null&&typeof e=="function",tG=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rG=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:p}=i,v=(u+c)/2,g=tG(f,h),x=g>=0?1:-1,b,w;switch(t){case"insideStart":b=f+x*a,w=p;break;case"insideEnd":b=h-x*a,w=!p;break;case"end":b=h+x*a,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var y=nt(o,l,v,b),_=nt(o,l,v,b+(w?1:-1)*359),j="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Xe(e.id)?Xl("recharts-radial-line-"):e.id;return m.createElement("text",Un({},n,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:S,d:j})),m.createElement("textPath",{xlinkHref:"#".concat(S)},r))},nG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:f}=nt(n,i,s+t,u);return{x:c,y:f,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:v}=nt(n,i,h,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},dd=e=>e!=null&&"cx"in e&&q(e.cx),iG={angle:0,offset:5,zIndex:Ye.label,position:"middle",textBreakAll:!1};function aG(e){if(!dd(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Pi(e){var t=at(e,iG),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=t,f=ZV(),h=zT(),p=i==="center"?h:f??h,v,g,x;r==null?v=p:dd(r)?v=r:v=Xy(r);var b=aG(v);if(!v||Xe(a)&&Xe(s)&&!m.isValidElement(o)&&typeof o!="function")return null;var w=ml(ml({},t),{},{viewBox:v});if(m.isValidElement(o)){var y=TS(w,qV);return m.cloneElement(o,y)}if(typeof o=="function"){var _=TS(w,KV);if(g=m.createElement(o,_),m.isValidElement(g))return g}else g=eG(t);var j=Vt(t);if(dd(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return rG(t,i,g,j,v);x=nG(v,t.offset,t.position)}else{if(!b)return null;var S=HV({viewBox:b,position:i,offset:t.offset,parentViewBox:dd(n)?void 0:n,clamp:!0});x=ml(ml({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},S.width!==void 0?{width:S.width}:{}),S.height!==void 0?{height:S.height}:{})}return m.createElement(dr,{zIndex:t.zIndex},m.createElement(fm,Un({ref:c,className:pe("recharts-label",l)},j,x,{textAnchor:RV(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:u}),g))}Pi.displayName="Label";var sG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(Pi,Un({key:"label-implicit"},n)):On(e)?m.createElement(Pi,Un({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===Pi?m.cloneElement(e,ml({key:"label-implicit"},n)):m.createElement(Pi,Un({key:"label-implicit",content:e},n)):db(e)?m.createElement(Pi,Un({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(Pi,Un({},e,{key:"label-implicit"},n)):null};function oG(e){var{label:t,labelRef:r}=e,n=zT();return sG(t,n,r)||null}var FT={},BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(BT);var UT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(UT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT,r=UT,n=kh;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(FT);var lG=FT.last;const uG=ci(lG);var cG=["valueAccessor"],dG=["dataKey","clockWise","id","textBreakAll","zIndex"];function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(null,arguments)}function MS(e,t){if(e==null)return{};var r,n,i=fG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hG=e=>Array.isArray(e.value)?uG(e.value):e.value,WT=m.createContext(void 0),HT=WT.Provider,qT=m.createContext(void 0),mG=qT.Provider;function pG(){return m.useContext(WT)}function vG(){return m.useContext(qT)}function fd(e){var{valueAccessor:t=hG}=e,r=MS(e,cG),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=MS(r,dG),u=pG(),c=vG(),f=u||c;return!f||!f.length?null:m.createElement(dr,{zIndex:o??Ye.label},m.createElement(et,{className:"recharts-label-list"},f.map((h,p)=>{var v,g=Xe(n)?t(h,p):je(h.payload,n),x=Xe(a)?{}:{id:"".concat(a,"-").concat(p)};return m.createElement(Pi,Mf({key:"label-".concat(p)},Vt(h),l,x,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}fd.displayName="LabelList";function fb(e){var{label:t}=e;return t?t===!0?m.createElement(fd,{key:"labelList-implicit"}):m.isValidElement(t)||db(t)?m.createElement(fd,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(fd,Mf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}var KT=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=pe("recharts-dot",i);return q(t)&&q(r)&&q(n)?m.createElement("circle",Yg({},ur(e),Cy(e),{className:a,cx:t,cy:r,r:n})):null},VT=e=>e.graphicalItems.polarItems,gG=I([He,Bu],Mx),hm=I([VT,Je,gG],Dx),yG=I([hm],Rx),mm=I([yG,Qh],$x),xG=I([mm,Je,hm],zx);I([mm,Je,hm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=je(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:je(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var DS=()=>{},bG=I([mm,Je,hm,lm,He],Wx),wG=I([Je,Bx,Ux,DS,bG,DS,me,He],Hx),GT=I([Je,me,mm,xG,Fu,He,wG],qx),_G=I([GT,No,aa],Gx),jG=I([Je,GT,_G,He],Xx);I([aa,jG],OA);var SG={radiusAxis:{},angleAxis:{}},kG=cr({name:"polarAxis",initialState:SG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),EG=kG.reducer;function YT(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG=(e,t)=>t,hb=I([VT,CG],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),AG=[],mb=(e,t,r)=>(r==null?void 0:r.length)===0?AG:r,XT=I([Qh,hb,mb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>$S($S({},t.presentationProps),a.props))),i!=null)return i}}),TG=I([XT,hb,mb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=je(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:So(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),IG=I([XT,hb,mb,ht],(e,t,r,n)=>{if(!(t==null||e==null))return TY({offset:n,pieSettings:t,displayedData:e,cells:r})}),JT={exports:{}},ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=Symbol.for("react.transitional.element"),vb=Symbol.for("react.portal"),pm=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),ym=Symbol.for("react.consumer"),xm=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Sm=Symbol.for("react.lazy"),MG=Symbol.for("react.view_transition"),DG=Symbol.for("react.client.reference");function Wr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pb:switch(e=e.type,e){case pm:case gm:case vm:case wm:case _m:case MG:return e;default:switch(e=e&&e.$$typeof,e){case xm:case bm:case Sm:case jm:return e;case ym:return e;default:return t}}case vb:return t}}}ke.ContextConsumer=ym;ke.ContextProvider=xm;ke.Element=pb;ke.ForwardRef=bm;ke.Fragment=pm;ke.Lazy=Sm;ke.Memo=jm;ke.Portal=vb;ke.Profiler=gm;ke.StrictMode=vm;ke.Suspense=wm;ke.SuspenseList=_m;ke.isContextConsumer=function(e){return Wr(e)===ym};ke.isContextProvider=function(e){return Wr(e)===xm};ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pb};ke.isForwardRef=function(e){return Wr(e)===bm};ke.isFragment=function(e){return Wr(e)===pm};ke.isLazy=function(e){return Wr(e)===Sm};ke.isMemo=function(e){return Wr(e)===jm};ke.isPortal=function(e){return Wr(e)===vb};ke.isProfiler=function(e){return Wr(e)===gm};ke.isStrictMode=function(e){return Wr(e)===vm};ke.isSuspense=function(e){return Wr(e)===wm};ke.isSuspenseList=function(e){return Wr(e)===_m};ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pm||e===gm||e===vm||e===wm||e===_m||typeof e=="object"&&e!==null&&(e.$$typeof===Sm||e.$$typeof===jm||e.$$typeof===xm||e.$$typeof===ym||e.$$typeof===bm||e.$$typeof===DG||e.getModuleId!==void 0)};ke.typeOf=Wr;JT.exports=ke;var RG=JT.exports,LS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zS=null,$p=null,QT=e=>{if(e===zS&&Array.isArray($p))return $p;var t=[];return m.Children.forEach(e,r=>{Xe(r)||(RG.isFragment(r)?t=t.concat(QT(r.props.children)):t.push(r))}),$p=t,zS=e,t};function gb(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>LS(i)):n=[LS(t)],QT(e).forEach(i=>{var a=Ba(i,"type.displayName")||Ba(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var ZT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,eI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(eI);var $G=eI.isPlainObject;const LG=ci($G);var FS,BS,US,WS,HS;function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(null,arguments)}function el(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var VS=(e,t,r,n,i)=>{var a=r-n,s;return s=Ke(FS||(FS=el(["M ",",",""])),e,t),s+=Ke(BS||(BS=el(["L ",",",""])),e+r,t),s+=Ke(US||(US=el(["L ",",",""])),e+r-a/2,t+i),s+=Ke(WS||(WS=el(["L ",",",""])),e+r-a/2-n,t+i),s+=Ke(HS||(HS=el(["L ",","," Z"])),e,t),s},UG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WG=e=>{var t=at(e,UG),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,h=m.useRef(null),[p,v]=m.useState(-1),g=m.useRef(i),x=m.useRef(a),b=m.useRef(s),w=m.useRef(r),y=m.useRef(n),_=Du(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var R=h.current.getTotalLength();R&&v(R)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=pe("recharts-trapezoid",o);if(!f)return m.createElement("g",null,m.createElement("path",Df({},Vt(t),{className:j,d:VS(r,n,i,a,s)})));var S=g.current,k=x.current,E=b.current,O=w.current,C=y.current,M="0px ".concat(p===-1?1:p,"px"),P="".concat(p,"px 0px"),A=hC(["strokeDasharray"],u,l);return m.createElement(Mu,{animationId:_,key:_,canBegin:p>0,duration:u,easing:l,isActive:f,begin:c},R=>{var W=Me(S,i,R),G=Me(k,a,R),te=Me(E,s,R),L=Me(O,r,R),U=Me(C,n,R);h.current&&(g.current=W,x.current=G,b.current=te,w.current=L,y.current=U);var H=R>0?{transition:A,strokeDasharray:P}:{strokeDasharray:M};return m.createElement("path",Df({},Vt(t),{className:j,d:VS(L,U,W,G,te),ref:h,style:KS(KS({},H),t.style)}))})},HG=["option","shapeType","activeClassName"];function qG(e,t){if(e==null)return{};var r,n,i=KG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){VG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XG(e,t){return Rf(Rf({},t),e)}function JG(e,t){return e==="symbols"}function YS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(gC,r);case"trapezoid":return m.createElement(WG,r);case"sector":return m.createElement(wC,r);case"symbols":if(JG(t))return m.createElement(Ny,r);break;case"curve":return m.createElement(Vs,r);default:return null}}function QG(e){return m.isValidElement(e)?e.props:e}function tI(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=qG(e,HG),a;if(m.isValidElement(t))a=m.cloneElement(t,Rf(Rf({},i),QG(t)));else if(typeof t=="function")a=t(i,i.index);else if(LG(t)&&typeof t!="boolean"){var s=XG(t,i);a=m.createElement(YS,{shapeType:r,elementProps:s})}else{var o=i;a=m.createElement(YS,{shapeType:r,elementProps:o})}return i.isActive?m.createElement(et,{className:n},a):a}var yb=(e,t,r)=>{var n=Ne();return(i,a)=>s=>{e==null||e(i,a,s),n(iT({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},xb=e=>{var t=Ne();return(r,n)=>i=>{e==null||e(r,n,i),t(oq())}},bb=(e,t,r)=>{var n=Ne();return(i,a)=>s=>{e==null||e(i,a,s),n(lq({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function wb(e){var{tooltipEntrySettings:t}=e,r=Ne(),n=Ft(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(nq(t)):i.current!==t&&r(iq({prev:i.current,next:t})),i.current=t)},[t,r,n]),m.useLayoutEffect(()=>()=>{i.current&&(r(aq(i.current)),i.current=null)},[r]),null}function rI(e){var{legendPayload:t}=e,r=Ne(),n=Ft(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(lC(t)):i.current!==t&&r(uC({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(cC(i.current)),i.current=null)},[r]),null}function ZG(e){var{legendPayload:t}=e,r=Ne(),n=Q(me),i=m.useRef(null);return m.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(lC(t)):i.current!==t&&r(uC({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(cC(i.current)),i.current=null)},[r]),null}var Lp,eY=()=>{var[e]=m.useState(()=>Xl("uid-"));return e},tY=(Lp=wM.useId)!==null&&Lp!==void 0?Lp:eY;function rY(e,t){var r=tY();return t||(e?"".concat(e,"-").concat(r):r)}var nY=m.createContext(void 0),_b=e=>{var{id:t,type:r,children:n}=e,i=rY("recharts-".concat(r),t);return m.createElement(nY.Provider,{value:i},n(i))},iY={cartesianItems:[],polarItems:[]},nI=cr({name:"graphicalItems",initialState:iY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:$e()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=nn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:$e()},removeCartesianGraphicalItem:{reducer(e,t){var r=nn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:$e()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:$e()},removePolarGraphicalItem:{reducer(e,t){var r=nn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:$e()}}}),{addCartesianGraphicalItem:aY,replaceCartesianGraphicalItem:sY,removeCartesianGraphicalItem:oY,addPolarGraphicalItem:lY,removePolarGraphicalItem:uY}=nI.actions,cY=nI.reducer,dY=e=>{var t=Ne(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(aY(e)):r.current!==e&&t(sY({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(oY(r.current)),r.current=null)},[t]),null},iI=m.memo(dY);function fY(e){var t=Ne();return m.useLayoutEffect(()=>(t(lY(e)),()=>{t(uY(e))}),[t,e]),null}var hY=["key"],mY=["onMouseEnter","onClick","onMouseLeave"],pY=["id"],vY=["id"];function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}function km(e,t){if(e==null)return{};var r,n,i=bY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wY(e){var t=m.useMemo(()=>gb(e.children,ho),[e.children]),r=Q(n=>TG(n,e.id,t));return r==null?null:m.createElement(ZG,{legendPayload:r})}var _Y=m.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),getPosition:h=>{var p;return(p=n[Number(h)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:So(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:c}};return m.createElement(wb,{tooltipEntrySettings:f})}),jY=(e,t)=>e>t?"start":e<t?"end":"middle",SY=(e,t,r)=>Lt(typeof t=="function"?t(e):t,r,r*.8),kY=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=yC(a,s),l=i+Lt(e.cx,a,a/2),u=n+Lt(e.cy,s,s/2),c=Lt(e.innerRadius,o,0),f=SY(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},EY=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},PY=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),n=km(t,hY);return m.createElement(Vs,Ji({},n,{type:"linear",className:r}))},OY=(e,t,r)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),m.isValidElement(n)))return n;var i=pe("recharts-pie-label-text",YT(e));return m.createElement(fm,Ji({},t,{alignmentBaseline:"middle",className:i}),n)};function NY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=ur(r),l=za(i),u=za(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,p)=>{var v=(h.startAngle+h.endAngle)/2,g=nt(h.cx,h.cy,h.outerRadius+c,v),x=Ge(Ge(Ge(Ge({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:jY(g.x,h.cx)},g),b=Ge(Ge(Ge(Ge({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[nt(h.cx,h.cy,h.outerRadius,v),g],key:"line"});return m.createElement(dr,{zIndex:Ye.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},m.createElement(et,null,a&&PY(a,b),OY(i,x,je(h,s))))});return m.createElement(et,{className:"recharts-pie-labels"},f)}function CY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?m.createElement(fb,{label:i}):m.createElement(NY,{sectors:t,props:r,showLabels:n})}function AY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=Q(Xi),l=Q(ab),u=Q(Vq),{onMouseEnter:c,onClick:f,onMouseLeave:h}=i,p=km(i,mY),v=yb(c,i.dataKey,s),g=xb(h),x=bb(f,i.dataKey,s);return t==null||t.length===0?null:m.createElement(m.Fragment,null,t.map((b,w)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var y=u==null||u===s,_=String(w)===o&&(l==null||i.dataKey===l)&&y,j=o?n:null,S=r&&_?r:j,k=Ge(Ge({},b),{},{stroke:b.stroke,tabIndex:-1,[qN]:w,[KN]:s});return m.createElement(et,Ji({key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Pu(p,b,w),{onMouseEnter:v(b,w),onMouseLeave:g(b,w),onClick:x(b,w)}),m.createElement(tI,Ji({option:a??S,index:w,shapeType:"sector",isActive:_},k)))}))}function TY(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=r,h=Math.abs(r.minAngle),p=EY(o,l),v=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(S=>je(S,u,0)!==0).length,b=(v>=360?x:x-1)*g,w=v-x*h-b,y=n.reduce((S,k)=>{var E=je(k,u,0);return S+(q(E)?E:0)},0),_;if(y>0){var j;_=n.map((S,k)=>{var E=je(S,u,0),O=je(S,c,k),C=kY(r,a,S),M=(q(E)?E:0)/y,P,A=Ge(Ge({},S),i&&i[k]&&i[k].props);k?P=j.endAngle+wt(p)*g*(E!==0?1:0):P=o;var R=P+wt(p)*((E!==0?h:0)+M*w),W=(P+R)/2,G=(C.innerRadius+C.outerRadius)/2,te=[{name:O,value:E,payload:A,dataKey:u,type:f,graphicalItemId:r.id}],L=nt(C.cx,C.cy,G,W);return j=Ge(Ge(Ge(Ge({},r.presentationProps),{},{percent:M,cornerRadius:typeof s=="string"?parseFloat(s):s,name:O,tooltipPayload:te,midAngle:W,middleRadius:G,tooltipPosition:L},A),C),{},{value:E,dataKey:u,startAngle:P,endAngle:R,payload:A,paddingAngle:wt(p)*g}),j})}return _}function IY(e){var{showLabels:t,sectors:r,children:n}=e,i=m.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return m.createElement(mG,{value:t?i:void 0},n)}function MY(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:h}=t,p=Du(t,"recharts-pie-"),v=r.current,[g,x]=m.useState(!1),b=m.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),w=m.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return m.createElement(IY,{showLabels:!g,sectors:i},m.createElement(Mu,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:b,key:p},y=>{var _,j=[],S=i&&i[0],k=(_=S==null?void 0:S.startAngle)!==null&&_!==void 0?_:0;return i==null||i.forEach((E,O)=>{var C=v&&v[O],M=O>0?Ba(E,"paddingAngle",0):0;if(C){var P=Me(C.endAngle-C.startAngle,E.endAngle-E.startAngle,y),A=Ge(Ge({},E),{},{startAngle:k+M,endAngle:k+P+M});j.push(A),k=A.endAngle}else{var{endAngle:R,startAngle:W}=E,G=Me(0,R-W,y),te=Ge(Ge({},E),{},{startAngle:k+M,endAngle:k+G+M});j.push(te),k=te.endAngle}}),r.current=j,m.createElement(et,null,m.createElement(AY,{sectors:j,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),m.createElement(CY,{showLabels:!g,sectors:i,props:t}),t.children)}var DY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ye.area};function RY(e){var{id:t}=e,r=km(e,pY),{hide:n,className:i,rootTabIndex:a}=e,s=m.useMemo(()=>gb(e.children,ho),[e.children]),o=Q(c=>IG(c,t,s)),l=m.useRef(null),u=pe("recharts-pie",i);return n||o==null?(l.current=null,m.createElement(et,{tabIndex:a,className:u})):m.createElement(dr,{zIndex:e.zIndex},m.createElement(_Y,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),m.createElement(et,{tabIndex:a,className:u},m.createElement(MY,{props:Ge(Ge({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function aI(e){var t=at(e,DY),{id:r}=t,n=km(t,vY),i=ur(n);return m.createElement(_b,{id:r,type:"pie"},a=>m.createElement(m.Fragment,null,m.createElement(fY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),m.createElement(wY,Ji({},n,{id:a})),m.createElement(RY,Ji({},n,{id:a}))))}aI.displayName="Pie";var $Y=["points"];function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return(t=zY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(null,arguments)}function BY(e,t){if(e==null)return{};var r,n,i=UY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WY(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var i=pe(n,typeof t!="boolean"?t.className:""),a=r??{},s=BY(a,$Y);return m.createElement(KT,$f({},s,{className:i}))}function HY(e,t){return e==null?!1:t?!0:e.length===1}function qY(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Ye.scatter}=e;if(!HY(t,r))return null;var c=ZT(r),f=Dz(r),h=t.map((v,g)=>{var x,b,w=zp(zp(zp({r:3},s),f),{},{index:g,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(b=v.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return m.createElement(WY,{key:"dot-".concat(g),option:r,dotProps:w,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),m.createElement(dr,{zIndex:u},m.createElement(et,$f({className:n},p),h))}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=VY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sI=0,YY={xAxis:{},yAxis:{},zAxis:{}},oI=cr({name:"cartesianAxis",initialState:YY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:$e()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:$e()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:$e()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:$e()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:$e()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:$e()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:$e()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:$e()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:$e()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=ZS(ZS({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:XY,replaceXAxis:JY,removeXAxis:QY,addYAxis:ZY,replaceYAxis:eX,removeYAxis:tX,addZAxis:Bre,replaceZAxis:Ure,removeZAxis:Wre,updateYAxisWidth:rX}=oI.actions,nX=oI.reducer,iX=I([ht],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),aX=I([iX,hi,mi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),jb=()=>Q(aX),sX=()=>Q(Qq);function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return(t=lX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lX(e){var t=uX(e,"string");return typeof t=="symbol"?t:t+""}function uX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Fp(Fp(Fp({},o),za(i)),Cy(i)),u;return m.isValidElement(i)?u=m.cloneElement(i,l):typeof i=="function"?u=i(l):u=m.createElement(KT,l),m.createElement(et,{className:"recharts-active-dot",clipPath:s},u)};function tk(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Ye.activeDot}=e,o=Q(Xi),l=sX();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return Xe(u)?null:m.createElement(dr,{zIndex:s},m.createElement(cX,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var rk=(e,t,r)=>{var n=r??e;if(!Xe(n))return Lt(n,t,0)},dX=(e,t,r)=>{var n={},i=e.filter(nm),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>{var f=u[c.stackId];return f==null&&(f=[]),f.push(c),u[c.stackId]=f,u},n),o=Object.entries(s).map(u=>{var c,[f,h]=u,p=h.map(g=>g.dataKey),v=rk(t,r,(c=h[0])===null||c===void 0?void 0:c.barSize);return{stackId:f,dataKeys:p,barSize:v}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=rk(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...o,...l]};function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pX(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o=Lt(e,r,0,!0),l,u=[];if(ae((a=n[0])===null||a===void 0?void 0:a.barSize)){var c=!1,f=r/s,h=n.reduce((w,y)=>w+(y.barSize||0),0);h+=(s-1)*o,h>=r&&(h-=(s-1)*o,o=0),h>=r&&f>0&&(c=!0,f*=.9,h=s*f);var p=(r-h)/2>>0,v={offset:p-o,size:0};l=n.reduce((w,y)=>{var _,j={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:v.offset+v.size+o,size:c?f:(_=y.barSize)!==null&&_!==void 0?_:0}},S=[...w,j];return v=j.position,S},u)}else{var g=Lt(t,r,0,!0);r-2*g-(s-1)*o<=0&&(o=0);var x=(r-2*g-(s-1)*o)/s;x>1&&(x>>=0);var b=ae(i)?Math.min(x,i):x;l=n.reduce((w,y,_)=>[...w,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:g+(x+o)*_+(x-b)/2,size:b}}],u)}return l}}var vX=(e,t,r,n,i,a,s)=>{var o=Xe(s)?t:s,l=pX(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>Lc(Lc({},u),{},{position:Lc(Lc({},u.position),{},{offset:u.position.offset-i/2})}))),l},gX=(e,t)=>{var r=rm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},yX=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function xX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ae(e.zIndex)?e.zIndex:t}var lI=e=>{var{chartData:t}=e,r=Ne(),n=Ft();return m.useEffect(()=>n?()=>{}:(r(vS(t)),()=>{r(vS(void 0))}),[t,r,n]),null},ik={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bX=cr({name:"brush",initialState:ik,reducers:{setBrushSettings(e,t){return t.payload==null?ik:t.payload}}}),wX=bX.reducer;function _X(e){return(e%180+180)%180}var jX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_X(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},SX={dots:[],areas:[],lines:[]},kX=cr({name:"referenceElements",initialState:SX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=nn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=nn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=nn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),EX=kX.reducer,PX=m.createContext(void 0),OX=e=>{var{children:t}=e,[r]=m.useState("".concat(Xl("recharts"),"-clip")),n=jb();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return m.createElement(PX.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function uI(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function NX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jX(n,r)}function CX(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function cu(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function AX(e,t){return uI(e,t+1)}function TX(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:uI(n,u)};var g=l,x,b=()=>(x===void 0&&(x=r(v,g)),x),w=v.coordinate,y=l===0||cu(e,w,b,c,o);y||(l=0,c=s,u+=1),y&&(c=w+e*(b()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function IX(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,h=!0,p=function(){var _=n[g];if(_==null)return 0;var j=g,S,k=()=>(S===void 0&&(S=r(_,j)),S),E=_.coordinate,O=g===c||cu(e,E,k,f,l);if(!O)return h=!1,1;O&&(f=E+e*(k()/2+i))},v,g=c;g<s&&(v=p(),!(v!==0&&v===1));g+=u);if(h){for(var x=[],b=c;b<s;b+=u){var w=n[b];w!=null&&x.push(w)}return x}}return[]}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $X(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var p=a[h];if(p==null)return 1;var v=p,g,x=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var b=e*(v.coordinate+e*x()/2-l);a[h]=v=Mt(Mt({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else a[h]=v=Mt(Mt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var w=cu(e,v.tickCoord,x,o,l);w&&(l=v.tickCoord-e*(x()/2+i),a[h]=Mt(Mt({},v),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function LX(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1];if(c!=null){var f=r(c,o-1),h=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=Mt(Mt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=cu(e,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-e*(f/2+i),s[o-1]=Mt(Mt({},c),{},{isShow:!0}))}}}for(var v=a?o-1:o,g=function(w){var y=s[w];if(y==null)return 1;var _=y,j,S=()=>(j===void 0&&(j=r(y,w)),j);if(w===0){var k=e*(_.coordinate-e*S()/2-l);s[w]=_=Mt(Mt({},_),{},{tickCoord:k<0?_.coordinate-k*e:_.coordinate})}else s[w]=_=Mt(Mt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var E=cu(e,_.tickCoord,S,l,u);E&&(l=_.tickCoord+e*(S()/2+i),s[w]=Mt(Mt({},_),{},{isShow:!0}))}},x=0;x<v;x++)g(x);return s}function Sb(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!n)return[];if(q(l)||Iu.isSsr){var h;return(h=AX(i,q(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],v=o==="top"||o==="bottom"?"width":"height",g=c&&v==="width"?Ol(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(j,S)=>{var k=typeof u=="function"?u(j.value,S):j.value;return v==="width"?NX(Ol(k,{fontSize:t,letterSpacing:r}),g,f):Ol(k,{fontSize:t,letterSpacing:r})[v]},b=i[0],w=i[1],y=i.length>=2&&b!=null&&w!=null?wt(w.coordinate-b.coordinate):1,_=CX(a,y,v);return l==="equidistantPreserveStart"?TX(y,_,x,i,s):l==="equidistantPreserveEnd"?IX(y,_,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=LX(y,_,x,i,s,l==="preserveStartEnd"):p=$X(y,_,x,i,s),p.filter(j=>j.isShow))}var zX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},FX=["axisLine","width","height","className","hide","ticks","axisType"];function BX(e,t){if(e==null)return{};var r,n,i=UX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(null,arguments)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){WX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WX(e,t,r){return(t=HX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ye.axis};function KX(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=qe(qe(qe({},l),ur(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=qe(qe({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=qe(qe({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return m.createElement("line",Va({},u,{className:pe("recharts-cartesian-axis-line",Ba(o,"className"))}))}function VX(e,t,r,n,i,a,s,o,l){var u,c,f,h,p,v,g=o?-1:1,x=e.tickSize||s,b=q(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=r+ +!o*i,f=h-g*x,v=f-g*l,p=b;break;case"left":f=h=e.coordinate,c=t+ +!o*n,u=c-g*x,p=u-g*l,v=b;break;case"right":f=h=e.coordinate,c=t+ +o*n,u=c+g*x,p=u+g*l,v=b;break;default:u=c=e.coordinate,h=r+ +o*i,f=h+g*x,v=f+g*l,p=b;break}return{line:{x1:u,y1:f,x2:c,y2:h},tick:{x:p,y:v}}}function GX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function YX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function XX(e){var{option:t,tickProps:r,value:n}=e,i,a=pe(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))i=m.cloneElement(t,qe(qe({},r),{},{className:a}));else if(typeof t=="function")i=t(qe(qe({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=pe(s,YT(t))),i=m.createElement(fm,Va({},r,{className:s}),n)}return i}var JX=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:h,y:p,width:v,height:g,tickSize:x,tickMargin:b,fontSize:w,letterSpacing:y,getTicksConfig:_,events:j,axisType:S}=e,k=Sb(qe(qe({},_),{},{ticks:r}),w,y),E=GX(c,f),O=YX(c,f),C=ur(_),M=za(n),P={};typeof i=="object"&&(P=i);var A=qe(qe({},C),{},{fill:"none"},P),R=k.map(te=>qe({entry:te},VX(te,h,p,v,g,c,x,f,b))),W=R.map(te=>{var{entry:L,line:U}=te;return m.createElement(et,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},i&&m.createElement("line",Va({},A,U,{className:pe("recharts-cartesian-axis-tick-line",Ba(i,"className"))})))}),G=R.map((te,L)=>{var U,H,{entry:J,tick:se}=te,le=qe(qe(qe(qe({verticalAnchor:O},C),{},{textAnchor:E,stroke:"none",fill:a},se),{},{index:L,payload:J,visibleTicksCount:k.length,tickFormatter:s,padding:l},u),{},{angle:(U=(H=u==null?void 0:u.angle)!==null&&H!==void 0?H:C.angle)!==null&&U!==void 0?U:0}),we=qe(qe({},le),M);return m.createElement(et,Va({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Pu(j,J,L)),n&&m.createElement(XX,{option:n,tickProps:we,value:"".concat(typeof s=="function"?s(J.value,L):J.value).concat(o||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},G.length>0&&m.createElement(dr,{zIndex:Ye.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},G)),W.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},W))}),QX=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=BX(e,FX),[c,f]=m.useState(""),[h,p]=m.useState(""),v=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return zX({ticks:v.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=m.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=b;var w=b[0];if(w){var y=window.getComputedStyle(w),_=y.fontSize,j=y.letterSpacing;(_!==c||j!==h)&&(f(_),p(j))}}},[c,h]);return s||n!=null&&n<=0||i!=null&&i<=0?null:m.createElement(dr,{zIndex:e.zIndex},m.createElement(et,{className:pe("recharts-cartesian-axis",a)},m.createElement(KX,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ur(e)}),m.createElement(JX,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(JV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(oG,{label:e.label,labelRef:e.labelRef}),e.children)))}),kb=m.forwardRef((e,t)=>{var r=at(e,Jn);return m.createElement(QX,Va({},r,{ref:t}))});kb.displayName="CartesianAxis";var ZX=["x1","y1","x2","y2","key"],eJ=["offset"],tJ=["xAxisId","yAxisId"],rJ=["xAxisId","yAxisId"];function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){nJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nJ(e,t,r){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sa.apply(null,arguments)}function Lf(e,t){if(e==null)return{};var r,n,i=sJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return m.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function cI(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=Lf(r,ZX),f=(i=ur(c))!==null&&i!==void 0?i:{},h=Lf(f,eJ);n=m.createElement("line",Sa({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function lJ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=Lf(e,tJ),s=i.map((o,l)=>{var u=Rt(Rt({},a),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return m.createElement(cI,{key:"line-".concat(l),option:n,lineItemProps:u})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function uJ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=Lf(e,rJ),s=i.map((o,l)=>{var u=Rt(Rt({},a),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return m.createElement(cI,{option:n,lineItemProps:u,key:"line-".concat(l)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function cJ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=u[h+1],v=p==null,g=v?i+s-f:p-f;if(g<=0)return null;var x=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function dJ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var p=u[h+1],v=p==null,g=v?i+s-f:p-f;if(g<=0)return null;var x=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:g,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var fJ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return BN(Sb(Rt(Rt(Rt({},Jn),r),{},{ticks:UN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},hJ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return BN(Sb(Rt(Rt(Rt({},Jn),r),{},{ticks:UN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},mJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ye.grid};function zf(e){var t=Jy(),r=Qy(),n=ZN(),i=Rt(Rt({},at(e,mJ)),{},{x:q(e.x)?e.x:n.left,y:q(e.y)?e.y:n.top,width:q(e.width)?e.width:n.width,height:q(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,v=Ft(),g=Q(O=>aS(O,"xAxis",a,v)),x=Q(O=>aS(O,"yAxis",s,v));if(!Nn(u)||!Nn(c)||!q(o)||!q(l))return null;var b=i.verticalCoordinatesGenerator||fJ,w=i.horizontalCoordinatesGenerator||hJ,{horizontalPoints:y,verticalPoints:_}=i;if((!y||!y.length)&&typeof w=="function"){var j=h&&h.length,S=w({yAxis:x?Rt(Rt({},x),{},{ticks:j?h:x.ticks}):void 0,width:t??u,height:r??c,offset:n},j?!0:f);uf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!_||!_.length)&&typeof b=="function"){var k=p&&p.length,E=b({xAxis:g?Rt(Rt({},g),{},{ticks:k?p:g.ticks}):void 0,width:t??u,height:r??c,offset:n},k?!0:f);uf(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return m.createElement(dr,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(oJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(cJ,Sa({},i,{horizontalPoints:y})),m.createElement(dJ,Sa({},i,{verticalPoints:_})),m.createElement(lJ,Sa({},i,{offset:n,horizontalPoints:y,xAxis:g,yAxis:x})),m.createElement(uJ,Sa({},i,{offset:n,verticalPoints:_,xAxis:g,yAxis:x}))))}zf.displayName="CartesianGrid";var pJ={},vJ=cr({name:"errorBars",initialState:pJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),gJ=vJ.reducer,yJ=["children"];function xJ(e,t){if(e==null)return{};var r,n,i=bJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_J=m.createContext(wJ);function jJ(e){var{children:t}=e,r=xJ(e,yJ);return m.createElement(_J.Provider,{value:r},t)}function Eb(e,t){var r,n,i=Q(u=>gi(u,e)),a=Q(u=>yi(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:gt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:yt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function dI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=jb(),{needClipX:a,needClipY:s,needClip:o}=Eb(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}function SJ(e){var t=za(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var kJ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=m;function EJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PJ=typeof Object.is=="function"?Object.is:EJ,OJ=Vu.useSyncExternalStore,NJ=Vu.useRef,CJ=Vu.useEffect,AJ=Vu.useMemo,TJ=Vu.useDebugValue;kJ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=NJ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=AJ(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,PJ(c,p))return v;var g=n(p);return i!==void 0&&i(v,g)?(c=p,v):(c=p,f=g)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=OJ(e,a[0],a[1]);return CJ(function(){s.hasValue=!0,s.value=o},[o]),TJ(o),o};function IJ(e){e()}function MJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){IJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lk={notify(){},get:()=>[]};function DJ(e,t){let r,n=lk,i=0,a=!1;function s(g){c();const x=n.subscribe(g);let b=!1;return()=>{b||(b=!0,x(),f())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=MJ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=lk)}function h(){a||(a=!0,c())}function p(){a&&(a=!1,f())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return v}var RJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$J=RJ(),LJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zJ=LJ(),FJ=()=>$J||zJ?m.useLayoutEffect:m.useEffect,BJ=FJ();function uk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function UJ(e,t){if(uk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!uk(e[r[i]],t[r[i]]))return!1;return!0}var Bp=Symbol.for("react-redux-context"),Up=typeof globalThis<"u"?globalThis:{};function WJ(){if(!m.createContext)return{};const e=Up[Bp]??(Up[Bp]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var HJ=WJ();function qJ(e){const{children:t,context:r,serverState:n,store:i}=e,a=m.useMemo(()=>{const l=DJ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=m.useMemo(()=>i.getState(),[i]);BJ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||HJ;return m.createElement(o.Provider,{value:a},t)}var KJ=qJ,VJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function GJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Em(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(VJ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!UJ(e[n],t[n]))return!1}else if(!GJ(e[n],t[n]))return!1;return!0}function Tn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:sI}function In(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:sI}var fI=(e,t,r)=>Yi(e,"xAxis",Tn(e,t),r),hI=(e,t,r)=>Gi(e,"xAxis",Tn(e,t),r),mI=(e,t,r)=>Yi(e,"yAxis",In(e,t),r),pI=(e,t,r)=>Gi(e,"yAxis",In(e,t),r),YJ=I([me,fI,mI,hI,pI],(e,t,r,n,i)=>An(e,"xAxis")?so(t,n,!1):so(r,i,!1)),XJ=(e,t)=>t,vI=I([sm,XJ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),gI=e=>{var t=me(e),r=An(t,"xAxis");return r?"yAxis":"xAxis"},JJ=(e,t)=>{var r=gI(e);return r==="yAxis"?In(e,t):Tn(e,t)},QJ=(e,t,r)=>Af(e,gI(e),JJ(e,t),r),ZJ=I([vI,QJ],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=rm(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),eQ=I([me,fI,mI,hI,pI,ZJ,sA,YJ,vI,V9],(e,t,r,n,i,a,s,o,l,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:p}=l,v;if(p&&p.length>0?v=p:v=c==null?void 0:c.slice(f,h+1),v!=null)return xQ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:u,bandSize:o})}}),tQ=["id"],rQ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function yI(e,t){if(e==null)return{};var r,n,i=nQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){iQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iQ(e,t,r){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ff(e,t){return e&&e!=="none"?e:t}var oQ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:Ff(n,i),value:So(r,t),payload:e}]},lQ=m.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:r,getPosition:Za,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:So(s,t),hide:o,type:u,color:Ff(n,a),unit:l,graphicalItemId:c}};return m.createElement(wb,{tooltipEntrySettings:f})});function uQ(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=ur(n);return m.createElement(qY,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function cQ(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $s($s({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return m.createElement(HT,{value:t?i:void 0},r)}function dk(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:u,isRange:c}=a,{id:f}=a,h=yI(a,tQ),p=ur(h),v=Vt(h);return m.createElement(m.Fragment,null,(t==null?void 0:t.length)>1&&m.createElement(et,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},m.createElement(Vs,Ca({},v,{id:f,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&m.createElement(Vs,Ca({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&m.createElement(Vs,Ca({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),m.createElement(uQ,{points:t,props:h,clipPathId:i}))}function dQ(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,l=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!ae(o)||!ae(l))return null;var u=n*Math.abs(o-l),c=Math.max(...a.map(f=>f.x||0));return q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.x||0),c)),q(c)?m.createElement("rect",{x:0,y:o<l?o:o-u,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function fQ(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,l=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!ae(o)||!ae(l))return null;var u=n*Math.abs(o-l),c=Math.max(...a.map(f=>f.y||0));return q(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(f=>f.y||0),c)),q(c)?m.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function hQ(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?m.createElement(dQ,{alpha:t,points:n,baseLine:i,strokeWidth:a}):m.createElement(fQ,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function mQ(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,v=m.useMemo(()=>({points:s,baseLine:o}),[s,o]),g=Du(v,"recharts-area-"),x=Zy(),[b,w]=m.useState(!1),y=!b,_=m.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),j=m.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);if(x==null)return null;var S=i.current,k=a.current;return m.createElement(cQ,{showLabels:y,points:s},n.children,m.createElement(Mu,{animationId:g,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:j,key:g},E=>{if(S){var O=S.length/s.length,C=E===1?s:s.map((P,A)=>{var R=Math.floor(A*O);if(S[R]){var W=S[R];return $s($s({},P),{},{x:Me(W.x,P.x,E),y:Me(W.y,P.y,E)})}return P}),M;return q(o)?M=Me(k,o,E):Xe(o)||on(o)?M=Me(k,0,E):M=o.map((P,A)=>{var R=Math.floor(A*O);if(Array.isArray(k)&&k[R]){var W=k[R];return $s($s({},P),{},{x:Me(W.x,P.x,E),y:Me(W.y,P.y,E)})}return P}),E>0&&(i.current=C,a.current=M),m.createElement(dk,{points:C,baseLine:M,needClip:t,clipPathId:r,props:n})}return E>0&&(i.current=s,a.current=o),m.createElement(et,null,l&&m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(r)},m.createElement(hQ,{alpha:E,points:s,baseLine:o,layout:x,strokeWidth:n.strokeWidth}))),m.createElement(et,{clipPath:"url(#animationClipPath-".concat(r,")")},m.createElement(dk,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),m.createElement(fb,{label:n.label}))}function pQ(e){var{needClip:t,clipPathId:r,props:n}=e,i=m.useRef(null),a=m.useRef();return m.createElement(mQ,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class vQ extends m.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:c,height:f,id:h,baseLine:p,zIndex:v}=this.props;if(t)return null;var g=pe("recharts-area",i),x=h,{r:b,strokeWidth:w}=SJ(r),y=ZT(r),_=b*2+w,j=o?"url(#clipPath-".concat(y?"":"dots-").concat(x,")"):void 0;return m.createElement(dr,{zIndex:v},m.createElement(et,{className:g},o&&m.createElement("defs",null,m.createElement(dI,{clipPathId:x,xAxisId:l,yAxisId:u}),!y&&m.createElement("clipPath",{id:"clipPath-dots-".concat(x)},m.createElement("rect",{x:s-_/2,y:a-_/2,width:c+_,height:f+_}))),m.createElement(pQ,{needClip:o,clipPathId:x,props:this.props})),m.createElement(tk,{points:n,mainColor:Ff(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(p)&&m.createElement(tk,{points:p,mainColor:Ff(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var xI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ye.area};function gQ(e){var t,r=at(e,xI),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:h,legendType:p,stroke:v,xAxisId:g,yAxisId:x}=r,b=yI(r,rQ),w=es(),y=wT(),{needClip:_}=Eb(g,x),j=Ft(),{points:S,isRange:k,baseLine:E}=(t=Q(R=>eQ(R,e.id,j)))!==null&&t!==void 0?t:{},O=jb();if(w!=="horizontal"&&w!=="vertical"||O==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:C,width:M,x:P,y:A}=O;return!S||!S.length?null:m.createElement(vQ,Ca({},b,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:E,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:C,hide:f,layout:w,isAnimationActive:h==="auto"?!Iu.isSsr:h,isRange:k,legendType:p,needClip:_,points:S,stroke:v,width:M,left:P,top:A,xAxisId:g,yAxisId:x}))}var yQ=(e,t,r,n,i)=>{var a=r??t;if(q(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function xQ(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,v=i&&i.length,g=yQ(a,s,r,o,l),x=a==="horizontal",b=!1,w=u.map((_,j)=>{var S,k,E,O;if(v)O=i[c+j];else{var C=je(_,n);Array.isArray(C)?(O=C,b=!0):O=[g,C]}var M=(S=(k=O)===null||k===void 0?void 0:k[1])!==null&&S!==void 0?S:null,P=M==null||v&&!t&&je(_,n)==null;if(x){var A;return{x:c_({axis:o,ticks:f,bandSize:p,entry:_,index:j}),y:P?null:(A=l.scale.map(M))!==null&&A!==void 0?A:null,value:O,payload:_}}return{x:P?null:(E=o.scale.map(M))!==null&&E!==void 0?E:null,y:c_({axis:l,ticks:h,bandSize:p,entry:_,index:j}),value:O,payload:_}}),y;return v||b?y=w.map(_=>{var j,S=Array.isArray(_.value)?_.value[0]:null;if(x){var k;return{x:_.x,y:S!=null&&_.y!=null&&(k=l.scale.map(S))!==null&&k!==void 0?k:null,payload:_.payload}}return{x:S!=null&&(j=o.scale.map(S))!==null&&j!==void 0?j:null,y:_.y,payload:_.payload}}):y=x?l.scale.map(g):o.scale.map(g),{points:w,baseLine:y??0,isRange:b}}function bQ(e){var t=at(e,xI),r=Ft();return m.createElement(_b,{id:t.id,type:"area"},n=>m.createElement(m.Fragment,null,m.createElement(rI,{legendPayload:oQ(t)}),m.createElement(lQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),m.createElement(iI,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:WN(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),m.createElement(gQ,Ca({},t,{id:n}))))}var Xg=m.memo(bQ,Em);Xg.displayName="Area";var wQ="Invariant failed";function _Q(e,t){throw new Error(wQ)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function Bf(e){return m.createElement(tI,Jg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var jQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(q(t))return t;var a=q(n)||Xe(n);return a?t(n,i):(a||_Q(),r)}},SQ=(e,t,r)=>r,kQ=(e,t)=>t,Gu=I([sm,kQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),EQ=I([Gu],e=>e==null?void 0:e.maxBarSize),PQ=(e,t,r,n)=>n,OQ=I([me,sm,Tn,In,SQ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),NQ=(e,t,r)=>{var n=me(e),i=Tn(e,t),a=In(e,t);if(!(i==null||a==null))return n==="horizontal"?Af(e,"yAxis",a,r):Af(e,"xAxis",i,r)},CQ=(e,t)=>{var r=me(e),n=Tn(e,t),i=In(e,t);if(!(n==null||i==null))return r==="horizontal"?iS(e,"xAxis",n):iS(e,"yAxis",i)},AQ=I([OQ,K9,CQ],dX),TQ=(e,t,r)=>{var n,i,a=Gu(e,t);if(a==null)return 0;var s=Tn(e,t),o=In(e,t);if(s==null||o==null)return 0;var l=me(e),u=yA(e),{maxBarSize:c}=a,f=Xe(c)?u:c,h,p;return l==="horizontal"?(h=Yi(e,"xAxis",s,r),p=Gi(e,"xAxis",s,r)):(h=Yi(e,"yAxis",o,r),p=Gi(e,"yAxis",o,r)),(n=(i=so(h,p,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},bI=(e,t,r)=>{var n=me(e),i=Tn(e,t),a=In(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=Yi(e,"xAxis",i,r),o=Gi(e,"xAxis",i,r)):(s=Yi(e,"yAxis",a,r),o=Gi(e,"yAxis",a,r)),so(s,o)}},IQ=I([AQ,yA,q9,xA,TQ,bI,EQ],vX),MQ=(e,t,r)=>{var n=Tn(e,t);if(n!=null)return Yi(e,"xAxis",n,r)},DQ=(e,t,r)=>{var n=In(e,t);if(n!=null)return Yi(e,"yAxis",n,r)},RQ=(e,t,r)=>{var n=Tn(e,t);if(n!=null)return Gi(e,"xAxis",n,r)},$Q=(e,t,r)=>{var n=In(e,t);if(n!=null)return Gi(e,"yAxis",n,r)},LQ=I([IQ,Gu],yX),zQ=I([NQ,Gu],gX),FQ=I([ht,Gy,MQ,DQ,RQ,$Q,LQ,me,sA,bI,zQ,Gu,PQ],(e,t,r,n,i,a,s,o,l,u,c,f,h)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:x}=f,b;if(x!=null&&x.length>0?b=x:b=p==null?void 0:p.slice(v,g+1),b!=null)return mZ({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:b,offset:e,cells:h,dataStartIndex:v})}}),BQ=["index"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(null,arguments)}function UQ(e,t){if(e==null)return{};var r,n,i=WQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wI=m.createContext(void 0),HQ=e=>{var t=m.useContext(wI);if(t!=null)return t.stackId;if(e!=null)return WN(e)},qQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),KQ=e=>{var t=m.useContext(wI);if(t!=null){var{stackId:r}=t;return"url(#".concat(qQ(r,e),")")}},_I=e=>{var{index:t}=e,r=UQ(e,BQ),n=KQ(t);return m.createElement(et,Qg({className:"recharts-bar-stack-layer",clipPath:n},r))},VQ=["onMouseEnter","onMouseLeave","onClick"],GQ=["value","background","tooltipPosition"],YQ=["id"],XQ=["onMouseEnter","onClick","onMouseLeave"];function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){JQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uf(e,t){if(e==null)return{};var r,n,i=eZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:So(r,t),payload:e}]},rZ=m.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,getPosition:Za,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:So(a,t),hide:s,type:l,color:i,unit:o,graphicalItemId:u}};return m.createElement(wb,{tooltipEntrySettings:c})});function nZ(e){var t=Q(Xi),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Uf(a,VQ),c=yb(s,n,a.id),f=xb(o),h=bb(l,n,a.id);if(!i||r==null)return null;var p=za(i);return m.createElement(dr,{zIndex:xX(i,Ye.barBackground)},r.map((v,g)=>{var{value:x,background:b,tooltipPosition:w}=v,y=Uf(v,GQ);if(!b)return null;var _=c(v,g),j=f(v,g),S=h(v,g),k=Ht(Ht(Ht(Ht(Ht({option:i,isActive:String(g)===t},y),{},{fill:"#eee"},b),p),Pu(u,v,g)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return m.createElement(Bf,ui({key:"background-bar-".concat(g)},k))}))}function iZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Ht(Ht({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return m.createElement(HT,{value:t?i:void 0},r)}function aZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=Q(Xi),l=Q(ab),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?m.createElement(dr,{zIndex:Ye.activeBar},m.createElement(_I,{index:a},m.createElement(Bf,ui({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s})))):m.createElement(Bf,ui({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function sZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return m.createElement(Bf,ui({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function oZ(e){var t,{data:r,props:n}=e,i=(t=ur(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Uf(i,YQ),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:f,onMouseLeave:h}=n,p=Uf(n,XQ),v=yb(c,l,a),g=xb(h),x=bb(f,l,a);return r?m.createElement(m.Fragment,null,r.map((b,w)=>m.createElement(_I,ui({index:w,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},Pu(p,b,w),{onMouseEnter:v(b,w),onMouseLeave:g(b,w),onClick:x(b,w)}),u?m.createElement(aZ,{shape:o,activeBar:u,baseProps:s,entry:b,index:w,dataKey:l}):m.createElement(sZ,{shape:o,baseProps:s,entry:b,index:w,dataKey:l})))):null}function lZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=r.current,h=Du(t,"recharts-bar-"),[p,v]=m.useState(!1),g=!p,x=m.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),b=m.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return m.createElement(iZ,{showLabels:g,rects:n},m.createElement(Mu,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:b,key:h},w=>{var y=w===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Ht(Ht({},_),{},{x:Me(S.x,_.x,w),y:Me(S.y,_.y,w),width:Me(S.width,_.width,w),height:Me(S.height,_.height,w)});if(i==="horizontal"){var k=Me(0,_.height,w),E=Me(_.stackedBarStart,_.y,w);return Ht(Ht({},_),{},{y:E,height:k})}var O=Me(0,_.width,w),C=Me(_.stackedBarStart,_.x,w);return Ht(Ht({},_),{},{width:O,x:C})});return w>0&&(r.current=y??null),y==null?null:m.createElement(et,null,m.createElement(oZ,{props:t,data:y}))}),m.createElement(fb,{label:t.label}),t.children)}function uZ(e){var t=m.useRef(null);return m.createElement(lZ,{previousRectanglesRef:t,props:e})}var jI=0,cZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:je(e,t)}};class dZ extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=pe("recharts-bar",i),f=u;return m.createElement(et,{className:c,id:u},o&&m.createElement("defs",null,m.createElement(dI,{clipPathId:f,xAxisId:a,yAxisId:s})),m.createElement(et,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},m.createElement(nZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),m.createElement(uZ,this.props)))}}var fZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:jI,xAxisId:0,yAxisId:0,zIndex:Ye.bar};function hZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=Eb(t,r),h=es(),p=Ft(),v=gb(e.children,ho),g=Q(w=>FQ(w,e.id,p,v));if(h!=="vertical"&&h!=="horizontal")return null;var x,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?x=0:x=h==="vertical"?b.height/2:b.width/2,m.createElement(jJ,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:cZ,errorBarOffset:x},m.createElement(dZ,ui({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function mZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:p,parentViewBox:v,dataStartIndex:g}=e,x=t==="horizontal"?o:s,b=c?x.scale.domain():null,w=BB({numericAxis:x}),y=x.scale.map(w);return f.map((_,j)=>{var S,k,E,O,C,M;if(c){var P=c[j+g];if(P==null)return null;S=RB(P,b)}else S=je(_,r),Array.isArray(S)||(S=[w,S]);var A=jQ(n,jI)(S[1],j);if(t==="horizontal"){var R,W=o.scale.map(S[0]),G=o.scale.map(S[1]);if(W==null||G==null)return null;k=d_({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:_,index:j}),E=(R=G??W)!==null&&R!==void 0?R:void 0,O=i.size;var te=W-G;if(C=on(te)?0:te,M={x:k,y:h.top,width:O,height:h.height},Math.abs(A)>0&&Math.abs(C)<Math.abs(A)){var L=wt(C||A)*(Math.abs(A)-Math.abs(C));E-=L,C+=L}}else{var U=s.scale.map(S[0]),H=s.scale.map(S[1]);if(U==null||H==null)return null;if(k=U,E=d_({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:_,index:j}),O=H-U,C=i.size,M={x:h.left,y:E,width:h.width,height:C},Math.abs(A)>0&&Math.abs(O)<Math.abs(A)){var J=wt(O||A)*(Math.abs(A)-Math.abs(O));O+=J}}if(k==null||E==null||O==null||C==null)return null;var se=Ht(Ht({},_),{},{stackedBarStart:y,x:k,y:E,width:O,height:C,value:c?S:S[1],payload:_,background:M,tooltipPosition:{x:k+O/2,y:E+C/2},parentViewBox:v},p&&p[j]&&p[j].props);return se}).filter(Boolean)}function pZ(e){var t=at(e,fZ),r=HQ(t.stackId),n=Ft();return m.createElement(_b,{id:t.id,type:"bar"},i=>m.createElement(m.Fragment,null,m.createElement(rI,{legendPayload:tZ(t)}),m.createElement(rZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),m.createElement(iI,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),m.createElement(dr,{zIndex:t.zIndex},m.createElement(hZ,ui({},t,{id:i})))))}var Zg=m.memo(pZ,Em);Zg.displayName="Bar";var vZ=["domain","range"],gZ=["domain","range"];function hk(e,t){if(e==null)return{};var r,n,i=yZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function SI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=hk(e,vZ),{domain:a,range:s}=t,o=hk(t,gZ);return!mk(r,a)||!mk(n,s)?!1:Em(i,o)}var xZ=["type"],bZ=["dangerouslySetInnerHTML","ticks","scale"],wZ=["id","scale"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(null,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=SZ(e,"string");return typeof t=="symbol"?t:t+""}function SZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t0(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EZ(e){var t=Ne(),r=m.useRef(null),n=Zy(),{type:i}=e,a=t0(e,xZ),s=em(n,"xAxis",i),o=m.useMemo(()=>{if(s!=null)return vk(vk({},a),{},{type:s})},[a,s]);return m.useLayoutEffect(()=>{o!=null&&(r.current===null?t(XY(o)):r.current!==o&&t(JY({prev:r.current,next:o})),r.current=o)},[o,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(QY(r.current)),r.current=null)},[t]),null}var PZ=e=>{var{xAxisId:t,className:r}=e,n=Q(Gy),i=Ft(),a="xAxis",s=Q(h=>QA(h,a,t,i)),o=Q(h=>GA(h,t)),l=Q(h=>VH(h,t)),u=Q(h=>NA(h,t));if(o==null||l==null||u==null)return null;var c=t0(e,bZ),f=t0(u,wZ);return m.createElement(kb,e0({},c,f,{x:l.x,y:l.y,width:o.width,height:o.height,className:pe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},OZ={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:Jn.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,label:!1,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:Jn.tickLine,tickSize:Jn.tickSize,type:gt.type,xAxisId:0},NZ=e=>{var t=at(e,OZ);return m.createElement(m.Fragment,null,m.createElement(EZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),m.createElement(PZ,t))},Wf=m.memo(NZ,SI);Wf.displayName="XAxis";var CZ=["type"],AZ=["dangerouslySetInnerHTML","ticks","scale"],TZ=["id","scale"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(e,t){if(e==null)return{};var r,n,i=RZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $Z(e){var t=Ne(),r=m.useRef(null),n=Zy(),{type:i}=e,a=n0(e,CZ),s=em(n,"yAxis",i),o=m.useMemo(()=>{if(s!=null)return yk(yk({},a),{},{type:s})},[s,a]);return m.useLayoutEffect(()=>{o!=null&&(r.current===null?t(ZY(o)):r.current!==o&&t(eX({prev:r.current,next:o})),r.current=o)},[o,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(tX(r.current)),r.current=null)},[t]),null}function LZ(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=m.useRef(null),s=m.useRef(null),o=Q(Gy),l=Ft(),u=Ne(),c="yAxis",f=Q(b=>YA(b,t)),h=Q(b=>YH(b,t)),p=Q(b=>QA(b,c,t,l)),v=Q(b=>CA(b,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!f||db(i)||m.isValidElement(i)||v==null)){var b=a.current;if(b){var w=b.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&u(rX({id:t,width:w}))}}},[p,f,u,i,t,n,v]),f==null||h==null||v==null)return null;var g=n0(e,AZ),x=n0(v,TZ);return m.createElement(kb,r0({},g,x,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:pe("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:p,axisType:c}))}var zZ={allowDataOverflow:yt.allowDataOverflow,allowDecimals:yt.allowDecimals,allowDuplicatedCategory:yt.allowDuplicatedCategory,angle:yt.angle,axisLine:Jn.axisLine,hide:!1,includeHidden:yt.includeHidden,interval:yt.interval,label:!1,minTickGap:yt.minTickGap,mirror:yt.mirror,orientation:yt.orientation,padding:yt.padding,reversed:yt.reversed,scale:yt.scale,tick:yt.tick,tickCount:yt.tickCount,tickLine:Jn.tickLine,tickSize:Jn.tickSize,type:yt.type,width:yt.width,yAxisId:0},FZ=e=>{var t=at(e,zZ);return m.createElement(m.Fragment,null,m.createElement($Z,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),m.createElement(LZ,t))},Hf=m.memo(FZ,SI);Hf.displayName="YAxis";var BZ=(e,t)=>t,Pb=I([BZ,me,EA,St,pT,xi,cK,ht],gK),Ob=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},kI=Lr("mouseClick"),EI=Nu();EI.startListening({actionCreator:kI,effect:(e,t)=>{var r=e.payload,n=Pb(t.getState(),Ob(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(uq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var i0=Lr("mouseMove"),PI=Nu(),zc=null;PI.startListening({actionCreator:i0,effect:(e,t)=>{var r=e.payload;zc!==null&&cancelAnimationFrame(zc);var n=Ob(r);zc=requestAnimationFrame(()=>{var i=t.getState(),a=Zx(i,i.tooltip.settings.shared);if(a==="axis"){var s=Pb(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(sT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(aT())}zc=null})}});function UZ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var xk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},OI=cr({name:"rootProps",initialState:xk,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:xk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),WZ=OI.reducer,{updateOptions:HZ}=OI.actions,qZ=null,KZ={updatePolarOptions:(e,t)=>t.payload},NI=cr({name:"polarOptions",initialState:qZ,reducers:KZ}),{updatePolarOptions:VZ}=NI.actions,GZ=NI.reducer,CI=Lr("keyDown"),AI=Lr("focus"),Nb=Nu();Nb.startListening({actionCreator:CI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=eb(i,Io(r),Wu(r),qu(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=xi(r);if(a==="Enter"){var u=If(r,"axis","hover",String(i.index));t.dispatch(qg({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=ZH(r),f=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var v=If(r,"axis","hover",String(p));t.dispatch(qg({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});Nb.startListening({actionCreator:AI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=If(r,"axis","hover",String(a));t.dispatch(qg({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Pr=Lr("externalEvent"),TI=Nu(),Wp=new Map;TI.startListening({actionCreator:Pr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Wp.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:Yq(o),activeDataKey:ab(o),activeIndex:Xi(o),activeLabel:yT(o),activeTooltipIndex:Xi(o),isTooltipActive:Xq(o)};r(l,n)}finally{Wp.delete(i)}});Wp.set(i,s)}}});var YZ=I([Ao],e=>e.tooltipItemPayloads),XZ=I([YZ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),II=Lr("touchMove"),MI=Nu();MI.startListening({actionCreator:II,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Zx(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=Pb(n,Ob({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(sT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(qN),f=(o=u.getAttribute(KN))!==null&&o!==void 0?o:void 0,h=To(n).find(g=>g.id===f);if(c==null||h==null||f==null)return;var{dataKey:p}=h,v=XZ(n,c,f);t.dispatch(iT({activeDataKey:p,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var JZ=fN({brush:wX,cartesianAxis:nX,chartData:VK,errorBars:gJ,graphicalItems:cY,layout:AB,legend:IU,options:UK,polarAxis:EG,polarOptions:GZ,referenceElements:EX,rootProps:WZ,tooltip:cq,zIndex:AK}),QZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return rB({reducer:JZ,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([EI.middleware,PI.middleware,Nb.middleware,TI.middleware,MI.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(PN({type:"raf"}))},devTools:{serialize:{replacer:UZ},name:"recharts-".concat(r)}})};function DI(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ft(),a=m.useRef(null);if(i)return r;a.current==null&&(a.current=QZ(t,n));var s=zy;return m.createElement(KJ,{context:s,store:a.current},r)}function ZZ(e){var{layout:t,margin:r}=e,n=Ne(),i=Ft();return m.useEffect(()=>{i||(n(OB(t)),n(PB(r)))},[n,i,t,r]),null}var RI=m.memo(ZZ,Em);function $I(e){var t=Ne();return m.useEffect(()=>{t(HZ(e))},[t,e]),null}function bk(e){var{zIndex:t,isPanorama:r}=e,n=m.useRef(null),i=Ne();return m.useLayoutEffect(()=>(n.current&&i(NK({zIndex:t,element:n.current,isPanorama:r})),()=>{i(CK({zIndex:t,isPanorama:r}))}),[i,t,r]),m.createElement("g",{tabIndex:-1,ref:n})}function wk(e){var{children:t,isPanorama:r}=e,n=Q(xK);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return m.createElement(m.Fragment,null,i.map(s=>m.createElement(bk,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>m.createElement(bk,{key:s,zIndex:s,isPanorama:r})))}var eee=["children"];function tee(e,t){if(e==null)return{};var r,n,i=ree(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(null,arguments)}var nee={width:"100%",height:"100%",display:"block"},iee=m.forwardRef((e,t)=>{var r=Jy(),n=Qy(),i=fC();if(!Nn(r)||!Nn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),m.createElement(Sy,qf({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:nee,ref:t}),a)}),aee=e=>{var{children:t}=e,r=Q(Bh);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return m.createElement(Sy,{width:n,height:i,x:s,y:a},t)},_k=m.forwardRef((e,t)=>{var{children:r}=e,n=tee(e,eee),i=Ft();return i?m.createElement(aee,null,m.createElement(wk,{isPanorama:!0},r)):m.createElement(iee,qf({ref:t},n),m.createElement(wk,{isPanorama:!1},r))});function see(){var e=Ne(),[t,r]=m.useState(null),n=Q(VB);return m.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ae(a)&&a!==n&&e(CB(a))}},[t,e,n]),r}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lee(e,t,r){return(t=uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(null,arguments)}var dee=()=>(rV(),null);function Kf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var fee=m.forwardRef((e,t)=>{var r,n,i=m.useRef(null),[a,s]=m.useState({containerWidth:Kf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Kf((n=e.style)===null||n===void 0?void 0:n.height)}),o=m.useCallback((u,c)=>{s(f=>{var h=Math.round(u),p=Math.round(c);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var h=v=>{var g=v[0];if(g!=null){var{width:x,height:b}=g.contentRect;o(x,b)}},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,o]);return m.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),m.createElement(m.Fragment,null,m.createElement(Au,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",qi({ref:l},e)))}),hee=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=m.useState({containerWidth:Kf(r),containerHeight:Kf(n)}),s=m.useCallback((l,u)=>{a(c=>{var f=Math.round(l),h=Math.round(u);return c.containerWidth===f&&c.containerHeight===h?c:{containerWidth:f,containerHeight:h}})},[]),o=m.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return m.createElement(m.Fragment,null,m.createElement(Au,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",qi({ref:o},e)))}),mee=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(Au,{width:r,height:n}),m.createElement("div",qi({ref:t},e)))}),pee=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?m.createElement(hee,qi({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?m.createElement(mee,qi({},e,{width:r,height:n,ref:t})):m.createElement(m.Fragment,null,m.createElement(Au,{width:r,height:n}),m.createElement("div",qi({ref:t},e)))});function vee(e){return e?fee:pee}var gee=m.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:v,onTouchStart:g,style:x,width:b,responsive:w,dispatchTouchEvents:y=!0}=e,_=m.useRef(null),j=Ne(),[S,k]=m.useState(null),[E,O]=m.useState(null),C=see(),M=Yy(),P=(M==null?void 0:M.width)>0?M.width:b,A=(M==null?void 0:M.height)>0?M.height:i,R=m.useCallback(D=>{C(D),typeof t=="function"&&t(D),k(D),O(D),D!=null&&(_.current=D)},[C,t,k,O]),W=m.useCallback(D=>{j(kI(D)),j(Pr({handler:a,reactEvent:D}))},[j,a]),G=m.useCallback(D=>{j(i0(D)),j(Pr({handler:u,reactEvent:D}))},[j,u]),te=m.useCallback(D=>{j(aT()),j(Pr({handler:c,reactEvent:D}))},[j,c]),L=m.useCallback(D=>{j(i0(D)),j(Pr({handler:f,reactEvent:D}))},[j,f]),U=m.useCallback(()=>{j(AI())},[j]),H=m.useCallback(D=>{j(CI(D.key))},[j]),J=m.useCallback(D=>{j(Pr({handler:s,reactEvent:D}))},[j,s]),se=m.useCallback(D=>{j(Pr({handler:o,reactEvent:D}))},[j,o]),le=m.useCallback(D=>{j(Pr({handler:l,reactEvent:D}))},[j,l]),we=m.useCallback(D=>{j(Pr({handler:h,reactEvent:D}))},[j,h]),ue=m.useCallback(D=>{j(Pr({handler:g,reactEvent:D}))},[j,g]),Ce=m.useCallback(D=>{y&&j(II(D)),j(Pr({handler:v,reactEvent:D}))},[j,y,v]),_e=m.useCallback(D=>{j(Pr({handler:p,reactEvent:D}))},[j,p]),T=vee(w);return m.createElement(ET.Provider,{value:S},m.createElement(d2.Provider,{value:E},m.createElement(T,{width:P??(x==null?void 0:x.width),height:A??(x==null?void 0:x.height),className:pe("recharts-wrapper",n),style:oee({position:"relative",cursor:"default",width:P,height:A},x),onClick:W,onContextMenu:J,onDoubleClick:se,onFocus:U,onKeyDown:H,onMouseDown:le,onMouseEnter:G,onMouseLeave:te,onMouseMove:L,onMouseUp:we,onTouchEnd:_e,onTouchMove:Ce,onTouchStart:ue,ref:R},m.createElement(dee,null),r)))}),yee=["width","height","responsive","children","className","style","compact","title","desc"];function xee(e,t){if(e==null)return{};var r,n,i=bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LI=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=xee(e,yee),h=ur(f);return l?m.createElement(m.Fragment,null,m.createElement(Au,{width:r,height:n}),m.createElement(_k,{otherAttributes:h,title:u,desc:c},a)):m.createElement(gee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(_k,{otherAttributes:h,title:u,desc:c,ref:t},m.createElement(OX,null,a)))});function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}var wee={top:5,right:5,bottom:5,left:5},_ee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:wee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},zI=m.forwardRef(function(t,r){var n,i=at(t.categoricalChartProps,_ee),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return m.createElement(DI,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},m.createElement(lI,{chartData:u.data}),m.createElement(RI,{layout:i.layout,margin:i.margin}),m.createElement($I,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(LI,a0({},i,{ref:r})))}),jee=["axis","item"],Sk=m.forwardRef((e,t)=>m.createElement(zI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jee,tooltipPayloadSearcher:cb,categoricalChartProps:e,ref:t}));function See(e){var t=Ne();return m.useEffect(()=>{t(VZ(e))},[t,e]),null}var kee=["layout"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function Eee(e,t){if(e==null)return{};var r,n,i=Pee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oee={top:5,right:5,bottom:5,left:5},FI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Oee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nee=m.forwardRef(function(t,r){var n,i=at(t.categoricalChartProps,FI),{layout:a}=i,s=Eee(i,kee),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(DI,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},m.createElement(lI,{chartData:i.data}),m.createElement(RI,{layout:a,margin:i.margin}),m.createElement($I,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(See,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),m.createElement(LI,s0({},s,{ref:r})))});function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee=["item"],Mee=Ek(Ek({},FI),{},{layout:"centric",startAngle:0,endAngle:360}),Dee=m.forwardRef((e,t)=>{var r=at(e,Mee);return m.createElement(Nee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Iee,tooltipPayloadSearcher:cb,categoricalChartProps:r,ref:t})}),Ree=["axis"],$ee=m.forwardRef((e,t)=>m.createElement(zI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ree,tooltipPayloadSearcher:cb,categoricalChartProps:e,ref:t}));const Lee=[{date:"Mon",tickets:24,resolved:18},{date:"Tue",tickets:31,resolved:25},{date:"Wed",tickets:28,resolved:22},{date:"Thu",tickets:35,resolved:30},{date:"Fri",tickets:42,resolved:35},{date:"Sat",tickets:15,resolved:14},{date:"Sun",tickets:12,resolved:10}];function zee(){return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-5",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Volume de tickets"}),d.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Nouveaux vs rsolus cette semaine"})]}),d.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-cyan-500"}),d.jsx("span",{className:"text-slate-500",children:"Nouveaux"})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"}),d.jsx("span",{className:"text-slate-500",children:"Rsolus"})]})]})]}),d.jsx("div",{className:"h-64",children:d.jsx(ld,{width:"100%",height:"100%",minWidth:300,minHeight:200,children:d.jsxs($ee,{data:Lee,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"ticketGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#0891B2",stopOpacity:.15}),d.jsx("stop",{offset:"95%",stopColor:"#0891B2",stopOpacity:0})]}),d.jsxs("linearGradient",{id:"resolvedGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.15}),d.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),d.jsx(zf,{strokeDasharray:"3 3",stroke:"#E2E8F0",vertical:!1}),d.jsx(Wf,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94A3B8"}}),d.jsx(Hf,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94A3B8"}}),d.jsx(cd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}}),d.jsx(Xg,{type:"monotone",dataKey:"tickets",stroke:"#0891B2",strokeWidth:2,fill:"url(#ticketGrad)"}),d.jsx(Xg,{type:"monotone",dataKey:"resolved",stroke:"#10B981",strokeWidth:2,fill:"url(#resolvedGrad)"})]})})})]})}function lr({label:e,color:t="#6B7280",size:r="sm"}){return d.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${r==="sm"?"px-2 py-0.5 text-xs":"px-2.5 py-1 text-xs"}`,style:{backgroundColor:`${t}15`,color:t,border:`1px solid ${t}30`},children:e})}const du=[{value:"new",label:"Nouveau",color:"#0EA5E9"},{value:"qualify",label:" qualifier",color:"#F59E0B"},{value:"assigned",label:"Assign",color:"#8B5CF6"},{value:"in_progress",label:"En cours",color:"#3B82F6"},{value:"waiting",label:"En attente",color:"#F97316"},{value:"replied",label:"Rpondu",color:"#10B981"},{value:"closed",label:"Ferm",color:"#6B7280"}],fu=[{value:"low",label:"Basse",color:"#6B7280"},{value:"medium",label:"Moyenne",color:"#3B82F6"},{value:"high",label:"Haute",color:"#F59E0B"},{value:"urgent",label:"Urgente",color:"#EF4444"}],Pk={positive:"#10B981",neutral:"#6B7280",negative:"#EF4444",mixed:"#F59E0B"};function Cb(e){return e?du.find(t=>t.value===e)??{value:e,label:e,color:"#6B7280"}:{value:"",label:"Aucun statut",color:"#CBD5E1"}}function Ab(e){return e?fu.find(t=>t.value===e)??{value:e,label:e,color:"#6B7280"}:{value:"",label:"Aucune priorit",color:"#CBD5E1"}}function Tb(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(1))} ${r[n]}`}function hu(e){const t=e.match(/\{\{(\w+)\}\}/g);return t?[...new Set(t.map(r=>r.replace(/\{\{|\}\}/g,"")))]:[]}function Ok(e,t){return e.replace(/\{\{(\w+)\}\}/g,(r,n)=>t[n]??r)}function Fee(){const e=Xa(),[t,r]=m.useState([]),[n,i]=m.useState({total:0,open:0,waiting:0,urgent:0});m.useEffect(()=>{a()},[]);async function a(){const{data:o}=await z.from("tickets").select("*, category:categories(name, color), assignee:profiles!tickets_assignee_id_fkey(full_name)").order("last_message_at",{ascending:!1}).limit(8);o&&r(o);const{count:l}=await z.from("tickets").select("*",{count:"exact",head:!0}),{count:u}=await z.from("tickets").select("*",{count:"exact",head:!0}).in("status",["new","qualify","assigned","in_progress"]),{count:c}=await z.from("tickets").select("*",{count:"exact",head:!0}).eq("status","waiting"),{count:f}=await z.from("tickets").select("*",{count:"exact",head:!0}).eq("priority","urgent");i({total:l??0,open:u??0,waiting:c??0,urgent:f??0})}const s=[{label:"Total des tickets",value:n.total,icon:xy,color:"#0891B2",change:12},{label:"Tickets ouverts",value:n.open,icon:z4,color:"#3B82F6",change:-5},{label:"En attente de rponse",value:n.waiting,icon:Pl,color:"#F59E0B",change:3},{label:"Urgent",value:n.urgent,icon:FO,color:"#EF4444",change:-8}];return d.jsxs("div",{className:"min-h-screen",children:[d.jsx(La,{title:"Dashboard",subtitle:yr(new Date,"EEEE, MMMM d, yyyy")}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx(Az,{stats:s}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[d.jsx("div",{className:"xl:col-span-2",children:d.jsx(zee,{})}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Rpartition par statut"})}),d.jsx("div",{className:"space-y-3",children:[{label:"Nouveau",count:n.total>0?Math.ceil(n.open*.3):0,color:"#0EA5E9"},{label:"En cours",count:n.total>0?Math.ceil(n.open*.4):0,color:"#3B82F6"},{label:"En attente",count:n.waiting,color:"#F97316"},{label:"Rpondu",count:n.total>0?Math.ceil(n.total*.2):0,color:"#10B981"},{label:"Ferm",count:n.total>0?Math.floor(n.total*.15):0,color:"#6B7280"}].map(o=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:o.color}}),d.jsx("span",{className:"text-sm text-slate-600 flex-1",children:o.label}),d.jsx("span",{className:"text-sm font-medium text-slate-900",children:o.count})]},o.label))})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-100",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Tickets rcents"}),d.jsxs("button",{onClick:()=>e("/inbox"),className:"flex items-center gap-1 text-xs font-medium text-cyan-600 hover:text-cyan-700 transition",children:["Voir tout ",d.jsx(BO,{className:"w-3 h-3"})]})]}),d.jsxs("div",{className:"divide-y divide-slate-100",children:[t.length===0&&d.jsx("div",{className:"px-5 py-10 text-center text-sm text-slate-500",children:"Aucun ticket pour le moment. Ils apparatront ici une fois les emails traits."}),t.map(o=>{const l=Cb(o.status),u=Ab(o.priority);return d.jsxs("div",{onClick:()=>e(`/inbox/${o.id}`),className:"flex items-center gap-4 px-5 py-3.5 hover:bg-slate-50 cursor-pointer transition",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:o.subject}),d.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[o.contact_name||o.contact_email,o.assignee&&`  assign  ${o.assignee.full_name}`]})]}),d.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.category&&d.jsx(lr,{label:o.category.name,color:o.category.color}),o.priority&&d.jsx(lr,{label:u.label,color:u.color}),o.status&&d.jsx(lr,{label:l.label,color:l.color})]})]},o.id)})]})]})]})]})}function Bee({filters:e,onChange:t,categories:r,mailboxes:n}){const i=e.status||e.priority||e.mailbox_id||e.category_id||e.due_date_filter,a=()=>{t({search:e.search,status:"",priority:"",mailbox_id:"",category_id:"",due_date_filter:""})};return d.jsxs("div",{className:"bg-white border-b border-slate-200 px-5 py-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(yh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Rechercher par sujet, expditeur ou mot-cl...",value:e.search,onChange:s=>t({...e,search:s.target.value}),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition"})]}),d.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[d.jsx(q4,{className:"w-3.5 h-3.5"}),d.jsx("span",{children:"Filtres"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsxs("select",{value:e.status,onChange:s=>t({...e,status:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Tous les statuts"}),d.jsx("option",{value:"null",children:"Sans statut"}),du.map(s=>d.jsx("option",{value:s.value,children:s.label},s.value))]}),d.jsxs("select",{value:e.priority,onChange:s=>t({...e,priority:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les priorits"}),d.jsx("option",{value:"null",children:"Sans priorit"}),fu.map(s=>d.jsx("option",{value:s.value,children:s.label},s.value))]}),n.length>0&&d.jsxs("select",{value:e.mailbox_id,onChange:s=>t({...e,mailbox_id:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les botes mail"}),[...n].sort((s,o)=>s.name.localeCompare(o.name)).map(s=>d.jsx("option",{value:s.id,children:s.name},s.id))]}),r.length>0&&d.jsxs("select",{value:e.category_id,onChange:s=>t({...e,category_id:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les catgories"}),r.map(s=>d.jsx("option",{value:s.id,children:s.name},s.id))]}),d.jsxs("select",{value:e.due_date_filter,onChange:s=>t({...e,due_date_filter:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les chances"}),d.jsx("option",{value:"overdue",children:"En retard"}),d.jsx("option",{value:"today",children:"Aujourd'hui"}),d.jsx("option",{value:"upcoming",children:" venir (7 jours)"}),d.jsx("option",{value:"no_due_date",children:"Sans chance"})]}),i&&d.jsxs("button",{onClick:a,className:"flex items-center gap-1 px-2 py-1.5 text-xs text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition",children:[d.jsx(Qa,{className:"w-3 h-3"}),"Effacer"]})]})]})}const Uee=[25,50,100];function Wee({currentPage:e,totalItems:t,pageSize:r,onPageChange:n,onPageSizeChange:i}){const a=Math.max(1,Math.ceil(t/r)),s=t===0?0:(e-1)*r+1,o=Math.min(e*r,t),l=Hee(e,a);return d.jsxs("div",{className:"bg-white border-t border-slate-200 px-5 py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs text-slate-500",children:t===0?"Aucun resultat":`${s}-${o} sur ${t}`}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"text-xs text-slate-400",children:"Afficher"}),d.jsx("select",{value:r,onChange:u=>i(Number(u.target.value)),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded-md text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:Uee.map(u=>d.jsx("option",{value:u,children:u},u))}),d.jsx("span",{className:"text-xs text-slate-400",children:"par page"})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Fc,{onClick:()=>n(1),disabled:e<=1,label:"Premiere page",children:d.jsx(F4,{className:"w-3.5 h-3.5"})}),d.jsx(Fc,{onClick:()=>n(e-1),disabled:e<=1,label:"Page precedente",children:d.jsx(gy,{className:"w-3.5 h-3.5"})}),l.map((u,c)=>u==="..."?d.jsx("span",{className:"w-8 text-center text-xs text-slate-400",children:"..."},`ellipsis-${c}`):d.jsx("button",{onClick:()=>n(u),className:`w-8 h-8 rounded-lg text-xs font-medium transition ${u===e?"bg-cyan-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-100"}`,children:u},u)),d.jsx(Fc,{onClick:()=>n(e+1),disabled:e>=a,label:"Page suivante",children:d.jsx(yy,{className:"w-3.5 h-3.5"})}),d.jsx(Fc,{onClick:()=>n(a),disabled:e>=a,label:"Derniere page",children:d.jsx(B4,{className:"w-3.5 h-3.5"})})]})]})}function Fc({onClick:e,disabled:t,label:r,children:n}){return d.jsx("button",{onClick:e,disabled:t,title:r,className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-500 hover:bg-slate-100 transition disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:n})}function Hee(e,t){if(t<=7)return Array.from({length:t},(a,s)=>s+1);const r=[1];e>3&&r.push("...");const n=Math.max(2,e-1),i=Math.min(t-1,e+1);for(let a=n;a<=i;a++)r.push(a);return e<t-2&&r.push("..."),r.push(t),r}function Yu({message:e="Loading..."}){return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsx($t,{className:"w-8 h-8 text-cyan-500 animate-spin mb-3"}),d.jsx("p",{className:"text-sm text-slate-500",children:e})]})}function BI({icon:e,title:t,description:r,action:n}){return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-100 flex items-center justify-center mb-4",children:d.jsx(e,{className:"w-7 h-7 text-slate-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:t}),d.jsx("p",{className:"text-sm text-slate-500 text-center max-w-sm mb-4",children:r}),n&&d.jsx("button",{onClick:n.onClick,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:n.label})]})}function qee({onClose:e,onSent:t}){const[r,n]=m.useState([]),[i,a]=m.useState(""),[s,o]=m.useState(""),[l,u]=m.useState(""),[c,f]=m.useState(""),[h,p]=m.useState(!1),[v,g]=m.useState(""),[x,b]=m.useState(!1);m.useEffect(()=>{async function _(){const{data:j}=await z.from("mailboxes").select("*").eq("is_active",!0).order("name");j&&(n(j),j.length>0&&a(j[0].id))}_()},[]);async function w(){if(!v.trim()){alert("Veuillez entrer une ide pour le message");return}b(!0);try{const _=r.find(E=>E.id===i),S=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-email-from-idea",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({idea:v,tone:(_==null?void 0:_.tone)||"professional",signature:(_==null?void 0:_.signature)||""})}),k=await S.json();if(!S.ok){console.error("Erreur gnration email:",k),alert(`Erreur: ${k.error||"Erreur lors de la gnration de l'email"}`);return}u(k.subject||""),f(k.body||"")}catch(_){console.error("Exception gnration email:",_),alert(`Erreur: ${_ instanceof Error?_.message:"Erreur lors de la gnration de l'email"}`)}finally{b(!1)}}async function y(){if(!s||!l||!c||!i){alert("Veuillez remplir tous les champs");return}p(!0);try{const _="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/send-email",{data:{session:j}}=await z.auth.getSession();if(!j){alert("Session expire. Veuillez vous reconnecter.");return}const S=await fetch(_,{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({mailboxId:i,to:s,subject:l,body:c})}),k=await S.json();if(!S.ok){console.error("Erreur envoi email:",k),alert(`Erreur: ${k.error||"Erreur lors de l'envoi de l'email"}`);return}console.log("Email envoy:",k),alert("Email envoy avec succs"),t(),e()}catch(_){console.error("Exception envoi email:",_),alert(`Erreur: ${_ instanceof Error?_.message:"Erreur lors de l'envoi de l'email"}`)}finally{p(!1)}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nouveau message"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:d.jsx(Qa,{className:"w-5 h-5 text-slate-500"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Bote mail d'envoi"}),d.jsx("select",{value:i,onChange:_=>a(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:r.map(_=>d.jsxs("option",{value:_.id,children:[_.name," (",_.email_address,")"]},_.id))})]}),d.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-fuchsia-50 border border-violet-200 rounded-xl p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-semibold text-violet-900",children:"Idee pour l'IA"}),d.jsx("button",{onClick:w,disabled:x||!v.trim(),className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 text-white text-xs font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:x?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}),"Generation..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Yn,{className:"w-3.5 h-3.5"}),"Generer le brouillon"]})})]}),d.jsx("textarea",{value:v,onChange:_=>g(_.target.value),className:"w-full px-3 py-2 bg-white border border-violet-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 font-sans resize-none",placeholder:"Decrivez brievement l'idee du message que vous souhaitez envoyer, l'IA generera un brouillon complet...",rows:3}),d.jsx("p",{className:"text-xs text-violet-700 mt-2",children:'Exemple: "Confirmer la visite prevue demain a 14h" ou "Expliquer les documents manquants"'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Destinataire"}),d.jsx("input",{type:"email",value:s,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"destinataire@exemple.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Objet"}),d.jsx("input",{type:"text",value:l,onChange:_=>u(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet de l'email"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Message"}),d.jsx("textarea",{value:c,onChange:_=>f(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 font-sans",placeholder:"Tapez votre message ici...",rows:14})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-slate-200 bg-slate-50",children:[d.jsx("button",{onClick:e,disabled:h,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-900 transition disabled:opacity-50",children:"Annuler"}),d.jsx("button",{onClick:y,disabled:h||!s||!l||!c||!i,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-4 h-4 animate-spin"}),"Envoi..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Su,{className:"w-4 h-4"}),"Envoyer"]})})]})]})})}const Kee=25;function Vee(){const e=Xa(),[t]=pO(),[r,n]=m.useState([]),[i,a]=m.useState([]),[s,o]=m.useState([]),[l,u]=m.useState(new Set),[c,f]=m.useState(!0),[h,p]=m.useState(!1),[v,g]=m.useState(new Set),[x,b]=m.useState(!1),[w,y]=m.useState(1),[_,j]=m.useState(Kee),[S,k]=m.useState(!1),[E,O]=m.useState(!1),[C,M]=m.useState(null),[P,A]=m.useState({search:"",status:"",priority:"",mailbox_id:"",category_id:"",due_date_filter:""}),R=m.useCallback(async(T=!1)=>{var $,ce,ne;T&&p(!0);const[D,V,Z]=await Promise.all([z.from("tickets").select("*, category:categories(name, color), assignee:profiles!tickets_assignee_id_fkey(full_name, avatar_color), mailbox:mailboxes(name, email_address)").eq("archived",!1).order("last_message_at",{ascending:!1}),z.from("categories").select("*").order("name"),z.from("mailboxes").select("*").order("name")]);if(console.log("[InboxView] Load results:",{tickets:(($=D.data)==null?void 0:$.length)||0,ticketsError:D.error,categories:((ce=V.data)==null?void 0:ce.length)||0,categoriesError:V.error,mailboxes:((ne=Z.data)==null?void 0:ne.length)||0,mailboxesError:Z.error}),D.data){n(D.data);const Ae=D.data.map(st=>st.id),{data:ge}=await z.from("attachments").select("email_id");if(ge&&ge.length>0){const st=ge.map(fr=>fr.email_id),{data:vt}=await z.from("emails").select("ticket_id").in("ticket_id",Ae).in("id",st);if(vt){const fr=[...new Set(vt.map(ns=>ns.ticket_id).filter(Boolean))];u(new Set(fr))}}else u(new Set)}V.data&&a(V.data),Z.data&&o(Z.data),f(!1),p(!1),g(new Set)},[]);m.useEffect(()=>{R()},[R]),m.useEffect(()=>{const T=t.get("mailbox");T!==P.mailbox_id&&(A(D=>({...D,mailbox_id:T||""})),y(1))},[t]);const W=m.useMemo(()=>{let T=r;if(P.status&&(P.status==="null"?T=T.filter(D=>!D.status):T=T.filter(D=>D.status===P.status)),P.priority&&(P.priority==="null"?T=T.filter(D=>!D.priority):T=T.filter(D=>D.priority===P.priority)),P.mailbox_id&&(T=T.filter(D=>D.mailbox_id===P.mailbox_id)),P.category_id&&(T=T.filter(D=>D.category_id===P.category_id)),P.due_date_filter){const D=new Date,V=new Date(D.getFullYear(),D.getMonth(),D.getDate());T=T.filter(Z=>{if(P.due_date_filter==="no_due_date")return!Z.due_date;if(!Z.due_date)return!1;const $=new Date(Z.due_date),ce=new Date($.getFullYear(),$.getMonth(),$.getDate());if(P.due_date_filter==="overdue")return ce<V;if(P.due_date_filter==="today")return ce.getTime()===V.getTime();if(P.due_date_filter==="upcoming"){const ne=new Date(V);return ne.setDate(ne.getDate()+7),ce>=V&&ce<=ne}return!0})}if(P.search){const D=P.search.toLowerCase();T=T.filter(V=>V.subject.toLowerCase().includes(D)||V.contact_email.toLowerCase().includes(D)||V.contact_name.toLowerCase().includes(D))}return T},[r,P]);m.useEffect(()=>{y(1),g(new Set)},[P,_]);const G=Math.max(1,Math.ceil(W.length/_)),te=Math.min(w,G),L=m.useMemo(()=>{const T=(te-1)*_;return W.slice(T,T+_)},[W,te,_]);function U(T,D){D.stopPropagation(),g(V=>{const Z=new Set(V);return Z.has(T)?Z.delete(T):Z.add(T),Z})}function H(){const T=L.map(V=>V.id),D=T.length>0&&T.every(V=>v.has(V));g(D?V=>{const Z=new Set(V);return T.forEach($=>Z.delete($)),Z}:V=>{const Z=new Set(V);return T.forEach($=>Z.add($)),Z})}async function J(){if(v.size===0)return;const T=v.size;if(!confirm(`Supprimer ${T} ticket${T>1?"s":""} et tous les emails associes ?`))return;b(!0);const D=Array.from(v);await z.from("ai_classifications").delete().in("ticket_id",D),await z.from("internal_notes").delete().in("ticket_id",D),await z.from("ticket_tags").delete().in("ticket_id",D),await z.from("emails").delete().in("ticket_id",D),await z.from("tickets").delete().in("id",D),b(!1),R()}async function se(){var T;O(!0),M(null);try{const Z=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/sync-mailbox",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({})})).json();if((T=Z.results)!=null&&T.length){const $=Z.results.reduce((ce,ne)=>ce+(ne.synced||0),0);M({msg:`${$} email${$!==1?"s":""} synchronis${$!==1?"s":""}`,ok:!0}),R()}else Z.error&&M({msg:Z.error,ok:!1})}catch(D){M({msg:D.message||"Erreur rseau",ok:!1})}O(!1)}function le(T){y(T),g(new Set)}function we(T){j(T),y(1),g(new Set)}const ue=L.map(T=>T.id),Ce=ue.length>0&&ue.every(T=>v.has(T)),_e=ue.some(T=>v.has(T))&&!Ce;return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(La,{title:"Inbox",subtitle:`${W.length} ticket${W.length!==1?"s":""}`}),d.jsxs("div",{className:"bg-white border-b border-slate-200 px-5 py-2 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[L.length>0&&d.jsx("button",{onClick:H,className:"p-1 rounded text-slate-400 hover:text-slate-600 transition",title:Ce?"Tout dslectionner":"Tout slectionner",children:Ce?d.jsx(O1,{className:"w-4.5 h-4.5 text-cyan-600"}):_e?d.jsx(Z4,{className:"w-4.5 h-4.5 text-cyan-600"}):d.jsx(N1,{className:"w-4.5 h-4.5"})}),s.length>1&&d.jsxs("select",{value:P.mailbox_id,onChange:T=>A({...P,mailbox_id:T.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les botes mail"}),s.map(T=>d.jsx("option",{value:T.id,children:T.name},T.id))]}),v.size>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs font-medium text-slate-600",children:[v.size," slectionn",v.size>1?"s":""]}),d.jsxs("button",{onClick:J,disabled:x,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-600 hover:bg-red-100 text-xs font-medium rounded-lg transition disabled:opacity-50",children:[d.jsx($a,{className:"w-3.5 h-3.5"}),x?"Suppression...":"Supprimer"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[C&&d.jsx("span",{className:`text-xs font-medium ${C.ok?"text-emerald-600":"text-red-500"}`,children:C.msg}),d.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition",children:[d.jsx(YO,{className:"w-3.5 h-3.5"}),"Nouveau message"]}),d.jsxs("button",{onClick:se,disabled:E,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-cyan-600 hover:bg-cyan-700 rounded-lg transition disabled:opacity-50",children:[E?d.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}):d.jsx(gh,{className:"w-3.5 h-3.5"}),E?"Synchronisation...":"Synchroniser"]}),d.jsxs("button",{onClick:()=>R(!0),disabled:h,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-600 hover:text-cyan-700 hover:bg-cyan-50 rounded-lg transition disabled:opacity-50",children:[d.jsx(Hs,{className:`w-3.5 h-3.5 ${h?"animate-spin":""}`}),"Actualiser"]})]})]}),d.jsx(Bee,{filters:P,onChange:A,categories:i,mailboxes:s}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:c?d.jsx(Yu,{}):W.length===0?d.jsx(BI,{icon:r.length===0?xy:Wi,title:r.length===0?"Aucun ticket":"Aucun rsultat",description:r.length===0?"Les tickets apparatront ici lorsque les emails seront reus.":"Essayez de modifier vos filtres."}):d.jsx("div",{className:"divide-y divide-slate-100",children:L.map(T=>{const D=Cb(T.status),V=Ab(T.priority),Z=T.mailbox,$=T.category,ce=T.assignee,ne=v.has(T.id),Ae=!T.is_read;return d.jsxs("div",{onClick:()=>e(`/inbox/${T.id}`),className:`flex items-center gap-3 px-5 py-4 cursor-pointer transition group ${ne?"bg-cyan-50/60":"bg-white hover:bg-slate-50"}`,children:[d.jsx("button",{onClick:ge=>U(T.id,ge),className:"p-0.5 rounded text-slate-400 hover:text-cyan-600 transition shrink-0",children:ne?d.jsx(O1,{className:"w-4 h-4 text-cyan-600"}):d.jsx(N1,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})}),ce?d.jsx("div",{className:"w-2.5 h-2.5 rounded shrink-0",style:{backgroundColor:ce.avatar_color||"#0891B2"},title:`Assign  ${ce.full_name}`}):d.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:D.color}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:`text-sm text-slate-900 truncate group-hover:text-cyan-700 transition ${Ae?"font-bold":"font-semibold"}`,children:T.subject}),l.has(T.id)&&d.jsx(no,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),T.priority==="urgent"&&d.jsx("span",{className:"shrink-0 w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[d.jsx("span",{className:"font-medium text-slate-700",children:T.contact_name||T.contact_email}),Z&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-slate-300",children:"|"}),d.jsx("span",{children:Z.name})]}),ce&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-slate-300",children:"|"}),d.jsxs("span",{children:["Assign : ",ce.full_name]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[$&&d.jsx(lr,{label:$.name,color:$.color}),T.priority&&d.jsx(lr,{label:V.label,color:V.color}),T.status&&d.jsx(lr,{label:D.label,color:D.color}),T.due_date&&(()=>{const ge=new Date(T.due_date),st=yr(ge,"dd/MM");let vt="#64748B",fr=st;return o2(ge)&&!qd(ge)?(vt="#EF4444",fr=`En retard (${st})`):qd(ge)?(vt="#F59E0B",fr="Aujourd'hui"):Oz(ge)&&(vt="#10B981",fr=`chance ${st}`),d.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${vt}15`,color:vt},children:[d.jsx(Bd,{className:"w-3 h-3"}),fr]})})(),d.jsx("span",{className:"text-xs text-slate-400 w-20 text-right",children:_y(new Date(T.last_message_at),{addSuffix:!0})})]})]},T.id)})})}),W.length>0&&d.jsx(Wee,{currentPage:te,totalItems:W.length,pageSize:_,onPageChange:le,onPageSizeChange:we}),S&&d.jsx(qee,{onClose:()=>k(!1),onSent:()=>{k(!1),R()}})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:UI,setPrototypeOf:Nk,isFrozen:Gee,getPrototypeOf:Yee,getOwnPropertyDescriptor:Xee}=Object;let{freeze:Yt,seal:Fr,create:o0}=Object,{apply:l0,construct:u0}=typeof Reflect<"u"&&Reflect;Yt||(Yt=function(t){return t});Fr||(Fr=function(t){return t});l0||(l0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return t.apply(r,i)});u0||(u0=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const Bc=Xt(Array.prototype.forEach),Jee=Xt(Array.prototype.lastIndexOf),Ck=Xt(Array.prototype.pop),tl=Xt(Array.prototype.push),Qee=Xt(Array.prototype.splice),hd=Xt(String.prototype.toLowerCase),Hp=Xt(String.prototype.toString),qp=Xt(String.prototype.match),rl=Xt(String.prototype.replace),Zee=Xt(String.prototype.indexOf),ete=Xt(String.prototype.trim),Vr=Xt(Object.prototype.hasOwnProperty),Ut=Xt(RegExp.prototype.test),nl=tte(TypeError);function Xt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return l0(e,t,n)}}function tte(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u0(e,r)}}function oe(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hd;Nk&&Nk(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&(Gee(t)||(t[n]=a),i=a)}e[i]=!0}return e}function rte(e){for(let t=0;t<e.length;t++)Vr(e,t)||(e[t]=null);return e}function vn(e){const t=o0(null);for(const[r,n]of UI(e))Vr(e,r)&&(Array.isArray(n)?t[r]=rte(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=vn(n):t[r]=n);return t}function il(e,t){for(;e!==null;){const n=Xee(e,t);if(n){if(n.get)return Xt(n.get);if(typeof n.value=="function")return Xt(n.value)}e=Yee(e)}function r(){return null}return r}const Ak=Yt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kp=Yt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vp=Yt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nte=Yt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gp=Yt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ite=Yt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Tk=Yt(["#text"]),Ik=Yt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Yp=Yt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mk=Yt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Uc=Yt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ate=Fr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ste=Fr(/<%[\w\W]*|[\w\W]*%>/gm),ote=Fr(/\$\{[\w\W]*/gm),lte=Fr(/^data-[\-\w.\u00B7-\uFFFF]+$/),ute=Fr(/^aria-[\-\w]+$/),WI=Fr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cte=Fr(/^(?:\w+script|data):/i),dte=Fr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),HI=Fr(/^html$/i),fte=Fr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Dk=Object.freeze({__proto__:null,ARIA_ATTR:ute,ATTR_WHITESPACE:dte,CUSTOM_ELEMENT:fte,DATA_ATTR:lte,DOCTYPE_NAME:HI,ERB_EXPR:ste,IS_ALLOWED_URI:WI,IS_SCRIPT_OR_DATA:cte,MUSTACHE_EXPR:ate,TMPLIT_EXPR:ote});const al={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},hte=function(){return typeof window>"u"?null:window},mte=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Rk=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function qI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hte();const t=re=>qI(re);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==al.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=e,v=l.prototype,g=il(v,"cloneNode"),x=il(v,"remove"),b=il(v,"nextSibling"),w=il(v,"childNodes"),y=il(v,"parentNode");if(typeof s=="function"){const re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}let _,j="";const{implementation:S,createNodeIterator:k,createDocumentFragment:E,getElementsByTagName:O}=r,{importNode:C}=n;let M=Rk();t.isSupported=typeof UI=="function"&&typeof y=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:A,TMPLIT_EXPR:R,DATA_ATTR:W,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:U}=Dk;let{IS_ALLOWED_URI:H}=Dk,J=null;const se=oe({},[...Ak,...Kp,...Vp,...Gp,...Tk]);let le=null;const we=oe({},[...Ik,...Yp,...Mk,...Uc]);let ue=Object.seal(o0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,_e=null;const T=Object.seal(o0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let D=!0,V=!0,Z=!1,$=!0,ce=!1,ne=!0,Ae=!1,ge=!1,st=!1,vt=!1,fr=!1,ns=!1,Ib=!0,Mb=!1;const VI="user-content-";let Pm=!0,Mo=!1,is={},cn=null;const Om=oe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Db=null;const Rb=oe({},["audio","video","img","source","image","track"]);let Nm=null;const $b=oe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xu="http://www.w3.org/1998/Math/MathML",Ju="http://www.w3.org/2000/svg",Mn="http://www.w3.org/1999/xhtml";let as=Mn,Cm=!1,Am=null;const GI=oe({},[Xu,Ju,Mn],Hp);let Qu=oe({},["mi","mo","mn","ms","mtext"]),Zu=oe({},["annotation-xml"]);const YI=oe({},["title","style","font","a","script"]);let Do=null;const XI=["application/xhtml+xml","text/html"],JI="text/html";let ot=null,ss=null;const QI=r.createElement("form"),Lb=function(N){return N instanceof RegExp||N instanceof Function},Tm=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ss&&ss===N)){if((!N||typeof N!="object")&&(N={}),N=vn(N),Do=XI.indexOf(N.PARSER_MEDIA_TYPE)===-1?JI:N.PARSER_MEDIA_TYPE,ot=Do==="application/xhtml+xml"?Hp:hd,J=Vr(N,"ALLOWED_TAGS")?oe({},N.ALLOWED_TAGS,ot):se,le=Vr(N,"ALLOWED_ATTR")?oe({},N.ALLOWED_ATTR,ot):we,Am=Vr(N,"ALLOWED_NAMESPACES")?oe({},N.ALLOWED_NAMESPACES,Hp):GI,Nm=Vr(N,"ADD_URI_SAFE_ATTR")?oe(vn($b),N.ADD_URI_SAFE_ATTR,ot):$b,Db=Vr(N,"ADD_DATA_URI_TAGS")?oe(vn(Rb),N.ADD_DATA_URI_TAGS,ot):Rb,cn=Vr(N,"FORBID_CONTENTS")?oe({},N.FORBID_CONTENTS,ot):Om,Ce=Vr(N,"FORBID_TAGS")?oe({},N.FORBID_TAGS,ot):vn({}),_e=Vr(N,"FORBID_ATTR")?oe({},N.FORBID_ATTR,ot):vn({}),is=Vr(N,"USE_PROFILES")?N.USE_PROFILES:!1,D=N.ALLOW_ARIA_ATTR!==!1,V=N.ALLOW_DATA_ATTR!==!1,Z=N.ALLOW_UNKNOWN_PROTOCOLS||!1,$=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ce=N.SAFE_FOR_TEMPLATES||!1,ne=N.SAFE_FOR_XML!==!1,Ae=N.WHOLE_DOCUMENT||!1,vt=N.RETURN_DOM||!1,fr=N.RETURN_DOM_FRAGMENT||!1,ns=N.RETURN_TRUSTED_TYPE||!1,st=N.FORCE_BODY||!1,Ib=N.SANITIZE_DOM!==!1,Mb=N.SANITIZE_NAMED_PROPS||!1,Pm=N.KEEP_CONTENT!==!1,Mo=N.IN_PLACE||!1,H=N.ALLOWED_URI_REGEXP||WI,as=N.NAMESPACE||Mn,Qu=N.MATHML_TEXT_INTEGRATION_POINTS||Qu,Zu=N.HTML_INTEGRATION_POINTS||Zu,ue=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Lb(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Lb(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&(V=!1),fr&&(vt=!0),is&&(J=oe({},Tk),le=[],is.html===!0&&(oe(J,Ak),oe(le,Ik)),is.svg===!0&&(oe(J,Kp),oe(le,Yp),oe(le,Uc)),is.svgFilters===!0&&(oe(J,Vp),oe(le,Yp),oe(le,Uc)),is.mathMl===!0&&(oe(J,Gp),oe(le,Mk),oe(le,Uc))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?T.tagCheck=N.ADD_TAGS:(J===se&&(J=vn(J)),oe(J,N.ADD_TAGS,ot))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?T.attributeCheck=N.ADD_ATTR:(le===we&&(le=vn(le)),oe(le,N.ADD_ATTR,ot))),N.ADD_URI_SAFE_ATTR&&oe(Nm,N.ADD_URI_SAFE_ATTR,ot),N.FORBID_CONTENTS&&(cn===Om&&(cn=vn(cn)),oe(cn,N.FORBID_CONTENTS,ot)),N.ADD_FORBID_CONTENTS&&(cn===Om&&(cn=vn(cn)),oe(cn,N.ADD_FORBID_CONTENTS,ot)),Pm&&(J["#text"]=!0),Ae&&oe(J,["html","head","body"]),J.table&&(oe(J,["tbody"]),delete Ce.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw nl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw nl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=N.TRUSTED_TYPES_POLICY,j=_.createHTML("")}else _===void 0&&(_=mte(p,i)),_!==null&&typeof j=="string"&&(j=_.createHTML(""));Yt&&Yt(N),ss=N}},zb=oe({},[...Kp,...Vp,...nte]),Fb=oe({},[...Gp,...ite]),ZI=function(N){let B=y(N);(!B||!B.tagName)&&(B={namespaceURI:as,tagName:"template"});const ee=hd(N.tagName),Re=hd(B.tagName);return Am[N.namespaceURI]?N.namespaceURI===Ju?B.namespaceURI===Mn?ee==="svg":B.namespaceURI===Xu?ee==="svg"&&(Re==="annotation-xml"||Qu[Re]):!!zb[ee]:N.namespaceURI===Xu?B.namespaceURI===Mn?ee==="math":B.namespaceURI===Ju?ee==="math"&&Zu[Re]:!!Fb[ee]:N.namespaceURI===Mn?B.namespaceURI===Ju&&!Zu[Re]||B.namespaceURI===Xu&&!Qu[Re]?!1:!Fb[ee]&&(YI[ee]||!zb[ee]):!!(Do==="application/xhtml+xml"&&Am[N.namespaceURI]):!1},dn=function(N){tl(t.removed,{element:N});try{y(N).removeChild(N)}catch{x(N)}},sa=function(N,B){try{tl(t.removed,{attribute:B.getAttributeNode(N),from:B})}catch{tl(t.removed,{attribute:null,from:B})}if(B.removeAttribute(N),N==="is")if(vt||fr)try{dn(B)}catch{}else try{B.setAttribute(N,"")}catch{}},Bb=function(N){let B=null,ee=null;if(st)N="<remove></remove>"+N;else{const tt=qp(N,/^[\r\n\t ]+/);ee=tt&&tt[0]}Do==="application/xhtml+xml"&&as===Mn&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Re=_?_.createHTML(N):N;if(as===Mn)try{B=new h().parseFromString(Re,Do)}catch{}if(!B||!B.documentElement){B=S.createDocument(as,"template",null);try{B.documentElement.innerHTML=Cm?j:Re}catch{}}const At=B.body||B.documentElement;return N&&ee&&At.insertBefore(r.createTextNode(ee),At.childNodes[0]||null),as===Mn?O.call(B,Ae?"html":"body")[0]:Ae?B.documentElement:At},Ub=function(N){return k.call(N.ownerDocument||N,N,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Im=function(N){return N instanceof f&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof c)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},Wb=function(N){return typeof o=="function"&&N instanceof o};function Dn(re,N,B){Bc(re,ee=>{ee.call(t,N,B,ss)})}const Hb=function(N){let B=null;if(Dn(M.beforeSanitizeElements,N,null),Im(N))return dn(N),!0;const ee=ot(N.nodeName);if(Dn(M.uponSanitizeElement,N,{tagName:ee,allowedTags:J}),ne&&N.hasChildNodes()&&!Wb(N.firstElementChild)&&Ut(/<[/\w!]/g,N.innerHTML)&&Ut(/<[/\w!]/g,N.textContent)||N.nodeType===al.progressingInstruction||ne&&N.nodeType===al.comment&&Ut(/<[/\w]/g,N.data))return dn(N),!0;if(!(T.tagCheck instanceof Function&&T.tagCheck(ee))&&(!J[ee]||Ce[ee])){if(!Ce[ee]&&Kb(ee)&&(ue.tagNameCheck instanceof RegExp&&Ut(ue.tagNameCheck,ee)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(ee)))return!1;if(Pm&&!cn[ee]){const Re=y(N)||N.parentNode,At=w(N)||N.childNodes;if(At&&Re){const tt=At.length;for(let Zt=tt-1;Zt>=0;--Zt){const Rn=g(At[Zt],!0);Rn.__removalCount=(N.__removalCount||0)+1,Re.insertBefore(Rn,b(N))}}}return dn(N),!0}return N instanceof l&&!ZI(N)||(ee==="noscript"||ee==="noembed"||ee==="noframes")&&Ut(/<\/no(script|embed|frames)/i,N.innerHTML)?(dn(N),!0):(ce&&N.nodeType===al.text&&(B=N.textContent,Bc([P,A,R],Re=>{B=rl(B,Re," ")}),N.textContent!==B&&(tl(t.removed,{element:N.cloneNode()}),N.textContent=B)),Dn(M.afterSanitizeElements,N,null),!1)},qb=function(N,B,ee){if(Ib&&(B==="id"||B==="name")&&(ee in r||ee in QI))return!1;if(!(V&&!_e[B]&&Ut(W,B))){if(!(D&&Ut(G,B))){if(!(T.attributeCheck instanceof Function&&T.attributeCheck(B,N))){if(!le[B]||_e[B]){if(!(Kb(N)&&(ue.tagNameCheck instanceof RegExp&&Ut(ue.tagNameCheck,N)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(N))&&(ue.attributeNameCheck instanceof RegExp&&Ut(ue.attributeNameCheck,B)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(B,N))||B==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&Ut(ue.tagNameCheck,ee)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(ee))))return!1}else if(!Nm[B]){if(!Ut(H,rl(ee,L,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&N!=="script"&&Zee(ee,"data:")===0&&Db[N])){if(!(Z&&!Ut(te,rl(ee,L,"")))){if(ee)return!1}}}}}}}return!0},Kb=function(N){return N!=="annotation-xml"&&qp(N,U)},Vb=function(N){Dn(M.beforeSanitizeAttributes,N,null);const{attributes:B}=N;if(!B||Im(N))return;const ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Re=B.length;for(;Re--;){const At=B[Re],{name:tt,namespaceURI:Zt,value:Rn}=At,os=ot(tt),Mm=Rn;let kt=tt==="value"?Mm:ete(Mm);if(ee.attrName=os,ee.attrValue=kt,ee.keepAttr=!0,ee.forceKeepAttr=void 0,Dn(M.uponSanitizeAttribute,N,ee),kt=ee.attrValue,Mb&&(os==="id"||os==="name")&&(sa(tt,N),kt=VI+kt),ne&&Ut(/((--!?|])>)|<\/(style|title|textarea)/i,kt)){sa(tt,N);continue}if(os==="attributename"&&qp(kt,"href")){sa(tt,N);continue}if(ee.forceKeepAttr)continue;if(!ee.keepAttr){sa(tt,N);continue}if(!$&&Ut(/\/>/i,kt)){sa(tt,N);continue}ce&&Bc([P,A,R],Yb=>{kt=rl(kt,Yb," ")});const Gb=ot(N.nodeName);if(!qb(Gb,os,kt)){sa(tt,N);continue}if(_&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Zt)switch(p.getAttributeType(Gb,os)){case"TrustedHTML":{kt=_.createHTML(kt);break}case"TrustedScriptURL":{kt=_.createScriptURL(kt);break}}if(kt!==Mm)try{Zt?N.setAttributeNS(Zt,tt,kt):N.setAttribute(tt,kt),Im(N)?dn(N):Ck(t.removed)}catch{sa(tt,N)}}Dn(M.afterSanitizeAttributes,N,null)},eM=function re(N){let B=null;const ee=Ub(N);for(Dn(M.beforeSanitizeShadowDOM,N,null);B=ee.nextNode();)Dn(M.uponSanitizeShadowNode,B,null),Hb(B),Vb(B),B.content instanceof a&&re(B.content);Dn(M.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(re){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=null,ee=null,Re=null,At=null;if(Cm=!re,Cm&&(re="<!-->"),typeof re!="string"&&!Wb(re))if(typeof re.toString=="function"){if(re=re.toString(),typeof re!="string")throw nl("dirty is not a string, aborting")}else throw nl("toString is not a function");if(!t.isSupported)return re;if(ge||Tm(N),t.removed=[],typeof re=="string"&&(Mo=!1),Mo){if(re.nodeName){const Rn=ot(re.nodeName);if(!J[Rn]||Ce[Rn])throw nl("root node is forbidden and cannot be sanitized in-place")}}else if(re instanceof o)B=Bb("<!---->"),ee=B.ownerDocument.importNode(re,!0),ee.nodeType===al.element&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?B=ee:B.appendChild(ee);else{if(!vt&&!ce&&!Ae&&re.indexOf("<")===-1)return _&&ns?_.createHTML(re):re;if(B=Bb(re),!B)return vt?null:ns?j:""}B&&st&&dn(B.firstChild);const tt=Ub(Mo?re:B);for(;Re=tt.nextNode();)Hb(Re),Vb(Re),Re.content instanceof a&&eM(Re.content);if(Mo)return re;if(vt){if(fr)for(At=E.call(B.ownerDocument);B.firstChild;)At.appendChild(B.firstChild);else At=B;return(le.shadowroot||le.shadowrootmode)&&(At=C.call(n,At,!0)),At}let Zt=Ae?B.outerHTML:B.innerHTML;return Ae&&J["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&Ut(HI,B.ownerDocument.doctype.name)&&(Zt="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+Zt),ce&&Bc([P,A,R],Rn=>{Zt=rl(Zt,Rn," ")}),_&&ns?_.createHTML(Zt):Zt},t.setConfig=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tm(re),ge=!0},t.clearConfig=function(){ss=null,ge=!1},t.isValidAttribute=function(re,N,B){ss||Tm({});const ee=ot(re),Re=ot(N);return qb(ee,Re,B)},t.addHook=function(re,N){typeof N=="function"&&tl(M[re],N)},t.removeHook=function(re,N){if(N!==void 0){const B=Jee(M[re],N);return B===-1?void 0:Qee(M[re],B,1)[0]}return Ck(M[re])},t.removeHooks=function(re){M[re]=[]},t.removeAllHooks=function(){M=Rk()},t}var pte=qI();function KI(e){if(!e)return"";const t=[["",""],["",""],["",""],["",""],[" ",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],['"',""],["",""],["",""],["",""],["",""],["",""],["","'"],["","'"],["",'"'],["",'"'],['"',""],['"',""],["","..."],["",""],["",""],["",""],["",""]];let r=e;for(const[n,i]of t)r=r.replace(new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i);return r}function vte(e){if(!e)return"";let t=e;if(t=t.replace(/<!DOCTYPE[^>]*>/gi,""),t.includes("<html")&&t.includes("</html>")){const i=t.match(/<body[^>]*>([\s\S]*)<\/body>/i);if(i&&i[1])t=i[1];else{const a=t.match(/<html[^>]*>([\s\S]*)<\/html>/i);a&&a[1]&&(t=a[1])}}if(t.includes("xmlns:o=")||t.includes("xmlns:w=")||t.includes("schemas-microsoft")){const i=t.match(/<body[^>]*>([\s\S]*)<\/body>/i);i&&(t=i[1]),t=t.replace(/<\?xml[^>]*\?>/gi,""),t=t.replace(/<\/?(o|w|m|v|st1):[^>]*>/gi,""),t=t.replace(/\s*xmlns:[^=]*="[^"]*"/gi,""),t=t.replace(/\s*xml:[^=]*="[^"]*"/gi,""),t=t.replace(/<head[\s\S]*?<\/head>/gi,""),t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<meta[^>]*>/gi,""),t=t.replace(/<link[^>]*>/gi,""),t=t.replace(/<!--[\s\S]*?-->/g,""),t=t.replace(/\sclass="[^"]*Mso[^"]*"/gi,""),t=t.replace(/\sstyle="[^"]*"/gi,""),t=t.replace(/<html[^>]*>/gi,"<html>"),t=t.replace(/<\/html>/gi,"</html>"),t=t.replace(/<p[^>]*>\s*(&nbsp;|\s)*<\/p>/gi,""),t=t.replace(/=0A=/g,""),t=t.replace(/=\r?\n/g,""),t=t.replace(/<span[^>]*>\s*<\/span>/gi,"");const a=t.match(/<div[^>]*class="[^"]*WordSection[^"]*"[^>]*>([\s\S]*?)<\/div>/i)||t.match(/<div[^>]*>([\s\S]*?)<\/div>/i)||t.match(/<p[^>]*>([\s\S]*?)<\/p>/i);a&&(t=a[1])}t=t.replace(/<head[\s\S]*?<\/head>/gi,""),t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<!--[\s\S]*?-->/g,""),t=t.replace(/<\/?html[^>]*>/gi,""),t=t.replace(/<\/?body[^>]*>/gi,"");let r=0;for(;t.length!==r;)r=t.length,t=t.replace(/<(\w+)[^>]*>\s*<\/\1>/gi,"");t=KI(t);const n=pte.sanitize(t,{ALLOWED_TAGS:["p","br","strong","em","u","b","i","s","strike","a","ul","ol","li","h1","h2","h3","h4","h5","h6","blockquote","pre","code","div","span","img","table","thead","tbody","tr","th","td","hr"],ALLOWED_ATTR:["href","target","rel","src","alt","title"],ALLOW_DATA_ATTR:!1});return!n.trim()||n.length<10?"<p>Contenu non disponible</p>":n}function gte(e){if(!e)return"";let t=e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"");t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<br\s*\/?>/gi,`
`),t=t.replace(/<\/p>/gi,`

`),t=t.replace(/<[^>]+>/g,"");const r=document.createElement("textarea");return r.innerHTML=t,t=r.value,t=KI(t),t=t.replace(/\n\s*\n\s*\n/g,`

`),t=t.trim(),t}function yte({emails:e,notes:t=[]}){const[r,n]=m.useState({}),i=m.useMemo(()=>[...e.map(o=>({type:"email",data:o,timestamp:o.received_at})),...t.map(o=>({type:"note",data:o,timestamp:o.created_at}))].sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),[e,t]);function a(s){n(o=>{const l=o[s]||"html",u=l==="html"?"text":l==="text"?"raw":"html";return{...o,[s]:u}})}return d.jsx("div",{className:"space-y-4",children:i.map((s,o)=>{var h,p;if(s.type==="note"){const v=s.data,g=v.author;return d.jsxs("div",{className:"bg-amber-50 rounded-xl border border-amber-200 overflow-hidden",children:[d.jsxs("div",{className:"flex items-start gap-3 px-5 py-3.5 border-b border-amber-100 bg-amber-100/50",children:[d.jsx("div",{className:"mt-0.5 w-7 h-7 rounded-lg flex items-center justify-center shrink-0 bg-amber-200",children:d.jsx(XO,{className:"w-3.5 h-3.5 text-amber-700"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-amber-900",children:(g==null?void 0:g.full_name)||"Utilisateur"}),d.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-amber-200 text-amber-700",children:"Note interne"})]}),d.jsx("p",{className:"text-xs text-amber-600 mt-0.5",children:"Visible uniquement par l'quipe"})]}),d.jsx("span",{className:"text-xs text-amber-500 shrink-0",children:yr(new Date(v.created_at),"MMM d, yyyy HH:mm")})]}),d.jsx("div",{className:"px-5 py-4",children:d.jsx("pre",{className:"text-sm text-amber-900 whitespace-pre-wrap font-sans leading-relaxed",children:v.content})})]},`note-${v.id}`)}const l=s.data,u=l.direction==="inbound",c=u?I4:D4,f=r[l.id]||"html";return d.jsxs("div",{className:`bg-white rounded-xl border ${u?"border-slate-200":"border-cyan-200 bg-cyan-50/30"} overflow-hidden`,children:[d.jsxs("div",{className:"flex items-start gap-3 px-5 py-3.5 border-b border-slate-100",children:[d.jsx("div",{className:`mt-0.5 w-7 h-7 rounded-lg flex items-center justify-center shrink-0 ${u?"bg-slate-100":"bg-cyan-100"}`,children:d.jsx(c,{className:`w-3.5 h-3.5 ${u?"text-slate-500":"text-cyan-600"}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-slate-900",children:l.from_name||l.from_address}),d.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${u?"bg-slate-100 text-slate-500":"bg-cyan-100 text-cyan-600"}`,children:u?"Reu":"Envoy"})]}),d.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["To: ",(h=l.to_addresses)==null?void 0:h.join(", "),((p=l.cc_addresses)==null?void 0:p.length)>0&&` | CC: ${l.cc_addresses.join(", ")}`]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs text-slate-400 shrink-0",children:yr(new Date(l.received_at),"MMM d, yyyy HH:mm")}),l.body_html&&d.jsx("button",{onClick:()=>a(l.id),className:"flex items-center gap-1 px-2 py-1 text-xs text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded transition",title:f==="html"?"Voir le texte brut":f==="text"?"Voir le HTML brut":"Voir le HTML nettoy",children:f==="html"?d.jsxs(d.Fragment,{children:[d.jsx(Pn,{className:"w-3 h-3"}),d.jsx("span",{children:"Texte"})]}):f==="text"?d.jsxs(d.Fragment,{children:[d.jsx(U4,{className:"w-3 h-3"}),d.jsx("span",{children:"HTML"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Pn,{className:"w-3 h-3"}),d.jsx("span",{children:"Propre"})]})})]})]}),d.jsx("div",{className:"px-5 py-4",children:f==="raw"&&l.body_html?d.jsx("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap font-mono bg-slate-50 p-3 rounded border border-slate-200 overflow-x-auto",children:l.body_html}):f==="text"&&l.body_html?d.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap font-sans leading-relaxed",children:gte(l.body_html)||l.body_text||"Aucun contenu"}):l.body_html?d.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 prose-headings:text-slate-900 prose-a:text-cyan-600 prose-p:my-2",dangerouslySetInnerHTML:{__html:vte(l.body_html)}}):d.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap font-sans leading-relaxed",children:l.body_text||"Aucun contenu"})}),l.attachments&&l.attachments.length>0&&d.jsxs("div",{className:"px-5 py-3 border-t border-slate-100 bg-slate-50/50",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 mb-2",children:[d.jsx(no,{className:"w-3 h-3"}),d.jsxs("span",{children:[l.attachments.length," pice",l.attachments.length>1?"s":""," jointe",l.attachments.length>1?"s":""]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:l.attachments.map(v=>d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs hover:border-cyan-300 transition cursor-pointer",children:[d.jsx(no,{className:"w-3 h-3 text-slate-400"}),d.jsx("span",{className:"text-slate-700 font-medium",children:v.filename}),d.jsx("span",{className:"text-slate-400",children:Tb(v.size_bytes)})]},v.id))})]})]},`email-${l.id}`)})})}const xte={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},bte=(e,t,r)=>{let n;const i=xte[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},wte={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},_te={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},jte={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ste={date:qs({formats:wte,defaultWidth:"full"}),time:qs({formats:_te,defaultWidth:"full"}),dateTime:qs({formats:jte,defaultWidth:"full"})},kte={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},Ete=(e,t,r,n)=>kte[e],Pte={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},Ote={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},Nte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},Cte={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Ate={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},Tte=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},Ite=["MMM","MMMM"],Mte={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&Ite.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:Tte,era:bn({values:Pte,defaultWidth:"wide"}),quarter:bn({values:Ote,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bn({values:Nte,defaultWidth:"wide"}),day:bn({values:Cte,defaultWidth:"wide"}),dayPeriod:bn({values:Ate,defaultWidth:"wide"})},Dte=/^(\d+)(ime|re|me|er|e)?/i,Rte=/\d+/i,$te={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},Lte={any:[/^av/i,/^ap/i]},zte={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},Fte={any:[/1/i,/2/i,/3/i,/4/i]},Bte={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},Ute={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wte={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Hte={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},qte={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},Kte={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Vte={ordinalNumber:n2({matchPattern:Dte,parsePattern:Rte,valueCallback:e=>parseInt(e)}),era:wn({matchPatterns:$te,defaultMatchWidth:"wide",parsePatterns:Lte,defaultParseWidth:"any"}),quarter:wn({matchPatterns:zte,defaultMatchWidth:"wide",parsePatterns:Fte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wn({matchPatterns:Bte,defaultMatchWidth:"wide",parsePatterns:Ute,defaultParseWidth:"any"}),day:wn({matchPatterns:Wte,defaultMatchWidth:"wide",parsePatterns:Hte,defaultParseWidth:"any"}),dayPeriod:wn({matchPatterns:qte,defaultMatchWidth:"any",parsePatterns:Kte,defaultParseWidth:"any"})},Gte={code:"fr",formatDistance:bte,formatLong:Ste,formatRelative:Ete,localize:Mte,match:Vte,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Yte({dueDate:e,onUpdate:t}){const[r,n]=m.useState(!1),[i,a]=m.useState(e?yr(new Date(e),"yyyy-MM-dd"):"");function s(f){if(!f)return null;const h=new Date(f),p=new Date;if(o2(h)&&!qd(h))return{status:"overdue",label:"En retard",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",icon:rg};if(qd(h))return{status:"today",label:"Aujourd'hui",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:Pl};if(Nz(h))return{status:"tomorrow",label:"Demain",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:Pl};const v=_3(h,p);return v<=3?{status:"soon",label:`Dans ${v} jour${v>1?"s":""}`,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:Pl}:{status:"ok",label:`Dans ${v} jours`,color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",icon:ng}}function o(){t(i?new Date(i).toISOString():null),n(!1)}function l(){a(""),t(null),n(!1)}const u=s(e);if(r)return d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Date d'chance"}),d.jsx("input",{type:"date",value:i,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:o,className:"flex-1 px-3 py-1.5 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition text-xs font-medium",children:"Enregistrer"}),e&&d.jsx("button",{onClick:l,className:"px-3 py-1.5 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition text-xs font-medium",children:"Supprimer"}),d.jsx("button",{onClick:()=>n(!1),className:"px-3 py-1.5 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition text-xs font-medium",children:"Annuler"})]})]});if(!e)return d.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center gap-2 px-3 py-2 border border-dashed border-slate-300 text-slate-600 rounded-lg hover:border-cyan-500 hover:text-cyan-600 hover:bg-cyan-50 transition text-sm",children:[d.jsx(Bd,{className:"w-4 h-4"}),"Dfinir une chance"]});const c=(u==null?void 0:u.icon)||Bd;return d.jsxs("button",{onClick:()=>n(!0),className:`w-full flex items-center gap-2 px-3 py-2 border rounded-lg transition text-sm ${u==null?void 0:u.bgColor} ${u==null?void 0:u.borderColor} ${u==null?void 0:u.color}`,children:[d.jsx(c,{className:"w-4 h-4"}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("div",{className:"font-medium",children:u==null?void 0:u.label}),d.jsx("div",{className:"text-xs opacity-75",children:yr(new Date(e),"dd MMMM yyyy",{locale:Gte})})]})]})}function Xte({ticket:e,agents:t,categories:r,onUpdate:n}){const[i,a]=m.useState(!1),[s,o]=m.useState([]),l=Cb(e.status),u=Ab(e.priority);m.useEffect(()=>{c()},[e.id]);async function c(){const{data:h}=await z.from("emails").select("id").eq("ticket_id",e.id);if(!h||h.length===0){o([]);return}const p=h.map(g=>g.id),{data:v}=await z.from("attachments").select("*").in("email_id",p).order("created_at",{ascending:!1});v&&o(v)}async function f(h,p){a(!0),await z.from("tickets").update({[h]:p,updated_at:new Date().toISOString()}).eq("id",e.id),n(),a(!1)}return d.jsxs("div",{className:`space-y-4 ${i?"opacity-70 pointer-events-none":""}`,children:[s.length>0&&d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(no,{className:"w-4 h-4 text-slate-400"}),d.jsxs("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:["Pices jointes (",s.length,")"]})]}),d.jsx("div",{className:"space-y-2",children:s.map(h=>d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg hover:border-cyan-300 transition group",children:[d.jsx(no,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",children:h.filename}),d.jsx("p",{className:"text-xs text-slate-500",children:Tb(h.size_bytes)})]}),d.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-cyan-100 text-cyan-600 transition",title:"Tlcharger",children:d.jsx(gh,{className:"w-3.5 h-3.5"})})]},h.id))})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:[d.jsxs("div",{className:"px-4 py-3",children:[d.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Statut"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:e.status??"",onChange:h=>f("status",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Aucun statut"}),du.map(h=>d.jsx("option",{value:h.value,children:h.label},h.value))]}),d.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),e.status&&d.jsx("div",{className:"mt-1.5",children:d.jsx(lr,{label:l.label,color:l.color})})]}),d.jsxs("div",{className:"px-4 py-3",children:[d.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Priorit"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:e.priority??"",onChange:h=>f("priority",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Aucune priorit"}),fu.map(h=>d.jsx("option",{value:h.value,children:h.label},h.value))]}),d.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),e.priority&&d.jsx("div",{className:"mt-1.5",children:d.jsx(lr,{label:u.label,color:u.color})})]}),d.jsxs("div",{className:"px-4 py-3",children:[d.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Assign "}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:e.assignee_id??"",onChange:h=>f("assignee_id",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Non assign"}),t.map(h=>d.jsx("option",{value:h.id,children:h.full_name||h.email},h.id))]}),d.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"px-4 py-3",children:[d.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Catgorie"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:e.category_id??"",onChange:h=>f("category_id",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Aucune catgorie"}),r.map(h=>d.jsx("option",{value:h.id,children:h.name},h.id))]}),d.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"px-4 py-3",children:[d.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"chance"}),d.jsx(Yte,{dueDate:e.due_date,onUpdate:h=>f("due_date",h)})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 space-y-3",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Dtails"}),d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(u3,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-slate-500",children:"Contact :"}),d.jsx("span",{className:"text-slate-900 font-medium",children:e.contact_name||e.contact_email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(JO,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-slate-500",children:"Email :"}),d.jsx("span",{className:"text-slate-700",children:e.contact_email})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(qO,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-slate-500",children:"Cr le :"}),d.jsx("span",{className:"text-slate-700",children:yr(new Date(e.created_at),"MMM d, yyyy HH:mm")})]}),e.sla_deadline&&d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(FO,{className:"w-4 h-4 text-amber-500"}),d.jsx("span",{className:"text-slate-500",children:"SLA :"}),d.jsx("span",{className:"text-amber-600 font-medium",children:yr(new Date(e.sla_deadline),"MMM d, HH:mm")})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(Pl,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-slate-500",children:"Mis  jour :"}),d.jsx("span",{className:"text-slate-700",children:yr(new Date(e.updated_at),"MMM d, yyyy HH:mm")})]})]})]})]})}function Jte({classification:e,loading:t,onRequestClassify:r}){if(!e&&!t)return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(nd,{className:"w-4 h-4 text-cyan-600"}),d.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Analyse IA"})]}),d.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"Aucune analyse IA disponible pour ce ticket."}),r&&d.jsx("button",{onClick:r,className:"w-full px-3 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:"Analyser avec l'IA"})]});if(t)return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(nd,{className:"w-4 h-4 text-cyan-600 animate-pulse"}),d.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Analyse IA"})]}),d.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(o=>d.jsx("div",{className:"h-4 bg-slate-100 rounded animate-pulse",style:{width:`${70+o*5}%`}},o))})]});if(!e)return null;const n=e.entities,i=Pk[e.sentiment]??Pk.neutral,a={positive:"Positif",neutral:"Neutre",negative:"Negatif",mixed:"Mixte"},s={low:"Faible",medium:"Moyen",high:"Haute",urgent:"Urgent"};return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:[d.jsxs("div",{className:"px-5 py-3.5 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(nd,{className:"w-4 h-4 text-cyan-600"}),d.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Analyse IA"})]}),d.jsxs("span",{className:"text-xs text-slate-400",children:[Math.round(e.confidence*100),"% confiance"]})]}),d.jsxs("div",{className:"px-5 py-3 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(i3,{className:"w-3.5 h-3.5 text-slate-400"}),d.jsx("span",{className:"text-slate-500",children:"Categorie :"}),d.jsx("span",{className:"text-slate-900 font-medium",children:e.category}),e.subcategory&&d.jsxs("span",{className:"text-slate-400",children:["/ ",e.subcategory]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(c3,{className:"w-3.5 h-3.5 text-slate-400"}),d.jsx("span",{className:"text-slate-500",children:"Intention :"}),d.jsx("span",{className:"text-slate-900",children:e.intent})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"text-slate-500 ml-5",children:"Sentiment :"}),d.jsx(lr,{label:a[e.sentiment]||e.sentiment,color:i})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"text-slate-500 ml-5",children:"Priorite :"}),d.jsx(lr,{label:s[e.priority]||e.priority,color:e.priority==="urgent"?"#EF4444":"#3B82F6"})]})]}),n&&Object.keys(n).length>0&&d.jsxs("div",{className:"px-5 py-3",children:[d.jsx("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"Entites detectees"}),d.jsxs("div",{className:"space-y-1.5",children:[n.name&&d.jsx(sl,{icon:QO,label:"Nom",value:String(n.name)}),n.email&&d.jsx(sl,{icon:Wi,label:"Email",value:String(n.email)}),n.phone&&d.jsx(sl,{icon:t3,label:"Telephone",value:String(n.phone)}),n.address&&d.jsx(sl,{icon:Q4,label:"Adresse",value:String(n.address)}),n.property&&d.jsx(sl,{icon:L4,label:"Bien",value:String(n.property)})]})]}),e.recommended_actions.length>0&&d.jsxs("div",{className:"px-5 py-3",children:[d.jsx("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"Actions recommandees"}),d.jsx("ul",{className:"space-y-1",children:e.recommended_actions.map((o,l)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx("span",{className:"w-4 h-4 rounded-full bg-cyan-100 text-cyan-600 flex items-center justify-center text-xs font-medium shrink-0 mt-0.5",children:l+1}),d.jsx("span",{className:"text-slate-700",children:o})]},l))})]})]})}function sl({icon:e,label:t,value:r}){return d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(e,{className:"w-3.5 h-3.5 text-slate-400"}),d.jsxs("span",{className:"text-slate-500 text-xs",children:[t," :"]}),d.jsx("span",{className:"text-slate-800",children:r})]})}function Qte(e){var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(t||"")?G4:["zip","rar","7z","tar","gz"].includes(t||"")?W4:["pdf","doc","docx","txt","odt"].includes(t||"")?Pn:H4}function Zte({attachments:e}){if(e.length===0)return null;async function t(r){try{if(!r.storage_path){console.error("Aucun chemin de stockage pour cette pice jointe");return}const{data:n,error:i}=await z.storage.from("attachments").download(r.storage_path);if(i)throw i;const a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=r.filename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}catch(n){console.error("Erreur lors du tlchargement:",n),alert("Impossible de tlcharger la pice jointe")}}return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[d.jsx("div",{className:"px-4 py-3 border-b border-slate-200 bg-slate-50/50",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(no,{className:"w-4 h-4 text-slate-400"}),d.jsxs("h3",{className:"text-sm font-semibold text-slate-900",children:["Pices jointes (",e.length,")"]})]})}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"space-y-2",children:e.map(r=>{var i;const n=Qte(r.filename);return d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-lg border border-slate-200 hover:border-slate-300 transition group",children:[d.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center",children:d.jsx(n,{className:"w-4 h-4 text-slate-400"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:r.filename}),d.jsxs("p",{className:"text-xs text-slate-500",children:[Tb(r.size_bytes),r.content_type&&d.jsx("span",{className:"ml-2 text-slate-400",children:(i=r.content_type.split("/")[1])==null?void 0:i.toUpperCase()})]})]}),d.jsx("button",{onClick:()=>t(r),className:"shrink-0 p-2 text-slate-400 hover:text-cyan-600 hover:bg-white rounded-lg transition opacity-0 group-hover:opacity-100",title:"Tlcharger",children:d.jsx(gh,{className:"w-4 h-4"})})]},r.id)})})})]})}function ere({ticketId:e,notes:t,onNoteAdded:r}){const[n,i]=m.useState(""),[a,s]=m.useState(!1);async function o(l){l.preventDefault(),n.trim()&&(s(!0),await z.from("internal_notes").insert({ticket_id:e,content:n.trim()}),i(""),s(!1),r())}return d.jsxs("div",{className:"bg-amber-50/50 rounded-xl border border-amber-200/60",children:[d.jsxs("div",{className:"flex items-center gap-2 px-5 py-3 border-b border-amber-200/60",children:[d.jsx(XO,{className:"w-4 h-4 text-amber-600"}),d.jsx("h4",{className:"text-xs font-semibold text-amber-900 uppercase tracking-wider",children:"Notes Internes"}),d.jsx("span",{className:"text-xs text-amber-600",children:"(equipe uniquement)"})]}),t.length>0&&d.jsx("div",{className:"divide-y divide-amber-200/40",children:t.map(l=>{const u=l.author;return d.jsxs("div",{className:"px-5 py-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-xs font-medium text-amber-800",children:(u==null?void 0:u.full_name)??"Admin"}),d.jsx("span",{className:"text-xs text-amber-500",children:yr(new Date(l.created_at),"dd/MM/yyyy HH:mm")})]}),d.jsx("p",{className:"text-sm text-amber-900",children:l.content})]},l.id)})}),d.jsx("form",{onSubmit:o,className:"px-5 py-3 border-t border-amber-200/60",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:n,onChange:l=>i(l.target.value),placeholder:"Ajouter une note interne...",className:"flex-1 px-3 py-2 bg-white border border-amber-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400"}),d.jsx("button",{type:"submit",disabled:!n.trim()||a,className:"px-3 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg transition disabled:opacity-50",children:d.jsx(Su,{className:"w-4 h-4"})})]})})]})}function tre({ticket:e,emails:t,templates:r,onSent:n}){const[i,a]=m.useState(""),[s,o]=m.useState(`Re: ${e.subject}`),[l,u]=m.useState(!1),[c,f]=m.useState(!1),[h,p]=m.useState(!1),[v,g]=m.useState([]),[x,b]=m.useState("");async function w(){if(!i.trim())return;const j=hu(i);if(j.length>0){g(j);return}u(!0),await z.from("emails").insert({ticket_id:e.id,mailbox_id:e.mailbox_id,from_address:"agent@company.com",from_name:"Support Agent",to_addresses:[e.contact_email],subject:s,body_text:i,direction:"outbound",sent_at:new Date().toISOString()}),await z.from("tickets").update({status:"replied",last_message_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e.id),a(""),u(!1),n()}async function y(){f(!0),b("");try{const j=t.map(O=>({direction:O.direction,from_name:O.from_name,body_text:O.body_text,received_at:O.received_at})),k=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-draft",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_subject:e.subject,contact_name:e.contact_name,contact_email:e.contact_email,conversation:j})}),E=await k.json();k.ok&&E.draft?a(E.draft):b(E.error||"Erreur lors de la generation")}catch{b("Impossible de contacter le service IA")}f(!1)}function _(j){const S={client_name:e.contact_name||e.contact_email,date:new Date().toLocaleDateString("fr-FR")},k=Ok(j.body,S);a(k),j.subject&&o(Ok(j.subject,S)),p(!1);const E=hu(k);E.length>0&&g(E)}return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-100",children:[d.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Repondre"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>p(!h),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 rounded-lg transition",children:[d.jsx(Pn,{className:"w-3.5 h-3.5"}),"Modeles"]}),d.jsxs("button",{onClick:y,disabled:c,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:text-cyan-700 bg-cyan-50 hover:bg-cyan-100 rounded-lg transition disabled:opacity-50",children:[c?d.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}):d.jsx(Yn,{className:"w-3.5 h-3.5"}),"Reponse IA"]})]})]}),h&&r.length>0&&d.jsxs("div",{className:"px-5 py-3 border-b border-slate-100 bg-slate-50",children:[d.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Choisir un modele :"}),d.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:r.map(j=>d.jsxs("button",{onClick:()=>_(j),className:"w-full text-left px-3 py-2 rounded-lg text-sm text-slate-700 hover:bg-white hover:shadow-sm transition",children:[d.jsx("span",{className:"font-medium",children:j.name}),j.description&&d.jsxs("span",{className:"text-slate-400 ml-2",children:["- ",j.description]})]},j.id))})]}),v.length>0&&d.jsxs("div",{className:"px-5 py-2 bg-amber-50 border-b border-amber-200 text-xs text-amber-700",children:["Variables manquantes : ",v.map(j=>`{{${j}}}`).join(", "),". Veuillez les remplir avant d'envoyer."]}),x&&d.jsx("div",{className:"px-5 py-2 bg-red-50 border-b border-red-200 text-xs text-red-700",children:x}),d.jsxs("div",{className:"px-5 py-3",children:[d.jsx("input",{type:"text",value:s,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 mb-3 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet"}),d.jsx("textarea",{value:i,onChange:j=>{a(j.target.value),g([]),b("")},rows:8,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Redigez votre reponse..."})]}),d.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-slate-100",children:[d.jsxs("p",{className:"text-xs text-slate-400",children:["A : ",e.contact_email]}),d.jsxs("button",{onClick:w,disabled:!i.trim()||l,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[l?d.jsx($t,{className:"w-4 h-4 animate-spin"}):d.jsx(Su,{className:"w-4 h-4"}),"Envoyer"]})]})]})}function rre({ticket:e,emails:t,onClose:r,onSent:n}){const[i,a]=m.useState(e.contact_email),[s,o]=m.useState(`Re: ${e.subject}`),[l,u]=m.useState(""),[c,f]=m.useState(""),[h,p]=m.useState(!1),[v,g]=m.useState(!1),[x,b]=m.useState(!1),[w,y]=m.useState(null);m.useEffect(()=>{_()},[]);async function _(){b(!0),y(null);try{const k=t.filter(M=>M.direction==="inbound").sort((M,P)=>new Date(P.received_at).getTime()-new Date(M.received_at).getTime())[0],O=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/suggest-response",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_id:e.id,ticket_subject:e.subject,ticket_body:(k==null?void 0:k.body_text)||"",contact_email:e.contact_email,contact_name:e.contact_name,category_id:e.category_id,mailbox_id:e.mailbox_id})}),C=await O.json();if(!O.ok){alert(C.error||"Erreur lors de la suggestion de rponse");return}u(C.suggested_response||""),y({reasoning:C.reasoning,key_points:C.key_points,alternative_approaches:C.alternative_approaches,confidence:C.confidence})}catch(k){alert("Erreur lors de la suggestion de rponse"),console.error(k)}finally{b(!1)}}async function j(){if(!c.trim()){alert("Veuillez entrer une ide pour gnrer le brouillon");return}g(!0);try{const k="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-draft",E=t.sort((M,P)=>new Date(M.received_at).getTime()-new Date(P.received_at).getTime()).map(M=>{var P;return{direction:M.direction,from_name:M.from_name,body_text:M.body_text||((P=M.body_html)==null?void 0:P.replace(/<[^>]*>/g,""))||"",received_at:M.received_at}}),O=await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticket_subject:e.subject,contact_name:e.contact_name,contact_email:e.contact_email,conversation:E,tone:"professional",user_instruction:c})}),C=await O.json();if(!O.ok){alert(C.error||"Erreur lors de la gnration du brouillon");return}u(C.draft||""),f("")}catch(k){alert("Erreur lors de la gnration du brouillon"),console.error(k)}finally{g(!1)}}async function S(){if(!i||!s||!l){alert("Veuillez remplir tous les champs");return}p(!0);try{const k="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/send-email",{data:{session:E}}=await z.auth.getSession();if(!E){alert("Session expire. Veuillez vous reconnecter.");return}const O=t.filter(P=>P.direction==="inbound").sort((P,A)=>new Date(A.received_at).getTime()-new Date(P.received_at).getTime())[0],C=await fetch(k,{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({mailboxId:e.mailbox_id,to:i,subject:s,body:l,ticketId:e.id,inReplyToMessageId:O==null?void 0:O.message_id})}),M=await C.json();if(!C.ok){console.error("Erreur envoi email:",M),alert(`Erreur: ${M.error||"Erreur lors de l'envoi de l'email"}`);return}console.log("Email envoy:",M),alert("Email envoy avec succs"),n(),r()}catch(k){console.error("Exception envoi email:",k),alert(`Erreur: ${k instanceof Error?k.message:"Erreur lors de l'envoi de l'email"}`)}finally{p(!1)}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Composer un email"}),d.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:d.jsx(Qa,{className:"w-5 h-5 text-slate-500"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-200 rounded-xl p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-emerald-900 mb-1",children:"Suggestion intelligente par IA"}),d.jsx("p",{className:"text-xs text-emerald-700",children:"L'IA analyse la conversation, l'historique du contact et les modeles pour suggerer une reponse"})]}),d.jsx("button",{onClick:_,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:x?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-4 h-4 animate-spin"}),"Analyse..."]}):d.jsxs(d.Fragment,{children:[d.jsx(nd,{className:"w-4 h-4"}),"Suggerer"]})})]}),w&&d.jsxs("div",{className:"mt-3 pt-3 border-t border-emerald-200 space-y-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-emerald-900 mb-1",children:"Raisonnement:"}),d.jsx("p",{className:"text-xs text-emerald-700",children:w.reasoning})]}),w.key_points&&w.key_points.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-emerald-900 mb-1",children:"Points cles:"}),d.jsx("ul",{className:"text-xs text-emerald-700 list-disc list-inside space-y-0.5",children:w.key_points.map((k,E)=>d.jsx("li",{children:k},E))})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-xs font-medium text-emerald-900",children:"Confiance:"}),d.jsx("div",{className:"flex-1 bg-emerald-200 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-emerald-600 h-full",style:{width:`${(w.confidence||0)*100}%`}})}),d.jsxs("span",{className:"text-xs text-emerald-700",children:[Math.round((w.confidence||0)*100),"%"]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Destinataire"}),d.jsx("input",{type:"email",value:i,onChange:k=>a(k.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"destinataire@exemple.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Objet"}),d.jsx("input",{type:"text",value:s,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet de l'email"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Ide pour l'IA"}),d.jsx("button",{onClick:j,disabled:v||!c.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-xs font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:v?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}),"Gnration..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Yn,{className:"w-3.5 h-3.5"}),"Gnrer le brouillon"]})})]}),d.jsx("textarea",{value:c,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",placeholder:"Dcrivez brivement l'ide du message que vous souhaitez envoyer, l'IA gnrera un brouillon complet...",rows:2}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'Exemple: "Confirmer la visite prvue demain  14h" ou "Expliquer les documents manquants"'})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Message"}),d.jsx("textarea",{value:l,onChange:k=>u(k.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 font-sans",placeholder:"Tapez votre message ici...",rows:12})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-slate-200 bg-slate-50",children:[d.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-900 transition disabled:opacity-50",children:"Annuler"}),d.jsx("button",{onClick:S,disabled:h||!i||!s||!l,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-4 h-4 animate-spin"}),"Envoi..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Su,{className:"w-4 h-4"}),"Envoyer"]})})]})]})})}function nre({ticketId:e,onAccept:t,onRegenerate:r}){const[n,i]=m.useState(null),[a,s]=m.useState(!0),[o,l]=m.useState(!1),[u,c]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{p();const y=z.channel(`drafts:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"drafts",filter:`ticket_id=eq.${e}`},()=>{p()}).subscribe();return()=>{z.removeChannel(y)}},[e]);async function p(){const{data:y}=await z.from("drafts").select("*").eq("ticket_id",e).maybeSingle();y&&i(y),s(!1)}async function v(){if(!n)return;const y=u?f:n.body;t(y),await z.from("drafts").delete().eq("id",n.id),i(null),c(!1)}async function g(){n&&(await z.from("drafts").delete().eq("id",n.id),i(null))}function x(){n&&(c(!0),h(n.body))}function b(){c(!1),h("")}async function w(){l(!0);try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/auto-generate-draft",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_id:e})}),await p()}catch(y){console.error("Failed to regenerate:",y)}finally{l(!1)}}return a?d.jsxs("div",{className:"flex items-center justify-center py-8 text-sm text-slate-500",children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin mr-2"}),"Chargement du brouillon automatique..."]}):n?d.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border-2 border-cyan-200 p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{className:"w-5 h-5 text-cyan-600"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Brouillon de rponse IA"})]}),d.jsxs("button",{onClick:w,disabled:o,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-600 hover:text-cyan-700 hover:bg-white/50 disabled:text-slate-400 disabled:cursor-not-allowed rounded-lg transition",children:[d.jsx(Hs,{className:`w-3.5 h-3.5 ${o?"animate-spin":""}`}),o?"Gnration...":"Rgnrer"]})]}),n.notes&&d.jsxs("div",{className:"mb-3 flex items-start gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[d.jsx(Pn,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-amber-900 mb-0.5",children:"Notes pour l'agent"}),d.jsx("p",{className:"text-xs text-amber-700",children:n.notes})]})]}),u?d.jsxs("div",{className:"space-y-3",children:[d.jsx("textarea",{value:f,onChange:y=>h(y.target.value),rows:10,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 bg-white"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition text-sm font-medium",children:[d.jsx(ig,{className:"w-4 h-4"}),"Valider et envoyer"]}),d.jsx("button",{onClick:b,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-white transition text-sm font-medium",children:"Annuler"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 text-sm text-slate-700",dangerouslySetInnerHTML:{__html:n.body}}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition text-sm font-medium",children:[d.jsx(ig,{className:"w-4 h-4"}),"Valider et envoyer"]}),d.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-white transition text-sm font-medium",children:[d.jsx(YO,{className:"w-4 h-4"}),"Modifier"]}),d.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition text-sm font-medium",children:[d.jsx(Qa,{className:"w-4 h-4"}),"Supprimer"]})]})]})]}):d.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border-2 border-cyan-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Yn,{className:"w-5 h-5 text-cyan-600"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Brouillon de rponse IA"})]}),d.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Un brouillon de rponse est automatiquement gnr aprs la rception d'un email. Si aucun brouillon n'apparat, vous pouvez en gnrer un manuellement."}),d.jsx("button",{onClick:w,disabled:o,className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg shadow-sm transition",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"}),"Gnration en cours..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Yn,{className:"w-4 h-4"}),"Gnrer un brouillon"]})})]})}function ire(){const{id:e}=vR(),t=Xa(),[r,n]=m.useState(null),[i,a]=m.useState([]),[s,o]=m.useState(null),[l,u]=m.useState([]),[c,f]=m.useState([]),[h,p]=m.useState([]),[v,g]=m.useState([]),[x,b]=m.useState(!0),[w,y]=m.useState(!1),[_,j]=m.useState(!1),S=m.useCallback(async()=>{if(!e)return;const[O,C,M,P,A,R,W]=await Promise.all([z.from("tickets").select("*, category:categories(*), assignee:profiles!tickets_assignee_id_fkey(*)").eq("id",e).maybeSingle(),z.from("emails").select("*, attachments(*)").eq("ticket_id",e).order("received_at",{ascending:!0}),z.from("ai_classifications").select("*").eq("ticket_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle(),z.from("internal_notes").select("*, author:profiles(full_name)").eq("ticket_id",e).order("created_at",{ascending:!0}),z.from("profiles").select("*").in("role",["admin","manager","agent"]).eq("is_active",!0),z.from("categories").select("*").order("name"),z.from("email_templates").select("*").eq("is_active",!0).order("name")]);O.data&&n(O.data),C.data&&a(C.data),M.data&&o(M.data),P.data&&u(P.data),A.data&&f(A.data),R.data&&p(R.data),W.data&&g(W.data),b(!1);const{data:{user:G}}=await z.auth.getUser();G&&O.data&&!O.data.is_read&&await z.from("tickets").update({is_read:!0,last_read_at:new Date().toISOString(),last_read_by:G.id}).eq("id",e)},[e]);m.useEffect(()=>{S()},[S]);const k=m.useMemo(()=>{const O=[];return i.forEach(C=>{C.attachments&&C.attachments.length>0&&O.push(...C.attachments)}),O},[i]);async function E(){if(!(!r||i.length===0)){y(!0);try{const O=i[i.length-1];(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/classify-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({email_id:O.id,ticket_id:r.id,subject:O.subject,body:O.body_text||"",from_address:O.from_address,from_name:O.from_name})})).ok&&await S()}catch{}y(!1)}}return x?d.jsx(Yu,{}):r?d.jsxs("div",{className:"min-h-screen",children:[d.jsx(La,{title:r.subject,subtitle:`Ticket ${r.id.slice(0,8)}`}),d.jsxs("div",{className:"p-6",children:[d.jsxs("button",{onClick:()=>t("/inbox"),className:"flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 mb-4 transition",children:[d.jsx(M4,{className:"w-4 h-4"}),"Retour  la bote de rception"]}),d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(K4,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-xs text-slate-400 font-mono",children:r.id.slice(0,8)})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[d.jsx(yte,{emails:i,notes:l}),i.length>0&&d.jsx(nre,{ticketId:r.id,onAccept:O=>{j(!0)},onRegenerate:async()=>{const O=i[i.length-1];try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/auto-generate-response",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_id:r.id,email_id:O.id,email_content:O.body_plain||O.body_html})}),await S()}catch(C){console.error("Failed to regenerate responses:",C)}}}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg shadow-sm transition",children:[d.jsx(Wi,{className:"w-4 h-4"}),"Envoyer un email"]})}),d.jsx(tre,{ticket:r,emails:i,templates:v,onSent:S}),d.jsx(ere,{ticketId:r.id,notes:l,onNoteAdded:S})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Xte,{ticket:r,agents:c,categories:h,onUpdate:S}),d.jsx(Zte,{attachments:k}),d.jsx(Jte,{classification:s,loading:w,onRequestClassify:E})]})]})]}),_&&d.jsx(rre,{ticket:r,emails:i,onClose:()=>j(!1),onSent:S})]}):d.jsxs("div",{className:"min-h-screen",children:[d.jsx(La,{title:"Ticket introuvable"}),d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("p",{className:"text-slate-500",children:"Ce ticket n'existe pas ou vous n'y avez pas accs."}),d.jsx("button",{onClick:()=>t("/inbox"),className:"mt-4 text-cyan-600 hover:text-cyan-700 text-sm font-medium",children:"Retour  la bote de rception"})]})]})}function are({template:e,onEdit:t,onViewHistory:r,onDelete:n,canManage:i}){const a=hu(e.body+" "+e.subject);return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 hover:shadow-md transition-shadow group",children:[d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-cyan-50 flex items-center justify-center",children:d.jsx(Pn,{className:"w-4 h-4 text-cyan-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:e.name}),d.jsxs("p",{className:"text-xs text-slate-500",children:["v",e.version]})]})]}),!e.is_active&&d.jsx(lr,{label:"Inactif",color:"#EF4444"})]}),e.description&&d.jsx("p",{className:"text-sm text-slate-500 mb-3 line-clamp-2",children:e.description}),e.subject&&d.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Objet : ",d.jsx("span",{className:"text-slate-600",children:e.subject})]}),d.jsx("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:d.jsx("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap line-clamp-4 font-sans",children:e.body})}),a.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:a.map(s=>d.jsx("span",{className:"px-1.5 py-0.5 bg-cyan-50 text-cyan-700 text-xs rounded font-mono",children:`{{${s}}}`},s))}),e.category&&d.jsx(lr,{label:e.category.name,color:e.category.color})]}),d.jsxs("div",{className:"flex items-center border-t border-slate-100 divide-x divide-slate-100",children:[d.jsxs("button",{onClick:t,className:"flex-1 flex items-center justify-center gap-1.5 py-2.5 text-xs font-medium text-slate-500 hover:text-cyan-600 hover:bg-cyan-50/50 transition",children:[d.jsx(Gl,{className:"w-3.5 h-3.5"}),"Modifier"]}),d.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-1.5 py-2.5 text-xs font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-50 transition",children:[d.jsx(V4,{className:"w-3.5 h-3.5"}),"Historique"]}),i&&n&&d.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-1.5 py-2.5 text-xs font-medium text-slate-500 hover:text-red-600 hover:bg-red-50/50 transition",children:[d.jsx($a,{className:"w-3.5 h-3.5"}),"Supprimer"]})]})]})}const sre={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function Qi({open:e,onClose:t,title:r,children:n,size:i="md"}){return m.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:t}),d.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl w-full ${sre[i]} mx-4 max-h-[90vh] flex flex-col animate-in fade-in zoom-in-95 duration-200`,children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 shrink-0",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:r}),d.jsx("button",{onClick:t,className:"p-1 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition",children:d.jsx(Qa,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:n})]})]}):null}function ore({open:e,onClose:t,template:r,categories:n,onSaved:i}){const[a,s]=m.useState(""),[o,l]=m.useState(""),[u,c]=m.useState(""),[f,h]=m.useState(""),[p,v]=m.useState(""),[g,x]=m.useState(""),[b,w]=m.useState(!1),[y,_]=m.useState(!1),[j,S]=m.useState("");m.useEffect(()=>{r?(s(r.name),l(r.description),c(r.subject),h(r.body),v(r.category_id??""),x("")):(s(""),l(""),c(""),h(""),v(""),x(""))},[r,e]);async function k(){if(!a.trim()||!f.trim())return;w(!0);const O=hu(f+" "+u);if(r){const C=r.version+1;await z.from("template_versions").insert({template_id:r.id,version:r.version,name:r.name,subject:r.subject,body:r.body,variables:r.variables,change_note:g}),await z.from("email_templates").update({name:a,description:o,subject:u,body:f,category_id:p||null,variables:O,version:C,updated_at:new Date().toISOString()}).eq("id",r.id)}else await z.from("email_templates").insert({name:a,description:o,subject:u,body:f,category_id:p||null,variables:O});w(!1),i(),t()}async function E(){if(j.trim()){_(!0);try{const C=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-template",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({prompt:j})});if(C.ok){const M=await C.json();M.name&&s(M.name),M.subject&&c(M.subject),M.body&&h(M.body),M.description&&l(M.description)}}catch{}_(!1)}}return d.jsx(Qi,{open:e,onClose:t,title:r?"Modifier le modle":"Nouveau modle",size:"lg",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-100",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Yn,{className:"w-4 h-4 text-cyan-600"}),d.jsx("span",{className:"text-sm font-medium text-cyan-800",children:"Gnrateur de modles IA"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:j,onChange:O=>S(O.target.value),placeholder:"Dcrivez le modle dont vous avez besoin (ex: 'Email de bienvenue pour nouveaux locataires')",className:"flex-1 px-3 py-2 bg-white border border-cyan-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20"}),d.jsx("button",{onClick:E,disabled:y||!j.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:y?d.jsx($t,{className:"w-4 h-4 animate-spin"}):"Gnrer"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom du modle"}),d.jsx("input",{type:"text",value:a,onChange:O=>s(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"ex: Email de bienvenue"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Catgorie"}),d.jsxs("select",{value:p,onChange:O=>v(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Aucune catgorie"}),n.map(O=>d.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),d.jsx("input",{type:"text",value:o,onChange:O=>l(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Brve description de l'objectif de ce modle"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Ligne d'objet"}),d.jsx("input",{type:"text",value:u,onChange:O=>c(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet de l'email (supporte les {{variables}})"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Corps"}),d.jsx("textarea",{value:f,onChange:O=>h(O.target.value),rows:10,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 font-mono",placeholder:"Corps du modle. Utilisez {{nom_variable}} pour les valeurs dynamiques."}),f&&d.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:hu(f+" "+u).map(O=>d.jsx("span",{className:"px-1.5 py-0.5 bg-cyan-50 text-cyan-700 text-xs rounded font-mono",children:`{{${O}}}`},O))})]}),r&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Note de modification"}),d.jsx("input",{type:"text",value:g,onChange:O=>x(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Dcrivez ce qui a chang (pour l'historique des versions)"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition",children:"Annuler"}),d.jsx("button",{onClick:k,disabled:b||!a.trim()||!f.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:b?d.jsx($t,{className:"w-4 h-4 animate-spin"}):r?"Enregistrer les modifications":"Crer le modle"})]})]})})}function lre({open:e,onClose:t,template:r,onRollback:n}){const[i,a]=m.useState([]),[s,o]=m.useState(!1),[l,u]=m.useState(null);m.useEffect(()=>{e&&r&&c()},[e,r]);async function c(){if(!r)return;o(!0);const{data:h}=await z.from("template_versions").select("*").eq("template_id",r.id).order("version",{ascending:!1});h&&a(h),o(!1)}async function f(h){r&&(u(h.id),await z.from("template_versions").insert({template_id:r.id,version:r.version,name:r.name,subject:r.subject,body:r.body,variables:r.variables,change_note:`Rolled back to version ${h.version}`}),await z.from("email_templates").update({name:h.name,subject:h.subject,body:h.body,variables:h.variables,version:r.version+1,updated_at:new Date().toISOString()}).eq("id",r.id),u(null),n(),t())}return d.jsx(Qi,{open:e,onClose:t,title:`Historique des versions : ${(r==null?void 0:r.name)??""}`,size:"lg",children:s?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx($t,{className:"w-6 h-6 animate-spin text-cyan-500"})}):i.length===0?d.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"Aucun historique de versions disponible."}):d.jsx("div",{className:"space-y-3",children:i.map(h=>d.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs font-semibold text-slate-900 bg-slate-100 px-2 py-0.5 rounded",children:["v",h.version]}),d.jsx("span",{className:"text-xs text-slate-500",children:yr(new Date(h.created_at),"MMM d, yyyy HH:mm")})]}),d.jsxs("button",{onClick:()=>f(h),disabled:l!==null,className:"flex items-center gap-1 px-2 py-1 text-xs text-cyan-600 hover:text-cyan-700 hover:bg-cyan-50 rounded transition disabled:opacity-50",children:[l===h.id?d.jsx($t,{className:"w-3 h-3 animate-spin"}):d.jsx(r3,{className:"w-3 h-3"}),"Restaurer"]})]}),h.change_note&&d.jsx("p",{className:"text-xs text-slate-500 mb-2",children:h.change_note}),d.jsxs("div",{className:"bg-slate-50 rounded p-3",children:[d.jsxs("p",{className:"text-xs text-slate-400 mb-1",children:["Objet : ",h.subject||"(aucun)"]}),d.jsx("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap font-sans line-clamp-4",children:h.body})]})]},h.id))})})}function ure(){const{canManage:e}=_o(),[t,r]=m.useState([]),[n,i]=m.useState([]),[a,s]=m.useState(!0),[o,l]=m.useState(""),[u,c]=m.useState(""),[f,h]=m.useState(!1),[p,v]=m.useState(!1),[g,x]=m.useState(null);m.useEffect(()=>{b()},[]);async function b(){const[k,E]=await Promise.all([z.from("email_templates").select("*, category:categories(name, color)").order("name"),z.from("categories").select("*").order("name")]);k.data&&r(k.data),E.data&&i(E.data),s(!1)}const w=t.filter(k=>{if(o){const E=o.toLowerCase();if(!k.name.toLowerCase().includes(E)&&!k.description.toLowerCase().includes(E)&&!k.body.toLowerCase().includes(E))return!1}return!(u&&k.category_id!==u)});function y(k){x(k),h(!0)}function _(k){x(k),v(!0)}async function j(k){confirm(`Supprimer le modle "${k.name}" ?`)&&(await z.from("email_templates").delete().eq("id",k.id),b())}function S(){x(null),h(!0)}return d.jsxs("div",{className:"min-h-screen",children:[d.jsx(La,{title:"Bibliothque de modles",subtitle:`${w.length} modle${w.length!==1?"s":""}`}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(yh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Rechercher des modles...",value:o,onChange:k=>l(k.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition"})]}),d.jsxs("select",{value:u,onChange:k=>c(k.target.value),className:"px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les catgories"}),n.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]}),d.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition shrink-0",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Nouveau modle"]})]}),a?d.jsx(Yu,{}):w.length===0?d.jsx(BI,{icon:Pn,title:"Aucun modle",description:"Crez des modles d'email rutilisables pour acclrer votre flux de travail.",action:{label:"Crer un modle",onClick:S}}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:w.map(k=>d.jsx(are,{template:k,onEdit:()=>y(k),onViewHistory:()=>_(k),onDelete:()=>j(k),canManage:e},k.id))})]}),d.jsx(ore,{open:f,onClose:()=>h(!1),template:g,categories:n,onSaved:b}),d.jsx(lre,{open:p,onClose:()=>v(!1),template:g,onRollback:b})]})}function cre(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[i,a]=m.useState(!1),[s,o]=m.useState(""),[l,u]=m.useState(""),[c,f]=m.useState("");m.useEffect(()=>{h()},[]);async function h(){const{data:w,error:y}=await z.from("knowledge_base_items").select("*").order("created_at",{ascending:!1});y&&console.error("Erreur lors du chargement des ressources:",y),w&&t(w),n(!1)}async function p(w,y){await z.from("knowledge_base_items").update({is_active:!y}).eq("id",w),t(_=>_.map(j=>j.id===w?{...j,is_active:!y}:j))}async function v(w){confirm("Supprimer cet lment de la base de connaissances ?")&&(await z.from("knowledge_base_items").delete().eq("id",w),t(y=>y.filter(_=>_.id!==w)))}const g=e.filter(w=>{const y=!s||w.title.toLowerCase().includes(s.toLowerCase())||w.content.toLowerCase().includes(s.toLowerCase()),_=!l||w.category===l,j=!c||w.type===c;return y&&_&&j}),x=[...new Set(e.map(w=>w.category))],b=[...new Set(e.map(w=>w.type))];return d.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50",children:[d.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Base de connaissances"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Documents et ressources utiliss par l'IA pour gnrer les rponses"})]}),d.jsxs("button",{onClick:()=>{console.log("Bouton cliqu - Ouverture du modal"),a(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition text-sm font-medium",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Ajouter une ressource"]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(yh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Toutes les catgories"}),x.map(w=>d.jsx("option",{value:w,children:w},w))]}),d.jsxs("select",{value:c,onChange:w=>f(w.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Tous les types"}),b.map(w=>d.jsx("option",{value:w,children:w},w))]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?d.jsx("div",{className:"text-center py-12 text-slate-500",children:"Chargement..."}):g.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(UO,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-600 font-medium",children:"Aucun lment trouv"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:s||l||c?"Essayez de modifier vos filtres":"Ajoutez des documents et ressources pour enrichir la base de connaissances"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:g.map(w=>d.jsxs("div",{className:`bg-white rounded-xl border border-slate-200 p-5 transition ${w.is_active?"":"opacity-60"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[w.type==="url"?d.jsx(KO,{className:"w-4 h-4 text-blue-500"}):d.jsx(Pn,{className:"w-4 h-4 text-emerald-500"}),d.jsx(lr,{label:w.category,color:"#64748b"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>p(w.id,w.is_active),className:"p-1.5 text-slate-400 hover:text-cyan-600 rounded transition",title:w.is_active?"Dsactiver":"Activer",children:w.is_active?d.jsx(HO,{className:"w-4 h-4"}):d.jsx(WO,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>v(w.id),className:"p-1.5 text-slate-400 hover:text-red-600 rounded transition",title:"Supprimer",children:d.jsx($a,{className:"w-4 h-4"})})]})]}),d.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:w.title}),w.source_url&&d.jsx("a",{href:w.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline block mb-2 truncate",children:w.source_url}),d.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 mb-3",children:w.content||"Aucun contenu disponible"}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Ajout ",_y(new Date(w.created_at),{addSuffix:!0})]})]},w.id))})}),i&&d.jsx(dre,{onClose:()=>a(!1),onAdded:()=>{a(!1),h()}})]})}function dre({onClose:e,onAdded:t}){const[r,n]=m.useState("url"),[i,a]=m.useState(""),[s,o]=m.useState("general"),[l,u]=m.useState(""),[c,f]=m.useState(""),[h,p]=m.useState(!1);m.useEffect(()=>{console.log("Modal AddKnowledge mont")},[]);async function v(g){var x;g.preventDefault(),p(!0);try{const{data:b}=await z.auth.getSession();if(!((x=b==null?void 0:b.session)!=null&&x.user)){alert("Vous devez tre connect pour ajouter une ressource"),p(!1);return}const{error:w}=await z.from("knowledge_base_items").insert({title:i,type:r,category:s,content:c,source_url:r==="url"?l:null,created_by:b.session.user.id});if(w){console.error("Erreur lors de l'ajout de la ressource:",w),alert("Erreur lors de l'ajout de la ressource: "+w.message),p(!1);return}p(!1),t()}catch(b){console.error("Erreur:",b),alert("Une erreur est survenue lors de l'ajout de la ressource"),p(!1)}}return d.jsx(Qi,{open:!0,title:"Ajouter une ressource",onClose:e,children:d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type de ressource"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{type:"button",onClick:()=>n("url"),className:`flex-1 px-4 py-3 border-2 rounded-lg text-sm font-medium transition ${r==="url"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[d.jsx(KO,{className:"w-4 h-4 mx-auto mb-1"}),"Lien web"]}),d.jsxs("button",{type:"button",onClick:()=>n("document"),className:`flex-1 px-4 py-3 border-2 rounded-lg text-sm font-medium transition ${r==="document"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[d.jsx(Pn,{className:"w-4 h-4 mx-auto mb-1"}),"Document texte"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Titre *"}),d.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),required:!0,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Ex: Guide de procdure SAV"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Catgorie *"}),d.jsxs("select",{value:s,onChange:g=>o(g.target.value),required:!0,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"general",children:"Gnral"}),d.jsx("option",{value:"technique",children:"Technique"}),d.jsx("option",{value:"commercial",children:"Commercial"}),d.jsx("option",{value:"juridique",children:"Juridique"}),d.jsx("option",{value:"rh",children:"Ressources Humaines"}),d.jsx("option",{value:"support",children:"Support client"})]})]}),r==="url"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"URL source *"}),d.jsx("input",{type:"url",value:l,onChange:g=>u(g.target.value),required:!0,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"https://example.com/documentation"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contenu *"}),d.jsx("textarea",{value:c,onChange:g=>f(g.target.value),required:!0,rows:8,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Collez ici le contenu textuel du document ou de la page web..."}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"L'IA utilisera ce contenu pour contextualiser ses rponses"})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition text-sm font-medium",children:"Annuler"}),d.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition text-sm font-medium disabled:opacity-50",children:h?"Ajout en cours...":"Ajouter"})]})]})})}function fre(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),[i,a]=m.useState(null),[s,o]=m.useState(null),[l,u]=m.useState(null),[c,f]=m.useState({name:"",email_address:"",provider_type:"imap",imap_host:"",imap_port:"993",smtp_host:"",smtp_port:"465",smtp_security:"SSL",username:"",encrypted_password:"",use_tls:!0,polling_interval_seconds:"60",signature:"",style_prompt:"",tone:"professional",ovh_consumer_key:"",ovh_domain:"",ovh_account:""});m.useEffect(()=>{h()},[]);async function h(){const{data:y}=await z.from("mailboxes").select("*").order("name");y&&t(y)}function p(){a(null),f({name:"",email_address:"",provider_type:"imap",imap_host:"ssl0.ovh.net",imap_port:"993",smtp_host:"ssl0.ovh.net",smtp_port:"465",smtp_security:"SSL",username:"",encrypted_password:"",use_tls:!0,polling_interval_seconds:"60",signature:"",style_prompt:"",tone:"professional",ovh_consumer_key:"",ovh_domain:"",ovh_account:""}),n(!0)}function v(y){a(y),f({name:y.name,email_address:y.email_address,provider_type:y.provider_type||"imap",imap_host:y.imap_host,imap_port:String(y.imap_port),smtp_host:y.smtp_host,smtp_port:String(y.smtp_port),smtp_security:y.smtp_security||"SSL",username:y.username,encrypted_password:"",use_tls:y.use_tls,polling_interval_seconds:String(y.polling_interval_seconds),signature:y.signature,style_prompt:y.style_prompt,tone:y.tone,ovh_consumer_key:y.ovh_consumer_key||"",ovh_domain:y.ovh_domain||"",ovh_account:y.ovh_account||""}),n(!0)}async function g(){const y={name:c.name,email_address:c.email_address,provider_type:c.provider_type,signature:c.signature,style_prompt:c.style_prompt,tone:c.tone,updated_at:new Date().toISOString()};c.provider_type==="ovh"?(y.ovh_consumer_key=c.ovh_consumer_key,y.ovh_domain=c.ovh_domain,y.ovh_account=c.ovh_account,y.imap_host="ssl0.ovh.net",y.imap_port=993,y.smtp_host="ssl0.ovh.net",y.smtp_port=465,y.username=c.email_address,y.use_tls=!0,y.polling_interval_seconds=60):(y.imap_host=c.imap_host,y.imap_port=parseInt(c.imap_port),y.smtp_host=c.smtp_host,y.smtp_port=parseInt(c.smtp_port),y.smtp_security=c.smtp_security,y.username=c.username,c.encrypted_password&&(y.encrypted_password=c.encrypted_password),y.use_tls=c.use_tls,y.polling_interval_seconds=parseInt(c.polling_interval_seconds)),i?await z.from("mailboxes").update(y).eq("id",i.id):(c.provider_type==="imap"&&(y.encrypted_password=c.encrypted_password||""),await z.from("mailboxes").insert(y)),n(!1),h()}async function x(y){await z.from("mailboxes").update({is_active:!y.is_active}).eq("id",y.id),h()}async function b(y){confirm(`Delete mailbox "${y.name}"? This will also remove all associated tickets.`)&&(await z.from("mailboxes").delete().eq("id",y.id),h())}async function w(y){var _;o(y.id),u(null);try{const k=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/sync-mailbox",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({mailbox_id:y.id})})).json();if((_=k.results)!=null&&_[0]){const E=k.results[0];E.status==="ok"?u({id:y.id,msg:`${E.synced} email${E.synced!==1?"s":""} synchronise(s)`,ok:!0}):E.status==="skipped"?u({id:y.id,msg:E.reason||"Ignore",ok:!1}):u({id:y.id,msg:E.error||"Erreur inconnue",ok:!1})}else k.error&&u({id:y.id,msg:k.error,ok:!1})}catch(j){u({id:y.id,msg:j.message||"Erreur reseau",ok:!1})}o(null)}return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Botes mail"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Grer les connexions aux botes mail OVH"})]}),d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Ajouter une bote mail"]})]}),d.jsxs("div",{className:"space-y-3",children:[e.map(y=>d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center",children:d.jsx(VO,{className:"w-5 h-5 text-slate-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900",children:y.name}),d.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${y.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:y.is_active?"Actif":"Inactif"}),d.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${y.provider_type==="ovh"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:y.provider_type==="ovh"?"OVH API":"IMAP"})]}),d.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:y.email_address}),y.provider_type==="ovh"?d.jsxs("p",{className:"text-xs text-slate-400",children:["OVH: ",y.ovh_account,"@",y.ovh_domain]}):d.jsxs("p",{className:"text-xs text-slate-400",children:["IMAP: ",y.imap_host,":",y.imap_port," | SMTP: ",y.smtp_host,":",y.smtp_port]}),(l==null?void 0:l.id)===y.id&&d.jsx("p",{className:`text-xs mt-1 ${l.ok?"text-emerald-600":"text-red-500"}`,children:l.msg})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>w(y),disabled:s!==null,className:"p-2 rounded-lg text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition disabled:opacity-50",title:"Synchroniser les emails",children:s===y.id?d.jsx($t,{className:"w-4 h-4 animate-spin text-cyan-500"}):d.jsx(Hs,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>x(y),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition",children:y.is_active?d.jsx(s3,{className:"w-5 h-5 text-emerald-500"}):d.jsx(a3,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>v(y),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:d.jsx(Gl,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>b(y),className:"p-2 rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:d.jsx($a,{className:"w-4 h-4"})})]})]},y.id)),e.length===0&&d.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"Aucune bote mail configure pour le moment."})]}),d.jsx(Qi,{open:r,onClose:()=>n(!1),title:i?"Modifier la bote mail":"Ajouter une bote mail",size:"lg",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Type de fournisseur"}),d.jsxs("select",{value:c.provider_type,onChange:y=>f({...c,provider_type:y.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"imap",children:"IMAP (Connexion directe)"}),d.jsx("option",{value:"ovh",children:"OVH API"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom d'affichage"}),d.jsx("input",{type:"text",value:c.name,onChange:y=>f({...c,name:y.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Bote Support"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Adresse email"}),d.jsx("input",{type:"email",value:c.email_address,onChange:y=>f({...c,email_address:y.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"support@entreprise.com"})]})]}),c.provider_type==="ovh"?d.jsxs("div",{className:"border border-blue-200 bg-blue-50/30 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wider mb-3",children:"Configuration OVH API"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Consumer Key"}),d.jsx("input",{type:"text",value:c.ovh_consumer_key,onChange:y=>f({...c,ovh_consumer_key:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"Cl consumer OVH"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Domaine"}),d.jsx("input",{type:"text",value:c.ovh_domain,onChange:y=>f({...c,ovh_domain:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"exemple.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Compte"}),d.jsx("input",{type:"text",value:c.ovh_account,onChange:y=>f({...c,ovh_account:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"contact"})]})]}),d.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Les identifiants OVH API sont configurs globalement. Seule la consumer key est requise par bote mail."})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider mb-3",children:"Paramtres IMAP"}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hte"}),d.jsx("input",{type:"text",value:c.imap_host,onChange:y=>f({...c,imap_host:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"ssl0.ovh.net"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Port"}),d.jsx("input",{type:"number",value:c.imap_port,onChange:y=>f({...c,imap_port:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20"})]})]})]}),d.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider mb-3",children:"Paramtres SMTP"}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hte"}),d.jsx("input",{type:"text",value:c.smtp_host,onChange:y=>f({...c,smtp_host:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"ssl0.ovh.net"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Port"}),d.jsx("input",{type:"number",value:c.smtp_port,onChange:y=>f({...c,smtp_port:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20"})]})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Mthode de chiffrement"}),d.jsxs("select",{value:c.smtp_security,onChange:y=>f({...c,smtp_security:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",children:[d.jsx("option",{value:"SSL",children:"SSL (Port 465)"}),d.jsx("option",{value:"TLS",children:"TLS"}),d.jsx("option",{value:"STARTTLS",children:"STARTTLS (Port 587)"}),d.jsx("option",{value:"None",children:"Aucun (Non recommand)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom d'utilisateur"}),d.jsx("input",{type:"text",value:c.username,onChange:y=>f({...c,username:y.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Mot de passe"}),d.jsx("input",{type:"password",value:c.encrypted_password,onChange:y=>f({...c,encrypted_password:y.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:i?"(inchang)":"Entrez le mot de passe"})]})]})]}),d.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider mb-3",children:"Paramtres de style IA"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ton"}),d.jsxs("select",{value:c.tone,onChange:y=>f({...c,tone:y.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",children:[d.jsx("option",{value:"professional",children:"Professionnel"}),d.jsx("option",{value:"friendly",children:"Amical"}),d.jsx("option",{value:"formal",children:"Formel"}),d.jsx("option",{value:"casual",children:"Dcontract"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Instructions de style"}),d.jsx("textarea",{value:c.style_prompt,onChange:y=>f({...c,style_prompt:y.target.value}),rows:3,className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"Instructions personnalises pour les rponses gnres par IA..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Signature"}),d.jsx("textarea",{value:c.signature,onChange:y=>f({...c,signature:y.target.value}),rows:2,className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:`Cordialement,
quipe Support`})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"Annuler"}),d.jsx("button",{onClick:g,disabled:!c.name||!c.email_address||c.provider_type==="ovh"&&(!c.ovh_consumer_key||!c.ovh_domain||!c.ovh_account),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:i?"Enregistrer les modifications":"Ajouter la bote mail"})]})]})})]})}const hre={admin:"#EF4444",manager:"#F59E0B",agent:"#3B82F6",readonly:"#6B7280"};function mre(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,a]=m.useState(!1),[s,o]=m.useState(""),[l,u]=m.useState(""),[c,f]=m.useState(!1),[h,p]=m.useState(""),[v,g]=m.useState("agent"),[x,b]=m.useState("#0891B2"),[w,y]=m.useState([]),[_,j]=m.useState(!1);m.useEffect(()=>{S(),k()},[]);async function S(){const{data:A}=await z.from("profiles").select("*").order("created_at",{ascending:!1});A&&t(A)}async function k(){const{data:A}=await z.from("mailboxes").select("*").order("name");A&&n(A)}function E(){o(""),u(""),p(""),g("agent"),b("#0891B2"),f(!1),y([]),a(!0)}function O(A,R){y(W=>{const G=W.find(te=>te.mailboxId===A);return G?R==="canRead"&&G.canRead&&!G.canSend&&!G.canManage?W.filter(te=>te.mailboxId!==A):W.map(te=>te.mailboxId===A?{...te,[R]:!te[R]}:te):[...W,{mailboxId:A,canRead:!0,canSend:!1,canManage:!1}]})}async function C(){if(!s||!l||!h){alert("Veuillez remplir tous les champs obligatoires");return}if(l.length<8){alert("Le mot de passe doit contenir au moins 8 caractres");return}j(!0);try{const A="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/create-user",{data:{session:R}}=await z.auth.getSession();if(!R){alert("Session expire. Veuillez vous reconnecter.");return}const W=await fetch(A,{method:"POST",headers:{Authorization:`Bearer ${R.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:s,password:l,fullName:h,role:v,avatarColor:x,mailboxPermissions:w})}),G=await W.json();if(!W.ok){alert(G.error||"Erreur lors de la cration de l'utilisateur");return}alert("Utilisateur cr avec succs"),a(!1),S()}catch(A){alert("Erreur lors de la cration de l'utilisateur"),console.error(A)}finally{j(!1)}}async function M(A,R){await z.from("profiles").update({role:R,updated_at:new Date().toISOString()}).eq("id",A),S()}async function P(A){await z.from("profiles").update({is_active:!A.is_active,updated_at:new Date().toISOString()}).eq("id",A.id),S()}return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Gestion des utilisateurs"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Grer les rles et permissions de l'quipe"})]}),d.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Crer un utilisateur"]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Utilisateur"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Rle"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Statut"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Inscrit le"}),d.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(A=>d.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-medium text-slate-600",children:(A.full_name||A.email).charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:A.full_name||"Sans nom"}),d.jsx("p",{className:"text-xs text-slate-500",children:A.email})]})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsxs("select",{value:A.role,onChange:R=>M(A.id,R.target.value),className:"appearance-none bg-transparent pr-6 text-sm font-medium cursor-pointer focus:outline-none",style:{color:hre[A.role]},children:[d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"manager",children:"Manager"}),d.jsx("option",{value:"agent",children:"Agent"}),d.jsx("option",{value:"readonly",children:"Lecture seule"})]}),d.jsx(Ms,{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400 pointer-events-none"})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(lr,{label:A.is_active?"Actif":"Dsactiv",color:A.is_active?"#10B981":"#EF4444"})}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:yr(new Date(A.created_at),"MMM d, yyyy")}),d.jsx("td",{className:"px-4 py-3 text-right",children:d.jsx("button",{onClick:()=>P(A),className:"text-xs font-medium text-slate-500 hover:text-slate-700 transition",children:A.is_active?"Dsactiver":"Activer"})})]},A.id))})]}),e.length===0&&d.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-500",children:"Aucun utilisateur trouv."})]}),d.jsx(Qi,{open:i,onClose:()=>a(!1),title:"Crer un utilisateur",size:"lg",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom complet *"}),d.jsx("input",{type:"text",value:h,onChange:A=>p(A.target.value),placeholder:"Jean Dupont",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Email *"}),d.jsx("input",{type:"email",value:s,onChange:A=>o(A.target.value),placeholder:"jean.dupont@exemple.com",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Mot de passe *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:c?"text":"password",value:l,onChange:A=>u(A.target.value),placeholder:"Minimum 8 caractres",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),d.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-slate-600",children:c?d.jsx(WO,{className:"w-4 h-4"}):d.jsx(HO,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Au moins 8 caractres requis"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Rle *"}),d.jsxs("select",{value:v,onChange:A=>g(A.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[d.jsx("option",{value:"agent",children:"Agent"}),d.jsx("option",{value:"manager",children:"Manager"}),d.jsx("option",{value:"readonly",children:"Lecture seule"}),d.jsx("option",{value:"admin",children:"Admin"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Couleur d'identification"}),d.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Cette couleur sera affiche pour les tickets assigns  cet utilisateur"}),d.jsx("div",{className:"flex items-center gap-2",children:["#0891B2","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#8B5CF6","#6B7280"].map(A=>d.jsx("button",{onClick:()=>b(A),className:`w-8 h-8 rounded-lg border-2 transition ${x===A?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:A},title:A},A))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Permissions des botes mail"}),d.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Dfinissez les botes mail auxquelles l'utilisateur aura accs"}),r.length===0?d.jsx("div",{className:"text-sm text-slate-500 text-center py-4 bg-slate-50 rounded-lg",children:"Aucune bote mail disponible"}):d.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-slate-200 rounded-lg",children:r.map(A=>{const R=w.find(W=>W.mailboxId===A.id);return d.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:A.name}),d.jsx("p",{className:"text-xs text-slate-500",children:A.email_address})]}),d.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[d.jsxs("button",{onClick:()=>O(A.id,"canRead"),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${R!=null&&R.canRead?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:[d.jsx(Wi,{className:"w-3 h-3"}),"Lire"]}),d.jsxs("button",{onClick:()=>O(A.id,"canSend"),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${R!=null&&R.canSend?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,disabled:!(R!=null&&R.canRead),children:[d.jsx(Su,{className:"w-3 h-3"}),"Envoyer"]}),d.jsxs("button",{onClick:()=>O(A.id,"canManage"),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${R!=null&&R.canManage?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,disabled:!(R!=null&&R.canRead),children:[d.jsx(by,{className:"w-3 h-3"}),"Grer"]})]})]},A.id)})})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[d.jsx("button",{onClick:()=>a(!1),disabled:_,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-900 disabled:opacity-50",children:"Annuler"}),d.jsx("button",{onClick:C,disabled:_||!s||!l||!h,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Cration...":"Crer l'utilisateur"})]})]})})]})}function pre(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),[i,a]=m.useState(null),[s,o]=m.useState(""),[l,u]=m.useState(""),[c,f]=m.useState("#0891B2"),[h,p]=m.useState([]),[v,g]=m.useState(""),[x,b]=m.useState(!1);m.useEffect(()=>{w()},[]);async function w(){const{data:P}=await z.from("categories").select("*").order("name");P&&t(P)}function y(){a(null),o(""),u(""),f("#0891B2"),p([]),g(""),n(!0)}function _(P){a(P),o(P.name),u(P.description),f(P.color),p(P.keywords||[]),g(""),n(!0)}async function j(){if(!s.trim())return;const P={name:s,description:l,color:c,keywords:h};i?await z.from("categories").update(P).eq("id",i.id):await z.from("categories").insert(P),n(!1),w()}function S(){const P=v.trim().toLowerCase();P&&!h.includes(P)&&(p([...h,P]),g(""))}function k(P){p(h.filter(A=>A!==P))}function E(P){P.key==="Enter"&&(P.preventDefault(),S())}async function O(P){if(!confirm(`Supprimer la catgorie "${P.name}" ?`))return;const{error:A}=await z.from("categories").delete().eq("id",P.id);A&&alert(`Erreur lors de la suppression : ${A.message}`),w()}async function C(){var P;if(confirm(`Classifier automatiquement tous les tickets non catgoriss ?

L'analyse va examiner le contenu de chaque email pour dterminer la meilleure catgorie en fonction des mots-cls dfinis.`)){b(!0);try{const{data:A}=await z.auth.getSession(),R=(P=A==null?void 0:A.session)==null?void 0:P.access_token;if(!R){alert("Session expire, veuillez vous reconnecter");return}const G=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/bulk-classify-tickets",{method:"POST",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({forceAll:!1})});if(!G.ok){const L=await G.json();alert(`Erreur : ${L.error||"Erreur inconnue"}`);return}const te=await G.json();alert(`Classification termine !

${te.message||"Classification effectue avec succs"}`)}catch(A){console.error("Erreur lors de la classification:",A);const R=A instanceof Error&&A.message?A.message:"Erreur de connexion. Vrifiez que la fonction edge est dploye.";alert(`Erreur lors de la classification : ${R}`)}finally{b(!1)}}}const M=["#0891B2","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#8B5CF6","#6B7280"];return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Catgories"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Organisez les tickets et modles par catgorie"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:C,disabled:x||e.length===0,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition",children:[d.jsx(Yn,{className:`w-4 h-4 ${x?"animate-spin":""}`}),x?"Classification en cours...":"Classifier tous les tickets"]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Ajouter une catgorie"]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(P=>d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:P.color}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:P.name}),P.description&&d.jsx("p",{className:"text-xs text-slate-500 truncate",children:P.description})]}),d.jsx("button",{onClick:()=>_(P),className:"p-1.5 rounded text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:d.jsx(Gl,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>O(P),className:"p-1.5 rounded text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:d.jsx($a,{className:"w-3.5 h-3.5"})})]},P.id))}),e.length===0&&d.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"Aucune catgorie pour le moment."}),d.jsx(Qi,{open:r,onClose:()=>n(!1),title:i?"Modifier la catgorie":"Nouvelle catgorie",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom"}),d.jsx("input",{type:"text",value:s,onChange:P=>o(P.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),d.jsx("input",{type:"text",value:l,onChange:P=>u(P.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Mots-cles pour l'IA"}),d.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Ces mots-cles aident l'IA a categoriser automatiquement les emails"}),d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx("input",{type:"text",value:v,onChange:P=>g(P.target.value),onKeyPress:E,placeholder:"visite, rendez-vous...",className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),d.jsx("button",{onClick:S,type:"button",className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 text-sm font-medium rounded-lg transition",children:"Ajouter"})]}),h.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(P=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-cyan-50 text-cyan-700 text-xs rounded-full",children:[P,d.jsx("button",{onClick:()=>k(P),type:"button",className:"hover:bg-cyan-100 rounded-full p-0.5",children:d.jsx(Qa,{className:"w-3 h-3"})})]},P))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Couleur"}),d.jsx("div",{className:"flex items-center gap-2",children:M.map(P=>d.jsx("button",{onClick:()=>f(P),className:`w-7 h-7 rounded-full border-2 transition ${c===P?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:P}},P))})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm text-slate-600",children:"Annuler"}),d.jsx("button",{onClick:j,disabled:!s.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:i?"Enregistrer":"Crer"})]})]})})]})}function vre(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,a]=m.useState(!1),[s,o]=m.useState(!1),[l,u]=m.useState(null),[c,f]=m.useState(null),[h,p]=m.useState(""),[v,g]=m.useState(""),[x,b]=m.useState("#64748B"),[w,y]=m.useState("circle"),[_,j]=m.useState(0),[S,k]=m.useState(!1),[E,O]=m.useState(""),[C,M]=m.useState(""),[P,A]=m.useState("#64748B"),[R,W]=m.useState(5),[G,te]=m.useState(!1);m.useEffect(()=>{L()},[]);async function L(){const[T,D]=await Promise.all([z.from("ticket_statuses").select("*").order("order"),z.from("ticket_priorities").select("*").order("level")]);T.data&&t(T.data),D.data&&n(D.data)}function U(){u(null),p(""),g(""),b("#64748B"),y("circle"),j(e.length+1),k(!1),a(!0)}function H(T){u(T),p(T.name),g(T.description),b(T.color),y(T.icon),j(T.order),k(T.is_default),a(!0)}function J(){f(null),O(""),M(""),A("#64748B"),W(5),te(!1),o(!0)}function se(T){f(T),O(T.name),M(T.description),A(T.color),W(T.level),te(T.is_default),o(!0)}async function le(){if(!h.trim())return;const T={name:h,description:v,color:x,icon:w,order:_,is_default:S};l?await z.from("ticket_statuses").update(T).eq("id",l.id):await z.from("ticket_statuses").insert(T),a(!1),L()}async function we(){if(!E.trim())return;const T={name:E,description:C,color:P,level:R,is_default:G};c?await z.from("ticket_priorities").update(T).eq("id",c.id):await z.from("ticket_priorities").insert(T),o(!1),L()}async function ue(T){confirm(`Supprimer le statut "${T.name}" ?`)&&(await z.from("ticket_statuses").delete().eq("id",T.id),L())}async function Ce(T){confirm(`Supprimer la priorit "${T.name}" ?`)&&(await z.from("ticket_priorities").delete().eq("id",T.id),L())}const _e=["#0891B2","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#8B5CF6","#64748B"];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Statuts des tickets"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Grez les statuts disponibles pour les tickets"})]}),d.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Ajouter un statut"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map(T=>d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:T.color}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.name}),T.is_default&&d.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-cyan-100 text-cyan-700 rounded font-medium",children:"Par dfaut"})]}),T.description&&d.jsx("p",{className:"text-xs text-slate-500 truncate",children:T.description})]}),d.jsx("button",{onClick:()=>H(T),className:"p-1.5 rounded text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:d.jsx(Gl,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>ue(T),className:"p-1.5 rounded text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:d.jsx($a,{className:"w-3.5 h-3.5"})})]},T.id))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Priorits des tickets"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Grez les niveaux de priorit disponibles"})]}),d.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[d.jsx(Ra,{className:"w-4 h-4"}),"Ajouter une priorit"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(T=>d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:T.color}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.name}),T.is_default&&d.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-cyan-100 text-cyan-700 rounded font-medium",children:"Par dfaut"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["Niveau ",T.level]})]}),T.description&&d.jsx("p",{className:"text-xs text-slate-500 truncate",children:T.description})]}),d.jsx("button",{onClick:()=>se(T),className:"p-1.5 rounded text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:d.jsx(Gl,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>Ce(T),className:"p-1.5 rounded text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:d.jsx($a,{className:"w-3.5 h-3.5"})})]},T.id))})]}),d.jsx(Qi,{open:i,onClose:()=>a(!1),title:l?"Modifier le statut":"Nouveau statut",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom"}),d.jsx("input",{type:"text",value:h,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),d.jsx("input",{type:"text",value:v,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Couleur"}),d.jsx("div",{className:"flex items-center gap-2",children:_e.map(T=>d.jsx("button",{onClick:()=>b(T),className:`w-7 h-7 rounded-full border-2 transition ${x===T?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:T}},T))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Ordre d'affichage"}),d.jsx("input",{type:"number",value:_,onChange:T=>j(parseInt(T.target.value)),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:S,onChange:T=>k(T.target.checked),className:"rounded border-slate-300 text-cyan-600 focus:ring-cyan-500/20"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Statut par dfaut"})]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm text-slate-600",children:"Annuler"}),d.jsx("button",{onClick:le,disabled:!h.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:l?"Enregistrer":"Crer"})]})]})}),d.jsx(Qi,{open:s,onClose:()=>o(!1),title:c?"Modifier la priorit":"Nouvelle priorit",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom"}),d.jsx("input",{type:"text",value:E,onChange:T=>O(T.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),d.jsx("input",{type:"text",value:C,onChange:T=>M(T.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Couleur"}),d.jsx("div",{className:"flex items-center gap-2",children:_e.map(T=>d.jsx("button",{onClick:()=>A(T),className:`w-7 h-7 rounded-full border-2 transition ${P===T?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:T}},T))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Niveau (1-10)"}),d.jsx("input",{type:"number",min:"1",max:"10",value:R,onChange:T=>W(parseInt(T.target.value)),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:G,onChange:T=>te(T.target.checked),className:"rounded border-slate-300 text-cyan-600 focus:ring-cyan-500/20"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Priorit par dfaut"})]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[d.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm text-slate-600",children:"Annuler"}),d.jsx("button",{onClick:we,disabled:!E.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:c?"Enregistrer":"Crer"})]})]})})]})}function gre(){const[e,t]=m.useState([]),[r,n]=m.useState(0),i=20;m.useEffect(()=>{a()},[r]);async function a(){const{data:s}=await z.from("audit_log").select("*, user:profiles(full_name, email)").order("created_at",{ascending:!1}).range(r*i,(r+1)*i-1);s&&t(s)}return d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Journal d'audit"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Suivre toutes les actions critiques du systme"})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Heure"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Utilisateur"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Action"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Ressource"}),d.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Dtails"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(s=>{const o=s.user;return d.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[d.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 whitespace-nowrap",children:yr(new Date(s.created_at),"MMM d, HH:mm:ss")}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:(o==null?void 0:o.full_name)||(o==null?void 0:o.email)||"Systme"}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-slate-100 text-slate-700 rounded",children:s.action})}),d.jsxs("td",{className:"px-4 py-3 text-sm text-slate-500",children:[s.resource_type,s.resource_id&&d.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["#",s.resource_id.slice(0,8)]})]}),d.jsx("td",{className:"px-4 py-3 text-xs text-slate-400 max-w-xs truncate",children:JSON.stringify(s.details)})]},s.id)})})]}),e.length===0&&d.jsxs("div",{className:"px-4 py-8 text-center",children:[d.jsx(GO,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Aucune entre dans le journal d'audit pour le moment."})]})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[d.jsx("button",{onClick:()=>n(Math.max(0,r-1)),disabled:r===0,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 disabled:opacity-30",children:d.jsx(gy,{className:"w-4 h-4"})}),d.jsxs("span",{className:"text-sm text-slate-500",children:["Page ",r+1]}),d.jsx("button",{onClick:()=>n(r+1),disabled:e.length<i,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 disabled:opacity-30",children:d.jsx(yy,{className:"w-4 h-4"})})]})]})}function yre(){const[e,t]=m.useState(600),[r,n]=m.useState(!1);m.useEffect(()=>{i()},[]);async function i(){const{data:s}=await z.from("system_settings").select("value").eq("key","mailbox_sync_interval_seconds").maybeSingle();s!=null&&s.value&&t(parseInt(s.value))}async function a(){n(!0);try{const{data:s}=await z.from("profiles").select("id").maybeSingle();await z.from("system_settings").update({value:e.toString(),updated_at:new Date().toISOString(),updated_by:s==null?void 0:s.id}).eq("key","mailbox_sync_interval_seconds"),alert("Paramtres enregistrs avec succs. Rechargez la page pour appliquer les changements.")}catch{alert("Erreur lors de l'enregistrement des paramtres")}finally{n(!1)}}return d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Paramtres systme"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Configuration gnrale de l'application"})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Synchronisation des botes mail"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Intervalle de synchronisation automatique"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"number",min:"60",max:"3600",step:"60",value:e,onChange:s=>t(parseInt(s.target.value)),className:"w-32 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),d.jsx("span",{className:"text-sm text-slate-600",children:"secondes"}),d.jsxs("span",{className:"text-sm text-slate-500",children:["(",Math.round(e/60)," minute",e!==60?"s":"",")"]})]}),d.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Frquence  laquelle le systme vrifie les nouvelles emails dans toutes les botes mail actives"})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.jsxs("p",{className:"text-xs text-blue-800",children:[d.jsx("strong",{children:"Note :"})," Aprs modification, rechargez la page pour appliquer le nouvel intervalle. Les intervalles recommands sont entre 5 et 30 minutes (300-1800 secondes)."]})})]})]}),d.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:d.jsxs("button",{onClick:a,disabled:r||e<60,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(n3,{className:"w-4 h-4"}),r?"Enregistrement...":"Enregistrer"]})})]})]})}function xre(){const[e,t]=m.useState([]),[r,n]=m.useState({}),[i,a]=m.useState(null),[s,o]=m.useState({}),[l,u]=m.useState(!1),[c,f]=m.useState(null);m.useEffect(()=>{h()},[]);async function h(){const{data:g}=await z.from("mailboxes").select("*").order("name");if(g){t(g);for(const x of g){const{count:b}=await z.from("emails").select("*",{count:"exact",head:!0}).eq("mailbox_id",x.id);n(w=>({...w,[x.id]:b||0}))}}}async function p(g){a(g.id);try{const w=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/sync-mailbox",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({mailbox_id:g.id})})).json();if(console.log("Test result for",g.name,":",w),w.results&&w.results.length>0){const y=w.results[0];o(_=>({..._,[g.id]:{status:y.status,message:y.error||`${y.synced||0} email(s) synchronis(s)`,details:y}}))}else w.error&&o(y=>({...y,[g.id]:{status:"error",message:w.error}}))}catch(x){console.error("Test error:",x),o(b=>({...b,[g.id]:{status:"error",message:x.message||"Erreur de connexion"}}))}a(null)}async function v(){u(!0),f(null);try{const b=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/clean-emails",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"}})).json();f(b),await h()}catch(g){console.error("Clean error:",g),f({success:!1,total:0,cleaned:0,skipped:0})}u(!1)}return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Diagnostic des botes mail"}),d.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Testez la connexion et la synchronisation de chaque bote mail"})]}),d.jsx("button",{onClick:v,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:l?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-4 h-4 animate-spin"}),"Nettoyage..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Yn,{className:"w-4 h-4"}),"Nettoyer les emails HTML"]})})]}),c&&d.jsx("div",{className:`p-4 rounded-lg border ${c.success?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[c.success?d.jsx(ng,{className:"w-5 h-5 text-emerald-600 shrink-0 mt-0.5"}):d.jsx(rg,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${c.success?"text-emerald-900":"text-red-900"}`,children:c.success?"Nettoyage termin":"Erreur lors du nettoyage"}),d.jsxs("p",{className:`text-xs mt-1 ${c.success?"text-emerald-700":"text-red-700"}`,children:[c.cleaned," email(s) nettoy(s) sur ",c.total," analys(s)"]})]})]})}),d.jsx("div",{className:"space-y-4",children:e.map(g=>{const x=s[g.id],b=i===g.id;return d.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:g.name}),!g.is_active&&d.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded-full",children:"Inactive"})]}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:g.email_address}),d.jsxs("div",{className:"mt-2 text-xs text-slate-600 space-y-0.5",children:[d.jsxs("p",{className:"text-cyan-700 font-medium",children:[" ",r[g.id]||0," email(s) dans la base de donnes"]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Type:"})," ",g.provider_type.toUpperCase()]}),g.provider_type==="imap"&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"IMAP:"})," ",g.imap_host,":",g.imap_port]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"SMTP:"})," ",g.smtp_host,":",g.smtp_port]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Utilisateur:"})," ",g.username]})]}),g.provider_type==="ovh"&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Domaine OVH:"})," ",g.ovh_domain||"Non configur"]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Compte OVH:"})," ",g.ovh_account||"Non configur"]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:"Consumer Key:"})," ",g.ovh_consumer_key?"Configure":"Non configure"]})]})]})]}),d.jsx("button",{onClick:()=>p(g),disabled:b||!g.is_active,className:"flex items-center gap-2 px-3 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:b?d.jsxs(d.Fragment,{children:[d.jsx($t,{className:"w-4 h-4 animate-spin"}),"Test..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4"}),"Tester"]})})]}),x&&d.jsx("div",{className:`p-3 rounded-lg border ${x.status==="ok"?"bg-emerald-50 border-emerald-200":x.status==="error"?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[x.status==="ok"?d.jsx(ng,{className:"w-4 h-4 text-emerald-600 shrink-0 mt-0.5"}):d.jsx(rg,{className:"w-4 h-4 text-red-600 shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:`text-sm font-medium ${x.status==="ok"?"text-emerald-900":"text-red-900"}`,children:x.status==="ok"?"Synchronisation russie":x.status==="skipped"?"Synchronisation ignore":"Erreur de synchronisation"}),d.jsx("p",{className:`text-xs mt-1 ${x.status==="ok"?"text-emerald-700":"text-red-700"}`,children:x.message}),x.details&&d.jsxs("details",{className:"mt-2",children:[d.jsx("summary",{className:"text-xs text-slate-600 cursor-pointer hover:text-slate-900",children:"Dtails techniques"}),d.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[x.details.status==="ok"&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-slate-700",children:[d.jsx("span",{className:"font-medium",children:"Emails synchroniss:"})," ",x.details.synced||0]}),d.jsxs("p",{className:"text-slate-700",children:[d.jsx("span",{className:"font-medium",children:"Total sur le serveur:"})," ",x.details.total||0]}),x.details.synced===0&&x.details.total>0&&d.jsxs("p",{className:"text-amber-700 mt-2 font-medium",children:[" Il y a ",x.details.total," emails sur le serveur mais aucun nouveau n'a t synchronis. Tous les emails rcents (30 derniers jours) sont dj dans la base de donnes."]})]}),x.details.reason&&d.jsxs("p",{className:"text-amber-700",children:[d.jsx("span",{className:"font-medium",children:"Raison:"})," ",x.details.reason]}),d.jsxs("details",{className:"mt-2",children:[d.jsx("summary",{className:"text-xs text-slate-500 cursor-pointer hover:text-slate-700",children:"JSON complet"}),d.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(x.details,null,2)})]})]})]})]})]})})]},g.id)})}),e.length===0&&d.jsx("div",{className:"text-center py-12 text-slate-500",children:d.jsx("p",{children:"Aucune bote mail configure"})})]})}const bre=[{id:"mailboxes",label:"Botes mail",icon:VO},{id:"diagnostics",label:"Diagnostics",icon:T4},{id:"users",label:"Utilisateurs",icon:QO},{id:"categories",label:"Catgories",icon:qO},{id:"status-priority",label:"Statuts & Priorits",icon:JO},{id:"settings",label:"Paramtres",icon:by,adminOnly:!0},{id:"audit",label:"Journal d'audit",icon:GO,adminOnly:!0}];function wre(){const{isAdmin:e}=_o(),[t,r]=m.useState("mailboxes"),n=bre.filter(i=>!i.adminOnly||e);return d.jsxs("div",{className:"min-h-screen",children:[d.jsx(La,{title:"Administration",subtitle:"Configuration et gestion du systme"}),d.jsx("div",{className:"px-6 pt-4",children:d.jsx("div",{className:"flex gap-1 border-b border-slate-200 mb-6",children:n.map(i=>d.jsxs("button",{onClick:()=>r(i.id),className:`flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 -mb-px transition ${t===i.id?"border-cyan-500 text-cyan-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[d.jsx(i.icon,{className:"w-4 h-4"}),i.label]},i.id))})}),d.jsxs("div",{className:"px-6 pb-6",children:[t==="mailboxes"&&d.jsx(fre,{}),t==="diagnostics"&&d.jsx(xre,{}),t==="users"&&d.jsx(mre,{}),t==="categories"&&d.jsx(pre,{}),t==="status-priority"&&d.jsx(vre,{}),t==="settings"&&e&&d.jsx(yre,{}),t==="audit"&&e&&d.jsx(gre,{})]})]})}function _re(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,a]=m.useState(0),[s,o]=m.useState(0),[l,u]=m.useState("7d"),c=m.useCallback(async()=>{const{count:p}=await z.from("tickets").select("*",{count:"exact",head:!0});a(p??0);const v=[];for(const x of du){const{count:b}=await z.from("tickets").select("*",{count:"exact",head:!0}).eq("status",x.value);v.push({status:x.label,count:b??0})}t(v);const g=[];for(const x of fu){const{count:b}=await z.from("tickets").select("*",{count:"exact",head:!0}).eq("priority",x.value);g.push({priority:x.label,count:b??0})}n(g),o(2.4)},[]);m.useEffect(()=>{c()},[c]);function f(){const p=["Status","Count"],v=e.map(y=>`${y.status},${y.count}`),g=[p.join(","),...v].join(`
`),x=new Blob([g],{type:"text/csv"}),b=URL.createObjectURL(x),w=document.createElement("a");w.href=b,w.download=`emailops-report-${new Date().toISOString().slice(0,10)}.csv`,w.click(),URL.revokeObjectURL(b)}const h=du.map(p=>p.color);return d.jsxs("div",{className:"min-h-screen",children:[d.jsx(La,{title:"Rapports",subtitle:"Analyses et mtriques de performance"}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bd,{className:"w-4 h-4 text-slate-400"}),d.jsxs("select",{value:l,onChange:p=>u(p.target.value),className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20",children:[d.jsx("option",{value:"7d",children:"7 derniers jours"}),d.jsx("option",{value:"30d",children:"30 derniers jours"}),d.jsx("option",{value:"90d",children:"90 derniers jours"}),d.jsx("option",{value:"all",children:"Tout le temps"})]})]}),d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition",children:[d.jsx(gh,{className:"w-4 h-4"}),"Exporter CSV"]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Total des tickets"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:i})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Temps de rponse moyen"}),d.jsxs("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:[s,"h"]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Conformit SLA"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-600 mt-1",children:"94%"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Tickets par statut"}),d.jsx("div",{className:"h-72",children:d.jsx(ld,{width:"100%",height:"100%",children:d.jsxs(Sk,{data:e,children:[d.jsx(zf,{strokeDasharray:"3 3",stroke:"#E2E8F0",vertical:!1}),d.jsx(Wf,{dataKey:"status",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"}}),d.jsx(Hf,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"}}),d.jsx(cd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}}),d.jsx(Zg,{dataKey:"count",fill:"#0891B2",radius:[6,6,0,0]})]})})})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Rpartition par statut"}),d.jsx("div",{className:"h-72",children:d.jsx(ld,{width:"100%",height:"100%",children:d.jsxs(Dee,{children:[d.jsx(aI,{data:e.filter(p=>p.count>0),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"count",nameKey:"status",children:e.map((p,v)=>d.jsx(ho,{fill:h[v%h.length]},`cell-${v}`))}),d.jsx(dC,{verticalAlign:"bottom",height:36,iconType:"circle",iconSize:8,formatter:p=>d.jsx("span",{className:"text-xs text-slate-600",children:p})}),d.jsx(cd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}})]})})})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Tickets par priorit"}),d.jsx("div",{className:"h-64",children:d.jsx(ld,{width:"100%",height:"100%",children:d.jsxs(Sk,{data:r,layout:"vertical",children:[d.jsx(zf,{strokeDasharray:"3 3",stroke:"#E2E8F0",horizontal:!1}),d.jsx(Wf,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"}}),d.jsx(Hf,{type:"category",dataKey:"priority",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"},width:70}),d.jsx(cd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}}),d.jsx(Zg,{dataKey:"count",radius:[0,6,6,0],children:r.map((p,v)=>{var g;return d.jsx(ho,{fill:((g=fu[v])==null?void 0:g.color)??"#6B7280"},`cell-${v}`)})})]})})})]})]})]})}function jre(){const e=m.useRef(null);m.useEffect(()=>{async function t(){const{data:r}=await z.from("system_settings").select("value").eq("key","mailbox_sync_interval_seconds").maybeSingle(),i=(r!=null&&r.value?parseInt(r.value):600)*1e3;async function a(){try{const{data:s}=await z.from("mailboxes").select("id, email_address, is_active").eq("is_active",!0);if(!s||s.length===0)return;const o="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/create-sync-job",l={Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"};await fetch(o,{method:"POST",headers:l,body:JSON.stringify({batch_size:30})}),setTimeout(async()=>{try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/job-worker",{method:"POST",headers:l}),setTimeout(async()=>{try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/process-draft-queue",{method:"POST",headers:l})}catch(c){console.error("Erreur lors de la gnration automatique des brouillons:",c)}},3e3)}catch(u){console.error("Erreur lors du dclenchement du worker:",u)}},2e3)}catch(s){console.error("Erreur lors de la synchronisation des botes mail:",s)}}a(),e.current&&clearInterval(e.current),e.current=setInterval(a,i)}return t(),()=>{e.current&&clearInterval(e.current)}},[])}function Sre({children:e}){const{authenticated:t,loading:r}=_o();return r?d.jsx(Yu,{message:"Chargement..."}):t?d.jsx(d.Fragment,{children:e}):d.jsx(uy,{to:"/login",replace:!0})}function kre({children:e}){const{authenticated:t,loading:r}=_o();return r?d.jsx(Yu,{message:"Chargement..."}):t?d.jsx(uy,{to:"/",replace:!0}):d.jsx(d.Fragment,{children:e})}function Ere(){return jre(),d.jsxs(TR,{children:[d.jsx(qr,{path:"/login",element:d.jsx(kre,{children:d.jsx(m3,{})})}),d.jsxs(qr,{element:d.jsx(Sre,{children:d.jsx(h3,{})}),children:[d.jsx(qr,{index:!0,element:d.jsx(Fee,{})}),d.jsx(qr,{path:"inbox",element:d.jsx(Vee,{})}),d.jsx(qr,{path:"inbox/:id",element:d.jsx(ire,{})}),d.jsx(qr,{path:"templates",element:d.jsx(ure,{})}),d.jsx(qr,{path:"knowledge",element:d.jsx(cre,{})}),d.jsx(qr,{path:"reports",element:d.jsx(_re,{})}),d.jsx(qr,{path:"admin",element:d.jsx(wre,{})})]}),d.jsx(qr,{path:"*",element:d.jsx(uy,{to:"/",replace:!0})})]})}function Pre(){return d.jsx(n$,{children:d.jsx(N4,{children:d.jsx(Ere,{})})})}YP(document.getElementById("root")).render(d.jsx(m.StrictMode,{children:d.jsx(Pre,{})}));
