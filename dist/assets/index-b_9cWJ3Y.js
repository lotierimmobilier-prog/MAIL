var aM=Object.defineProperty;var sM=(e,t,r)=>t in e?aM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $m=(e,t,r)=>sM(e,typeof t!="symbol"?t+"":t,r);function oM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Bk={exports:{}},Yf={},Uk={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),uM=Symbol.for("react.portal"),cM=Symbol.for("react.fragment"),dM=Symbol.for("react.strict_mode"),fM=Symbol.for("react.profiler"),hM=Symbol.for("react.provider"),mM=Symbol.for("react.context"),pM=Symbol.for("react.forward_ref"),vM=Symbol.for("react.suspense"),gM=Symbol.for("react.memo"),yM=Symbol.for("react.lazy"),Zb=Symbol.iterator;function xM(e){return e===null||typeof e!="object"?null:(e=Zb&&e[Zb]||e["@@iterator"],typeof e=="function"?e:null)}var Wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hk=Object.assign,qk={};function mo(e,t,r){this.props=e,this.context=t,this.refs=qk,this.updater=r||Wk}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kk(){}Kk.prototype=mo.prototype;function d0(e,t,r){this.props=e,this.context=t,this.refs=qk,this.updater=r||Wk}var f0=d0.prototype=new Kk;f0.constructor=d0;Hk(f0,mo.prototype);f0.isPureReactComponent=!0;var ew=Array.isArray,Vk=Object.prototype.hasOwnProperty,h0={current:null},Gk={key:!0,ref:!0,__self:!0,__source:!0};function Yk(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Vk.call(t,n)&&!Gk.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:vu,type:e,key:a,ref:s,props:i,_owner:h0.current}}function bM(e,t){return{$$typeof:vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function m0(e){return typeof e=="object"&&e!==null&&e.$$typeof===vu}function wM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tw=/\/+/g;function Lm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wM(""+e.key):t.toString(36)}function qc(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vu:case uM:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Lm(s,0):n,ew(i)?(r="",e!=null&&(r=e.replace(tw,"$&/")+"/"),qc(i,t,r,"",function(c){return c})):i!=null&&(m0(i)&&(i=bM(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",ew(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Lm(a,o);s+=qc(a,t,r,l,i)}else if(l=xM(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Lm(a,o++),s+=qc(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function rc(e,t,r){if(e==null)return e;var n=[],i=0;return qc(e,n,"","",function(a){return t.call(r,a,i++)}),n}function _M(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Kc={transition:null},jM={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Kc,ReactCurrentOwner:h0};function Xk(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:rc,forEach:function(e,t,r){rc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rc(e,function(){t++}),t},toArray:function(e){return rc(e,function(t){return t})||[]},only:function(e){if(!m0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=mo;fe.Fragment=cM;fe.Profiler=fM;fe.PureComponent=d0;fe.StrictMode=dM;fe.Suspense=vM;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jM;fe.act=Xk;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hk({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=h0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Vk.call(t,l)&&!Gk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:vu,type:e.type,key:i,ref:a,props:n,_owner:s}};fe.createContext=function(e){return e={$$typeof:mM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hM,_context:e},e.Consumer=e};fe.createElement=Yk;fe.createFactory=function(e){var t=Yk.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:pM,render:e}};fe.isValidElement=m0;fe.lazy=function(e){return{$$typeof:yM,_payload:{_status:-1,_result:e},_init:_M}};fe.memo=function(e,t){return{$$typeof:gM,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Kc.transition;Kc.transition={};try{e()}finally{Kc.transition=t}};fe.unstable_act=Xk;fe.useCallback=function(e,t){return Jt.current.useCallback(e,t)};fe.useContext=function(e){return Jt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Jt.current.useEffect(e,t)};fe.useId=function(){return Jt.current.useId()};fe.useImperativeHandle=function(e,t,r){return Jt.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Jt.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return Jt.current.useReducer(e,t,r)};fe.useRef=function(e){return Jt.current.useRef(e)};fe.useState=function(e){return Jt.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return Jt.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return Jt.current.useTransition()};fe.version="18.3.1";Uk.exports=fe;var m=Uk.exports;const SM=di(m),kM=oM({__proto__:null,default:SM},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM=m,PM=Symbol.for("react.element"),OM=Symbol.for("react.fragment"),NM=Object.prototype.hasOwnProperty,CM=EM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AM={key:!0,ref:!0,__self:!0,__source:!0};function Jk(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)NM.call(t,n)&&!AM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:PM,type:e,key:a,ref:s,props:i,_owner:CM.current}}Yf.Fragment=OM;Yf.jsx=Jk;Yf.jsxs=Jk;Bk.exports=Yf;var u=Bk.exports,Qk={exports:{}},_r={},Zk={exports:{}},eE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,W){var K=R.length;R.push(W);e:for(;0<K;){var J=K-1>>>1,se=R[J];if(0<i(se,W))R[J]=W,R[K]=se,K=J;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var W=R[0],K=R.pop();if(K!==W){R[0]=K;e:for(var J=0,se=R.length,le=se>>>1;J<le;){var we=2*(J+1)-1,ue=R[we],Ce=we+1,_e=R[Ce];if(0>i(ue,K))Ce<se&&0>i(_e,ue)?(R[J]=_e,R[Ce]=K,J=Ce):(R[J]=ue,R[we]=K,J=we);else if(Ce<se&&0>i(_e,K))R[J]=_e,R[Ce]=K,J=Ce;else break e}}return W}function i(R,W){var K=R.sortIndex-W.sortIndex;return K!==0?K:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=R)n(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(c)}}function _(R){if(g=!1,b(R),!v)if(r(l)!==null)v=!0,q(j);else{var W=r(c);W!==null&&te(_,W.startTime-R)}}function j(R,W){v=!1,g&&(g=!1,x(E),E=-1),p=!0;var K=h;try{for(b(W),f=r(l);f!==null&&(!(f.expirationTime>W)||R&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var se=J(f.expirationTime<=W);W=e.unstable_now(),typeof se=="function"?f.callback=se:f===r(l)&&n(l),b(W)}else n(l);f=r(l)}if(f!==null)var le=!0;else{var we=r(c);we!==null&&te(_,we.startTime-W),le=!1}return le}finally{f=null,h=K,p=!1}}var S=!1,k=null,E=-1,O=5,C=-1;function I(){return!(e.unstable_now()-C<O)}function P(){if(k!==null){var R=e.unstable_now();C=R;var W=!0;try{W=k(!0,R)}finally{W?z():(S=!1,k=null)}}else S=!1}var z;if(typeof w=="function")z=function(){w(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=P,z=function(){F.postMessage(null)}}else z=function(){y(P,0)};function q(R){k=R,S||(S=!0,z())}function te(R,W){E=y(function(){R(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,q(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var K=h;h=W;try{return R()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=h;h=R;try{return W()}finally{h=K}},e.unstable_scheduleCallback=function(R,W,K){var J=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,R={id:d++,callback:W,priorityLevel:R,startTime:K,expirationTime:se,sortIndex:-1},K>J?(R.sortIndex=K,t(c,R),r(l)===null&&R===r(c)&&(g?(x(E),E=-1):g=!0,te(_,K-J))):(R.sortIndex=se,t(l,R),v||p||(v=!0,q(j))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var W=h;return function(){var K=h;h=W;try{return R.apply(this,arguments)}finally{h=K}}}})(eE);Zk.exports=eE;var TM=Zk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM=m,br=TM;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tE=new Set,Nl={};function Ga(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Nl[e]=t,e=0;e<t.length;e++)tE.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=Object.prototype.hasOwnProperty,MM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rw={},nw={};function DM(e){return Qp.call(nw,e)?!0:Qp.call(rw,e)?!1:MM.test(e)?nw[e]=!0:(rw[e]=!0,!1)}function RM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $M(e,t,r,n){if(t===null||typeof t>"u"||RM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var p0=/[\-:]([a-z])/g;function v0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p0,v0);Ct[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p0,v0);Ct[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p0,v0);Ct[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function g0(e,t,r,n){var i=Ct.hasOwnProperty(t)?Ct[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($M(t,r,i,n)&&(r=null),n||i===null?DM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fi=IM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),_s=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),rE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),x0=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),b0=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),iE=Symbol.for("react.offscreen"),iw=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=iw&&e[iw]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,zm;function ol(e){if(zm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zm=t&&t[1]||""}return`
`+zm+e}var Fm=!1;function Bm(e,t){if(!e||Fm)return"";Fm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Fm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ol(e):""}function LM(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=Bm(e.type,!1),e;case 11:return e=Bm(e.type.render,!1),e;case 1:return e=Bm(e.type,!0),e;default:return""}}function rv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case js:return"Fragment";case _s:return"Portal";case Zp:return"Profiler";case y0:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nE:return(e.displayName||"Context")+".Consumer";case rE:return(e._context.displayName||"Context")+".Provider";case x0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b0:return t=e.displayName||null,t!==null?t:rv(e.type)||"Memo";case ki:t=e._payload,e=e._init;try{return rv(e(t))}catch{}}return null}function zM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rv(t);case 8:return t===y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FM(e){var t=aE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ic(e){e._valueTracker||(e._valueTracker=FM(e))}function sE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nv(e,t){var r=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function aw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oE(e,t){t=t.checked,t!=null&&g0(e,"checked",t,!1)}function iv(e,t){oE(e,t);var r=Vi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?av(e,t.type,r):t.hasOwnProperty("defaultValue")&&av(e,t.type,Vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function av(e,t,r){(t!=="number"||vd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ll=Array.isArray;function Ls(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ow(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(ll(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vi(r)}}function lE(e,t){var r=Vi(t.value),n=Vi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ac,cE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BM=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){BM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function dE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function fE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var UM=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(e,t){if(t){if(UM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function uv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=null;function w0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dv=null,zs=null,Fs=null;function uw(e){if(e=xu(e)){if(typeof dv!="function")throw Error(B(280));var t=e.stateNode;t&&(t=eh(t),dv(e.stateNode,e.type,t))}}function hE(e){zs?Fs?Fs.push(e):Fs=[e]:zs=e}function mE(){if(zs){var e=zs,t=Fs;if(Fs=zs=null,uw(e),t)for(e=0;e<t.length;e++)uw(t[e])}}function pE(e,t){return e(t)}function vE(){}var Um=!1;function gE(e,t,r){if(Um)return e(t,r);Um=!0;try{return pE(e,t,r)}finally{Um=!1,(zs!==null||Fs!==null)&&(vE(),mE())}}function Al(e,t){var r=e.stateNode;if(r===null)return null;var n=eh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var fv=!1;if(Qn)try{var $o={};Object.defineProperty($o,"passive",{get:function(){fv=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{fv=!1}function WM(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var vl=!1,gd=null,yd=!1,hv=null,HM={onError:function(e){vl=!0,gd=e}};function qM(e,t,r,n,i,a,s,o,l){vl=!1,gd=null,WM.apply(HM,arguments)}function KM(e,t,r,n,i,a,s,o,l){if(qM.apply(this,arguments),vl){if(vl){var c=gd;vl=!1,gd=null}else throw Error(B(198));yd||(yd=!0,hv=c)}}function Ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cw(e){if(Ya(e)!==e)throw Error(B(188))}function VM(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return cw(i),e;if(a===n)return cw(i),t;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function xE(e){return e=VM(e),e!==null?bE(e):null}function bE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bE(e);if(t!==null)return t;e=e.sibling}return null}var wE=br.unstable_scheduleCallback,dw=br.unstable_cancelCallback,GM=br.unstable_shouldYield,YM=br.unstable_requestPaint,Qe=br.unstable_now,XM=br.unstable_getCurrentPriorityLevel,_0=br.unstable_ImmediatePriority,_E=br.unstable_UserBlockingPriority,xd=br.unstable_NormalPriority,JM=br.unstable_LowPriority,jE=br.unstable_IdlePriority,Xf=null,Sn=null;function QM(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Xf,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:tD,ZM=Math.log,eD=Math.LN2;function tD(e){return e>>>=0,e===0?32:31-(ZM(e)/eD|0)|0}var sc=64,oc=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=ul(o):(a&=s,a!==0&&(n=ul(a)))}else s=r&~i,s!==0?n=ul(s):a!==0&&(n=ul(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tn(t),i=1<<r,n|=e[r],t&=~i;return n}function rD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-tn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=rD(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function mv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SE(){var e=sc;return sc<<=1,!(sc&4194240)&&(sc=64),e}function Wm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=r}function iD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-tn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function j0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var be=0;function kE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EE,S0,PE,OE,NE,pv=!1,lc=[],Ri=null,$i=null,Li=null,Tl=new Map,Il=new Map,Ni=[],aD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(e,t){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Lo(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=xu(t),t!==null&&S0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sD(e,t,r,n,i){switch(t){case"focusin":return Ri=Lo(Ri,e,t,r,n,i),!0;case"dragenter":return $i=Lo($i,e,t,r,n,i),!0;case"mouseover":return Li=Lo(Li,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Tl.set(a,Lo(Tl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Il.set(a,Lo(Il.get(a)||null,e,t,r,n,i)),!0}return!1}function CE(e){var t=xa(e.target);if(t!==null){var r=Ya(t);if(r!==null){if(t=r.tag,t===13){if(t=yE(r),t!==null){e.blockedOn=t,NE(e.priority,function(){PE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cv=n,r.target.dispatchEvent(n),cv=null}else return t=xu(r),t!==null&&S0(t),e.blockedOn=r,!1;t.shift()}return!0}function hw(e,t,r){Vc(e)&&r.delete(t)}function oD(){pv=!1,Ri!==null&&Vc(Ri)&&(Ri=null),$i!==null&&Vc($i)&&($i=null),Li!==null&&Vc(Li)&&(Li=null),Tl.forEach(hw),Il.forEach(hw)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,pv||(pv=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,oD)))}function Ml(e){function t(i){return zo(i,e)}if(0<lc.length){zo(lc[0],e);for(var r=1;r<lc.length;r++){var n=lc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ri!==null&&zo(Ri,e),$i!==null&&zo($i,e),Li!==null&&zo(Li,e),Tl.forEach(t),Il.forEach(t),r=0;r<Ni.length;r++)n=Ni[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ni.length&&(r=Ni[0],r.blockedOn===null);)CE(r),r.blockedOn===null&&Ni.shift()}var Bs=fi.ReactCurrentBatchConfig,wd=!0;function lD(e,t,r,n){var i=be,a=Bs.transition;Bs.transition=null;try{be=1,k0(e,t,r,n)}finally{be=i,Bs.transition=a}}function uD(e,t,r,n){var i=be,a=Bs.transition;Bs.transition=null;try{be=4,k0(e,t,r,n)}finally{be=i,Bs.transition=a}}function k0(e,t,r,n){if(wd){var i=vv(e,t,r,n);if(i===null)Zm(e,t,n,_d,r),fw(e,n);else if(sD(i,e,t,r,n))n.stopPropagation();else if(fw(e,n),t&4&&-1<aD.indexOf(e)){for(;i!==null;){var a=xu(i);if(a!==null&&EE(a),a=vv(e,t,r,n),a===null&&Zm(e,t,n,_d,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Zm(e,t,n,null,r)}}var _d=null;function vv(e,t,r,n){if(_d=null,e=w0(n),e=xa(e),e!==null)if(t=Ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _d=e,null}function AE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XM()){case _0:return 1;case _E:return 4;case xd:case JM:return 16;case jE:return 536870912;default:return 16}default:return 16}}var Ii=null,E0=null,Gc=null;function TE(){if(Gc)return Gc;var e,t=E0,r=t.length,n,i="value"in Ii?Ii.value:Ii.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Gc=i.slice(e,1<n?1-n:void 0)}function Yc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uc(){return!0}function mw(){return!1}function jr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uc:mw,this.isPropagationStopped=mw,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P0=jr(po),yu=We({},po,{view:0,detail:0}),cD=jr(yu),Hm,qm,Fo,Jf=We({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Hm=e.screenX-Fo.screenX,qm=e.screenY-Fo.screenY):qm=Hm=0,Fo=e),Hm)},movementY:function(e){return"movementY"in e?e.movementY:qm}}),pw=jr(Jf),dD=We({},Jf,{dataTransfer:0}),fD=jr(dD),hD=We({},yu,{relatedTarget:0}),Km=jr(hD),mD=We({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),pD=jr(mD),vD=We({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gD=jr(vD),yD=We({},po,{data:0}),vw=jr(yD),xD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _D(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wD[e])?!!t[e]:!1}function O0(){return _D}var jD=We({},yu,{key:function(e){if(e.key){var t=xD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(e){return e.type==="keypress"?Yc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SD=jr(jD),kD=We({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=jr(kD),ED=We({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),PD=jr(ED),OD=We({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),ND=jr(OD),CD=We({},Jf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AD=jr(CD),TD=[9,13,27,32],N0=Qn&&"CompositionEvent"in window,gl=null;Qn&&"documentMode"in document&&(gl=document.documentMode);var ID=Qn&&"TextEvent"in window&&!gl,IE=Qn&&(!N0||gl&&8<gl&&11>=gl),yw=" ",xw=!1;function ME(e,t){switch(e){case"keyup":return TD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function MD(e,t){switch(e){case"compositionend":return DE(t);case"keypress":return t.which!==32?null:(xw=!0,yw);case"textInput":return e=t.data,e===yw&&xw?null:e;default:return null}}function DD(e,t){if(Ss)return e==="compositionend"||!N0&&ME(e,t)?(e=TE(),Gc=E0=Ii=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IE&&t.locale!=="ko"?null:t.data;default:return null}}var RD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RD[e.type]:t==="textarea"}function RE(e,t,r,n){hE(n),t=jd(t,"onChange"),0<t.length&&(r=new P0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yl=null,Dl=null;function $D(e){VE(e,0)}function Qf(e){var t=Ps(e);if(sE(t))return e}function LD(e,t){if(e==="change")return t}var $E=!1;if(Qn){var Vm;if(Qn){var Gm="oninput"in document;if(!Gm){var ww=document.createElement("div");ww.setAttribute("oninput","return;"),Gm=typeof ww.oninput=="function"}Vm=Gm}else Vm=!1;$E=Vm&&(!document.documentMode||9<document.documentMode)}function _w(){yl&&(yl.detachEvent("onpropertychange",LE),Dl=yl=null)}function LE(e){if(e.propertyName==="value"&&Qf(Dl)){var t=[];RE(t,Dl,e,w0(e)),gE($D,t)}}function zD(e,t,r){e==="focusin"?(_w(),yl=t,Dl=r,yl.attachEvent("onpropertychange",LE)):e==="focusout"&&_w()}function FD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qf(Dl)}function BD(e,t){if(e==="click")return Qf(t)}function UD(e,t){if(e==="input"||e==="change")return Qf(t)}function WD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:WD;function Rl(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qp.call(t,i)||!an(e[i],t[i]))return!1}return!0}function jw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sw(e,t){var r=jw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jw(r)}}function zE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FE(){for(var e=window,t=vd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vd(e.document)}return t}function C0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HD(e){var t=FE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zE(r.ownerDocument.documentElement,r)){if(n!==null&&C0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Sw(r,a);var s=Sw(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qD=Qn&&"documentMode"in document&&11>=document.documentMode,ks=null,gv=null,xl=null,yv=!1;function kw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yv||ks==null||ks!==vd(n)||(n=ks,"selectionStart"in n&&C0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xl&&Rl(xl,n)||(xl=n,n=jd(gv,"onSelect"),0<n.length&&(t=new P0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ks)))}function cc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Es={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Ym={},BE={};Qn&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Zf(e){if(Ym[e])return Ym[e];if(!Es[e])return e;var t=Es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BE)return Ym[e]=t[r];return e}var UE=Zf("animationend"),WE=Zf("animationiteration"),HE=Zf("animationstart"),qE=Zf("transitionend"),KE=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(e,t){KE.set(e,t),Ga(t,[e])}for(var Xm=0;Xm<Ew.length;Xm++){var Jm=Ew[Xm],KD=Jm.toLowerCase(),VD=Jm[0].toUpperCase()+Jm.slice(1);ea(KD,"on"+VD)}ea(UE,"onAnimationEnd");ea(WE,"onAnimationIteration");ea(HE,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(qE,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GD=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Pw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,KM(n,t,void 0,e),e.currentTarget=null}function VE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Pw(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Pw(i,o,c),a=l}}}if(yd)throw e=hv,yd=!1,hv=null,e}function Te(e,t){var r=t[jv];r===void 0&&(r=t[jv]=new Set);var n=e+"__bubble";r.has(n)||(GE(t,e,2,!1),r.add(n))}function Qm(e,t,r){var n=0;t&&(n|=4),GE(r,e,n,t)}var dc="_reactListening"+Math.random().toString(36).slice(2);function $l(e){if(!e[dc]){e[dc]=!0,tE.forEach(function(r){r!=="selectionchange"&&(GD.has(r)||Qm(r,!1,e),Qm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dc]||(t[dc]=!0,Qm("selectionchange",!1,t))}}function GE(e,t,r,n){switch(AE(t)){case 1:var i=lD;break;case 4:i=uD;break;default:i=k0}r=i.bind(null,t,r,e),i=void 0,!fv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Zm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=xa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}gE(function(){var c=a,d=w0(r),f=[];e:{var h=KE.get(e);if(h!==void 0){var p=P0,v=e;switch(e){case"keypress":if(Yc(r)===0)break e;case"keydown":case"keyup":p=SD;break;case"focusin":v="focus",p=Km;break;case"focusout":v="blur",p=Km;break;case"beforeblur":case"afterblur":p=Km;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PD;break;case UE:case WE:case HE:p=pD;break;case qE:p=ND;break;case"scroll":p=cD;break;case"wheel":p=AD;break;case"copy":case"cut":case"paste":p=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gw}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Al(w,x),_!=null&&g.push(Ll(w,_,b)))),y)break;w=w.return}0<g.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==cv&&(v=r.relatedTarget||r.fromElement)&&(xa(v)||v[Zn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=c,v=v?xa(v):null,v!==null&&(y=Ya(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(g=pw,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=gw,_="onPointerLeave",x="onPointerEnter",w="pointer"),y=p==null?h:Ps(p),b=v==null?h:Ps(v),h=new g(_,w+"leave",p,r,d),h.target=y,h.relatedTarget=b,_=null,xa(d)===c&&(g=new g(x,w+"enter",v,r,d),g.target=b,g.relatedTarget=y,_=g),y=_,p&&v)t:{for(g=p,x=v,w=0,b=g;b;b=ls(b))w++;for(b=0,_=x;_;_=ls(_))b++;for(;0<w-b;)g=ls(g),w--;for(;0<b-w;)x=ls(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=ls(g),x=ls(x)}g=null}else g=null;p!==null&&Ow(f,h,p,g,!1),v!==null&&y!==null&&Ow(f,y,v,g,!0)}}e:{if(h=c?Ps(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=LD;else if(bw(h))if($E)j=UD;else{j=FD;var S=zD}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=BD);if(j&&(j=j(e,c))){RE(f,j,r,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&av(h,"number",h.value)}switch(S=c?Ps(c):window,e){case"focusin":(bw(S)||S.contentEditable==="true")&&(ks=S,gv=c,xl=null);break;case"focusout":xl=gv=ks=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,kw(f,r,d);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":kw(f,r,d)}var k;if(N0)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ss?ME(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(IE&&r.locale!=="ko"&&(Ss||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ss&&(k=TE()):(Ii=d,E0="value"in Ii?Ii.value:Ii.textContent,Ss=!0)),S=jd(c,E),0<S.length&&(E=new vw(E,e,null,r,d),f.push({event:E,listeners:S}),k?E.data=k:(k=DE(r),k!==null&&(E.data=k)))),(k=ID?MD(e,r):DD(e,r))&&(c=jd(c,"onBeforeInput"),0<c.length&&(d=new vw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=k))}VE(f,t)})}function Ll(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Al(e,r),a!=null&&n.unshift(Ll(e,a,i)),a=Al(e,t),a!=null&&n.push(Ll(e,a,i))),e=e.return}return n}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ow(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Al(r,a),l!=null&&s.unshift(Ll(r,l,o))):i||(l=Al(r,a),l!=null&&s.push(Ll(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var YD=/\r\n?/g,XD=/\u0000|\uFFFD/g;function Nw(e){return(typeof e=="string"?e:""+e).replace(YD,`
`).replace(XD,"")}function fc(e,t,r){if(t=Nw(t),Nw(e)!==t&&r)throw Error(B(425))}function Sd(){}var xv=null,bv=null;function wv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _v=typeof setTimeout=="function"?setTimeout:void 0,JD=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(e){return Cw.resolve(null).then(e).catch(ZD)}:_v;function ZD(e){setTimeout(function(){throw e})}function ep(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ml(t)}function zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Aw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),xn="__reactFiber$"+vo,zl="__reactProps$"+vo,Zn="__reactContainer$"+vo,jv="__reactEvents$"+vo,e5="__reactListeners$"+vo,t5="__reactHandles$"+vo;function xa(e){var t=e[xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zn]||r[xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Aw(e);e!==null;){if(r=e[xn])return r;e=Aw(e)}return t}e=r,r=e.parentNode}return null}function xu(e){return e=e[xn]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function eh(e){return e[zl]||null}var Sv=[],Os=-1;function ta(e){return{current:e}}function De(e){0>Os||(e.current=Sv[Os],Sv[Os]=null,Os--)}function Oe(e,t){Os++,Sv[Os]=e.current,e.current=t}var Gi={},zt=ta(Gi),ar=ta(!1),Ta=Gi;function Xs(e,t){var r=e.type.contextTypes;if(!r)return Gi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sr(e){return e=e.childContextTypes,e!=null}function kd(){De(ar),De(zt)}function Tw(e,t,r){if(zt.current!==Gi)throw Error(B(168));Oe(zt,t),Oe(ar,r)}function YE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,zM(e)||"Unknown",i));return We({},r,n)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,Ta=zt.current,Oe(zt,e),Oe(ar,ar.current),!0}function Iw(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=YE(e,t,Ta),n.__reactInternalMemoizedMergedChildContext=e,De(ar),De(zt),Oe(zt,e)):De(ar),Oe(ar,r)}var Fn=null,th=!1,tp=!1;function XE(e){Fn===null?Fn=[e]:Fn.push(e)}function r5(e){th=!0,XE(e)}function ra(){if(!tp&&Fn!==null){tp=!0;var e=0,t=be;try{var r=Fn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fn=null,th=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(e+1)),wE(_0,ra),i}finally{be=t,tp=!1}}return null}var Ns=[],Cs=0,Pd=null,Od=0,Nr=[],Cr=0,Ia=null,Wn=1,Hn="";function da(e,t){Ns[Cs++]=Od,Ns[Cs++]=Pd,Pd=e,Od=t}function JE(e,t,r){Nr[Cr++]=Wn,Nr[Cr++]=Hn,Nr[Cr++]=Ia,Ia=e;var n=Wn;e=Hn;var i=32-tn(n)-1;n&=~(1<<i),r+=1;var a=32-tn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Wn=1<<32-tn(t)+i|r<<i|n,Hn=a+e}else Wn=1<<a|r<<i|n,Hn=e}function A0(e){e.return!==null&&(da(e,1),JE(e,1,0))}function T0(e){for(;e===Pd;)Pd=Ns[--Cs],Ns[Cs]=null,Od=Ns[--Cs],Ns[Cs]=null;for(;e===Ia;)Ia=Nr[--Cr],Nr[Cr]=null,Hn=Nr[--Cr],Nr[Cr]=null,Wn=Nr[--Cr],Nr[Cr]=null}var gr=null,pr=null,Le=!1,Jr=null;function QE(e,t){var r=Ar(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,pr=zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ia!==null?{id:Wn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ar(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gr=e,pr=null,!0):!1;default:return!1}}function kv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ev(e){if(Le){var t=pr;if(t){var r=t;if(!Mw(e,t)){if(kv(e))throw Error(B(418));t=zi(r.nextSibling);var n=gr;t&&Mw(e,t)?QE(n,r):(e.flags=e.flags&-4097|2,Le=!1,gr=e)}}else{if(kv(e))throw Error(B(418));e.flags=e.flags&-4097|2,Le=!1,gr=e}}}function Dw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function hc(e){if(e!==gr)return!1;if(!Le)return Dw(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wv(e.type,e.memoizedProps)),t&&(t=pr)){if(kv(e))throw ZE(),Error(B(418));for(;t;)QE(e,t),t=zi(t.nextSibling)}if(Dw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pr=zi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=gr?zi(e.stateNode.nextSibling):null;return!0}function ZE(){for(var e=pr;e;)e=zi(e.nextSibling)}function Js(){pr=gr=null,Le=!1}function I0(e){Jr===null?Jr=[e]:Jr.push(e)}var n5=fi.ReactCurrentBatchConfig;function Bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function mc(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rw(e){var t=e._init;return t(e._payload)}function eP(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Wi(x,w),x.index=0,x.sibling=null,x}function a(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,_){return w===null||w.tag!==6?(w=lp(b,x.mode,_),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,_){var j=b.type;return j===js?d(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ki&&Rw(j)===w.type)?(_=i(w,b.props),_.ref=Bo(x,w,b),_.return=x,_):(_=rd(b.type,b.key,b.props,null,x.mode,_),_.ref=Bo(x,w,b),_.return=x,_)}function c(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=up(b,x.mode,_),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function d(x,w,b,_,j){return w===null||w.tag!==7?(w=Pa(b,x.mode,_,j),w.return=x,w):(w=i(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=lp(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nc:return b=rd(w.type,w.key,w.props,null,x.mode,b),b.ref=Bo(x,null,w),b.return=x,b;case _s:return w=up(w,x.mode,b),w.return=x,w;case ki:var _=w._init;return f(x,_(w._payload),b)}if(ll(w)||Ro(w))return w=Pa(w,x.mode,b,null),w.return=x,w;mc(x,w)}return null}function h(x,w,b,_){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:o(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:return b.key===j?l(x,w,b,_):null;case _s:return b.key===j?c(x,w,b,_):null;case ki:return j=b._init,h(x,w,j(b._payload),_)}if(ll(b)||Ro(b))return j!==null?null:d(x,w,b,_,null);mc(x,b)}return null}function p(x,w,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(w,x,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nc:return x=x.get(_.key===null?b:_.key)||null,l(w,x,_,j);case _s:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,j);case ki:var S=_._init;return p(x,w,b,S(_._payload),j)}if(ll(_)||Ro(_))return x=x.get(b)||null,d(w,x,_,j,null);mc(w,_)}return null}function v(x,w,b,_){for(var j=null,S=null,k=w,E=w=0,O=null;k!==null&&E<b.length;E++){k.index>E?(O=k,k=null):O=k.sibling;var C=h(x,k,b[E],_);if(C===null){k===null&&(k=O);break}e&&k&&C.alternate===null&&t(x,k),w=a(C,w,E),S===null?j=C:S.sibling=C,S=C,k=O}if(E===b.length)return r(x,k),Le&&da(x,E),j;if(k===null){for(;E<b.length;E++)k=f(x,b[E],_),k!==null&&(w=a(k,w,E),S===null?j=k:S.sibling=k,S=k);return Le&&da(x,E),j}for(k=n(x,k);E<b.length;E++)O=p(k,x,E,b[E],_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?E:O.key),w=a(O,w,E),S===null?j=O:S.sibling=O,S=O);return e&&k.forEach(function(I){return t(x,I)}),Le&&da(x,E),j}function g(x,w,b,_){var j=Ro(b);if(typeof j!="function")throw Error(B(150));if(b=j.call(b),b==null)throw Error(B(151));for(var S=j=null,k=w,E=w=0,O=null,C=b.next();k!==null&&!C.done;E++,C=b.next()){k.index>E?(O=k,k=null):O=k.sibling;var I=h(x,k,C.value,_);if(I===null){k===null&&(k=O);break}e&&k&&I.alternate===null&&t(x,k),w=a(I,w,E),S===null?j=I:S.sibling=I,S=I,k=O}if(C.done)return r(x,k),Le&&da(x,E),j;if(k===null){for(;!C.done;E++,C=b.next())C=f(x,C.value,_),C!==null&&(w=a(C,w,E),S===null?j=C:S.sibling=C,S=C);return Le&&da(x,E),j}for(k=n(x,k);!C.done;E++,C=b.next())C=p(k,x,E,C.value,_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),w=a(C,w,E),S===null?j=C:S.sibling=C,S=C);return e&&k.forEach(function(P){return t(x,P)}),Le&&da(x,E),j}function y(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===js&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:e:{for(var j=b.key,S=w;S!==null;){if(S.key===j){if(j=b.type,j===js){if(S.tag===7){r(x,S.sibling),w=i(S,b.props.children),w.return=x,x=w;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ki&&Rw(j)===S.type){r(x,S.sibling),w=i(S,b.props),w.ref=Bo(x,S,b),w.return=x,x=w;break e}r(x,S);break}else t(x,S);S=S.sibling}b.type===js?(w=Pa(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=rd(b.type,b.key,b.props,null,x.mode,_),_.ref=Bo(x,w,b),_.return=x,x=_)}return s(x);case _s:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=up(b,x.mode,_),w.return=x,x=w}return s(x);case ki:return S=b._init,y(x,w,S(b._payload),_)}if(ll(b))return v(x,w,b,_);if(Ro(b))return g(x,w,b,_);mc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,b),w.return=x,x=w):(r(x,w),w=lp(b,x.mode,_),w.return=x,x=w),s(x)):r(x,w)}return y}var Qs=eP(!0),tP=eP(!1),Nd=ta(null),Cd=null,As=null,M0=null;function D0(){M0=As=Cd=null}function R0(e){var t=Nd.current;De(Nd),e._currentValue=t}function Pv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Us(e,t){Cd=e,M0=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rr=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(M0!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(Cd===null)throw Error(B(308));As=e,Cd.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var ba=null;function $0(e){ba===null?ba=[e]:ba.push(e)}function rP(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,$0(t)):(r.next=i.next,i.next=r),t.interleaved=r,ei(e,n)}function ei(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ei=!1;function L0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ei(e,r)}return i=n.interleaved,i===null?(t.next=t,$0(n)):(t.next=i.next,i.next=t),n.interleaved=t,ei(e,r)}function Xc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,j0(e,r)}}function $w(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ad(e,t,r,n){var i=e.updateQueue;Ei=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,g=o;switch(h=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=We({},f,h);break e;case 2:Ei=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Da|=s,e.lanes=s,e.memoizedState=f}}function Lw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var bu={},kn=ta(bu),Fl=ta(bu),Bl=ta(bu);function wa(e){if(e===bu)throw Error(B(174));return e}function z0(e,t){switch(Oe(Bl,t),Oe(Fl,e),Oe(kn,bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ov(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ov(t,e)}De(kn),Oe(kn,t)}function Zs(){De(kn),De(Fl),De(Bl)}function iP(e){wa(Bl.current);var t=wa(kn.current),r=ov(t,e.type);t!==r&&(Oe(Fl,e),Oe(kn,r))}function F0(e){Fl.current===e&&(De(kn),De(Fl))}var Be=ta(0);function Td(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rp=[];function B0(){for(var e=0;e<rp.length;e++)rp[e]._workInProgressVersionPrimary=null;rp.length=0}var Jc=fi.ReactCurrentDispatcher,np=fi.ReactCurrentBatchConfig,Ma=0,Ue=null,ct=null,bt=null,Id=!1,bl=!1,Ul=0,i5=0;function Tt(){throw Error(B(321))}function U0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function W0(e,t,r,n,i,a){if(Ma=a,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jc.current=e===null||e.memoizedState===null?l5:u5,e=r(n,i),bl){a=0;do{if(bl=!1,Ul=0,25<=a)throw Error(B(301));a+=1,bt=ct=null,t.updateQueue=null,Jc.current=c5,e=r(n,i)}while(bl)}if(Jc.current=Md,t=ct!==null&&ct.next!==null,Ma=0,bt=ct=Ue=null,Id=!1,t)throw Error(B(300));return e}function H0(){var e=Ul!==0;return Ul=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ue.memoizedState=bt=e:bt=bt.next=e,bt}function Rr(){if(ct===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=bt===null?Ue.memoizedState:bt.next;if(t!==null)bt=t,ct=e;else{if(e===null)throw Error(B(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},bt===null?Ue.memoizedState=bt=e:bt=bt.next=e}return bt}function Wl(e,t){return typeof t=="function"?t(e):t}function ip(e){var t=Rr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=ct,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Ma&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Ue.lanes|=d,Da|=d}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,an(n,t.memoizedState)||(rr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ue.lanes|=a,Da|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ap(e){var t=Rr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);an(a,t.memoizedState)||(rr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function aP(){}function sP(e,t){var r=Ue,n=Rr(),i=t(),a=!an(n.memoizedState,i);if(a&&(n.memoizedState=i,rr=!0),n=n.queue,q0(uP.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,lP.bind(null,r,n,i,t),void 0,null),_t===null)throw Error(B(349));Ma&30||oP(r,t,i)}return i}function oP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lP(e,t,r,n){t.value=r,t.getSnapshot=n,cP(t)&&dP(e)}function uP(e,t,r){return r(function(){cP(t)&&dP(e)})}function cP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function dP(e){var t=ei(e,1);t!==null&&rn(t,e,1,-1)}function zw(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t.queue=e,e=e.dispatch=o5.bind(null,Ue,e),[t.memoizedState,e]}function Hl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fP(){return Rr().memoizedState}function Qc(e,t,r,n){var i=gn();Ue.flags|=e,i.memoizedState=Hl(1|t,r,void 0,n===void 0?null:n)}function rh(e,t,r,n){var i=Rr();n=n===void 0?null:n;var a=void 0;if(ct!==null){var s=ct.memoizedState;if(a=s.destroy,n!==null&&U0(n,s.deps)){i.memoizedState=Hl(t,r,a,n);return}}Ue.flags|=e,i.memoizedState=Hl(1|t,r,a,n)}function Fw(e,t){return Qc(8390656,8,e,t)}function q0(e,t){return rh(2048,8,e,t)}function hP(e,t){return rh(4,2,e,t)}function mP(e,t){return rh(4,4,e,t)}function pP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vP(e,t,r){return r=r!=null?r.concat([e]):null,rh(4,4,pP.bind(null,t,e),r)}function K0(){}function gP(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yP(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xP(e,t,r){return Ma&21?(an(r,t)||(r=SE(),Ue.lanes|=r,Da|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=r)}function a5(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=np.transition;np.transition={};try{e(!1),t()}finally{be=r,np.transition=n}}function bP(){return Rr().memoizedState}function s5(e,t,r){var n=Ui(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wP(e))_P(t,r);else if(r=rP(e,t,r,n),r!==null){var i=Kt();rn(r,e,n,i),jP(r,t,n)}}function o5(e,t,r){var n=Ui(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wP(e))_P(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,an(o,s)){var l=t.interleaved;l===null?(i.next=i,$0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=rP(e,t,i,n),r!==null&&(i=Kt(),rn(r,e,n,i),jP(r,t,n))}}function wP(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function _P(e,t){bl=Id=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,j0(e,r)}}var Md={readContext:Dr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},l5={readContext:Dr,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:Fw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qc(4194308,4,pP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qc(4,2,e,t)},useMemo:function(e,t){var r=gn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=s5.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:zw,useDebugValue:K0,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=zw(!1),t=e[0];return e=a5.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,i=gn();if(Le){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),_t===null)throw Error(B(349));Ma&30||oP(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Fw(uP.bind(null,n,a,e),[e]),n.flags|=2048,Hl(9,lP.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=gn(),t=_t.identifierPrefix;if(Le){var r=Hn,n=Wn;r=(n&~(1<<32-tn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ul++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=i5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u5={readContext:Dr,useCallback:gP,useContext:Dr,useEffect:q0,useImperativeHandle:vP,useInsertionEffect:hP,useLayoutEffect:mP,useMemo:yP,useReducer:ip,useRef:fP,useState:function(){return ip(Wl)},useDebugValue:K0,useDeferredValue:function(e){var t=Rr();return xP(t,ct.memoizedState,e)},useTransition:function(){var e=ip(Wl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:aP,useSyncExternalStore:sP,useId:bP,unstable_isNewReconciler:!1},c5={readContext:Dr,useCallback:gP,useContext:Dr,useEffect:q0,useImperativeHandle:vP,useInsertionEffect:hP,useLayoutEffect:mP,useMemo:yP,useReducer:ap,useRef:fP,useState:function(){return ap(Wl)},useDebugValue:K0,useDeferredValue:function(e){var t=Rr();return ct===null?t.memoizedState=e:xP(t,ct.memoizedState,e)},useTransition:function(){var e=ap(Wl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:aP,useSyncExternalStore:sP,useId:bP,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ov(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:We({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nh={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kt(),i=Ui(e),a=Vn(n,i);a.payload=t,r!=null&&(a.callback=r),t=Fi(e,a,i),t!==null&&(rn(t,e,i,n),Xc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kt(),i=Ui(e),a=Vn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Fi(e,a,i),t!==null&&(rn(t,e,i,n),Xc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kt(),n=Ui(e),i=Vn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Fi(e,i,n),t!==null&&(rn(t,e,n,r),Xc(t,e,n))}};function Bw(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Rl(r,n)||!Rl(i,a):!0}function SP(e,t,r){var n=!1,i=Gi,a=t.contextType;return typeof a=="object"&&a!==null?a=Dr(a):(i=sr(t)?Ta:zt.current,n=t.contextTypes,a=(n=n!=null)?Xs(e,i):Gi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Uw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nh.enqueueReplaceState(t,t.state,null)}function Nv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},L0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Dr(a):(a=sr(t)?Ta:zt.current,i.context=Xs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ov(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nh.enqueueReplaceState(i,i.state,null),Ad(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function eo(e,t){try{var r="",n=t;do r+=LM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function sp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var d5=typeof WeakMap=="function"?WeakMap:Map;function kP(e,t,r){r=Vn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rd||(Rd=!0,Fv=n),Cv(e,t)},r}function EP(e,t,r){r=Vn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Cv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Cv(e,t),typeof n!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Ww(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new d5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=k5.bind(null,e,t,r),t.then(e,e))}function Hw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vn(-1,1),t.tag=2,Fi(r,t,1))),r.lanes|=1),e)}var f5=fi.ReactCurrentOwner,rr=!1;function Wt(e,t,r,n){t.child=e===null?tP(t,null,r,n):Qs(t,e.child,r,n)}function Kw(e,t,r,n,i){r=r.render;var a=t.ref;return Us(t,i),n=W0(e,t,r,n,a,i),r=H0(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Le&&r&&A0(t),t.flags|=1,Wt(e,t,n,i),t.child)}function Vw(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!ey(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,PP(e,t,a,n,i)):(e=rd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Rl,r(s,n)&&e.ref===t.ref)return ti(e,t,i)}return t.flags|=1,e=Wi(a,n),e.ref=t.ref,e.return=t,t.child=e}function PP(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Rl(a,n)&&e.ref===t.ref)if(rr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(rr=!0);else return t.lanes=e.lanes,ti(e,t,i)}return Av(e,t,r,n,i)}function OP(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Is,hr),hr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Is,hr),hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Oe(Is,hr),hr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Oe(Is,hr),hr|=n;return Wt(e,t,i,r),t.child}function NP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Av(e,t,r,n,i){var a=sr(r)?Ta:zt.current;return a=Xs(t,a),Us(t,i),r=W0(e,t,r,n,a,i),n=H0(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Le&&n&&A0(t),t.flags|=1,Wt(e,t,r,i),t.child)}function Gw(e,t,r,n,i){if(sr(r)){var a=!0;Ed(t)}else a=!1;if(Us(t,i),t.stateNode===null)Zc(e,t),SP(t,r,n),Nv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Dr(c):(c=sr(r)?Ta:zt.current,c=Xs(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Uw(t,s,n,c),Ei=!1;var h=t.memoizedState;s.state=h,Ad(t,n,s,i),l=t.memoizedState,o!==n||h!==l||ar.current||Ei?(typeof d=="function"&&(Ov(t,r,d,n),l=t.memoizedState),(o=Ei||Bw(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,nP(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Gr(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Dr(l):(l=sr(r)?Ta:zt.current,l=Xs(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Uw(t,s,n,l),Ei=!1,h=t.memoizedState,s.state=h,Ad(t,n,s,i);var v=t.memoizedState;o!==f||h!==v||ar.current||Ei?(typeof p=="function"&&(Ov(t,r,p,n),v=t.memoizedState),(c=Ei||Bw(t,r,c,n,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Tv(e,t,r,n,a,i)}function Tv(e,t,r,n,i,a){NP(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Iw(t,r,!1),ti(e,t,a);n=t.stateNode,f5.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Qs(t,e.child,null,a),t.child=Qs(t,null,o,a)):Wt(e,t,o,a),t.memoizedState=n.state,i&&Iw(t,r,!0),t.child}function CP(e){var t=e.stateNode;t.pendingContext?Tw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tw(e,t.context,!1),z0(e,t.containerInfo)}function Yw(e,t,r,n,i){return Js(),I0(i),t.flags|=256,Wt(e,t,r,n),t.child}var Iv={dehydrated:null,treeContext:null,retryLane:0};function Mv(e){return{baseLanes:e,cachePool:null,transitions:null}}function AP(e,t,r){var n=t.pendingProps,i=Be.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(Be,i&1),e===null)return Ev(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=sh(s,n,0,null),e=Pa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mv(r),t.memoizedState=Iv,e):V0(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return h5(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Wi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Wi(o,a):(a=Pa(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Mv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Iv,n}return a=e.child,e=a.sibling,n=Wi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function V0(e,t){return t=sh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pc(e,t,r,n){return n!==null&&I0(n),Qs(t,e.child,null,r),e=V0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h5(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=sp(Error(B(422))),pc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=sh({mode:"visible",children:n.children},i,0,null),a=Pa(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qs(t,e.child,null,s),t.child.memoizedState=Mv(s),t.memoizedState=Iv,a);if(!(t.mode&1))return pc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(B(419)),n=sp(a,n,void 0),pc(e,t,s,n)}if(o=(s&e.childLanes)!==0,rr||o){if(n=_t,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ei(e,i),rn(n,e,i,-1))}return Z0(),n=sp(Error(B(421))),pc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=E5.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pr=zi(i.nextSibling),gr=t,Le=!0,Jr=null,e!==null&&(Nr[Cr++]=Wn,Nr[Cr++]=Hn,Nr[Cr++]=Ia,Wn=e.id,Hn=e.overflow,Ia=t),t=V0(t,n.children),t.flags|=4096,t)}function Xw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pv(e.return,t,r)}function op(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function TP(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Wt(e,t,n.children,r),n=Be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xw(e,r,t);else if(e.tag===19)Xw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Be,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Td(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),op(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Td(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}op(t,!0,r,null,a);break;case"together":op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ti(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=Wi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function m5(e,t,r){switch(t.tag){case 3:CP(t),Js();break;case 5:iP(t);break;case 1:sr(t.type)&&Ed(t);break;case 4:z0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Oe(Nd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Be,Be.current&1),t.flags|=128,null):r&t.child.childLanes?AP(e,t,r):(Oe(Be,Be.current&1),e=ti(e,t,r),e!==null?e.sibling:null);Oe(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return TP(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,OP(e,t,r)}return ti(e,t,r)}var IP,Dv,MP,DP;IP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dv=function(){};MP=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,wa(kn.current);var a=null;switch(r){case"input":i=nv(e,i),n=nv(e,n),a=[];break;case"select":i=We({},i,{value:void 0}),n=We({},n,{value:void 0}),a=[];break;case"textarea":i=sv(e,i),n=sv(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sd)}lv(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nl.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};DP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Uo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function p5(e,t,r){var n=t.pendingProps;switch(T0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return sr(t.type)&&kd(),It(t),null;case 3:return n=t.stateNode,Zs(),De(ar),De(zt),B0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(Wv(Jr),Jr=null))),Dv(e,t),It(t),null;case 5:F0(t);var i=wa(Bl.current);if(r=t.type,e!==null&&t.stateNode!=null)MP(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return It(t),null}if(e=wa(kn.current),hc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[xn]=t,n[zl]=a,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(i=0;i<cl.length;i++)Te(cl[i],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":aw(n,a),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Te("invalid",n);break;case"textarea":ow(n,a),Te("invalid",n)}lv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&fc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fc(n.textContent,o,e),i=["children",""+o]):Nl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Te("scroll",n)}switch(r){case"input":ic(n),sw(n,a,!0);break;case"textarea":ic(n),lw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[xn]=t,e[zl]=n,IP(e,t,!1,!1),t.stateNode=e;e:{switch(s=uv(r,n),r){case"dialog":Te("cancel",e),Te("close",e),i=n;break;case"iframe":case"object":case"embed":Te("load",e),i=n;break;case"video":case"audio":for(i=0;i<cl.length;i++)Te(cl[i],e);i=n;break;case"source":Te("error",e),i=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=n;break;case"details":Te("toggle",e),i=n;break;case"input":aw(e,n),i=nv(e,n),Te("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=We({},n,{value:void 0}),Te("invalid",e);break;case"textarea":ow(e,n),i=sv(e,n),Te("invalid",e);break;default:i=n}lv(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?fE(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cE(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cl(e,l):typeof l=="number"&&Cl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Te("scroll",e):l!=null&&g0(e,a,l,s))}switch(r){case"input":ic(e),sw(e,n,!1);break;case"textarea":ic(e),lw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ls(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ls(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)DP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=wa(Bl.current),wa(kn.current),hc(t)){if(n=t.stateNode,r=t.memoizedProps,n[xn]=t,(a=n.nodeValue!==r)&&(e=gr,e!==null))switch(e.tag){case 3:fc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xn]=t,t.stateNode=n}return It(t),null;case 13:if(De(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&pr!==null&&t.mode&1&&!(t.flags&128))ZE(),Js(),t.flags|=98560,a=!1;else if(a=hc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[xn]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),a=!1}else Jr!==null&&(Wv(Jr),Jr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?ft===0&&(ft=3):Z0())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return Zs(),Dv(e,t),e===null&&$l(t.stateNode.containerInfo),It(t),null;case 10:return R0(t.type._context),It(t),null;case 17:return sr(t.type)&&kd(),It(t),null;case 19:if(De(Be),a=t.memoizedState,a===null)return It(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Uo(a,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Td(e),s!==null){for(t.flags|=128,Uo(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Be,Be.current&1|2),t.child}e=e.sibling}a.tail!==null&&Qe()>to&&(t.flags|=128,n=!0,Uo(a,!1),t.lanes=4194304)}else{if(!n)if(e=Td(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Uo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Le)return It(t),null}else 2*Qe()-a.renderingStartTime>to&&r!==1073741824&&(t.flags|=128,n=!0,Uo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,r=Be.current,Oe(Be,n?r&1|2:r&1),t):(It(t),null);case 22:case 23:return Q0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hr&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function v5(e,t){switch(T0(t),t.tag){case 1:return sr(t.type)&&kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zs(),De(ar),De(zt),B0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F0(t),null;case 13:if(De(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Be),null;case 4:return Zs(),null;case 10:return R0(t.type._context),null;case 22:case 23:return Q0(),null;case 24:return null;default:return null}}var vc=!1,Dt=!1,g5=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ts(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Rv(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var Jw=!1;function y5(e,t){if(xv=wd,e=FE(),C0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bv={focusedElem:e,selectionRange:r},wd=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Gr(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){Ve(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=Jw,Jw=!1,v}function wl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Rv(t,r,a)}i=i.next}while(i!==n)}}function ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $v(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function RP(e){var t=e.alternate;t!==null&&(e.alternate=null,RP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[zl],delete t[jv],delete t[e5],delete t[t5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $P(e){return e.tag===5||e.tag===3||e.tag===4}function Qw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$P(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sd));else if(n!==4&&(e=e.child,e!==null))for(Lv(e,t,r),e=e.sibling;e!==null;)Lv(e,t,r),e=e.sibling}function zv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zv(e,t,r),e=e.sibling;e!==null;)zv(e,t,r),e=e.sibling}var Pt=null,Yr=!1;function wi(e,t,r){for(r=r.child;r!==null;)LP(e,t,r),r=r.sibling}function LP(e,t,r){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Xf,r)}catch{}switch(r.tag){case 5:Dt||Ts(r,t);case 6:var n=Pt,i=Yr;Pt=null,wi(e,t,r),Pt=n,Yr=i,Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(Yr?(e=Pt,r=r.stateNode,e.nodeType===8?ep(e.parentNode,r):e.nodeType===1&&ep(e,r),Ml(e)):ep(Pt,r.stateNode));break;case 4:n=Pt,i=Yr,Pt=r.stateNode.containerInfo,Yr=!0,wi(e,t,r),Pt=n,Yr=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Rv(r,t,s),i=i.next}while(i!==n)}wi(e,t,r);break;case 1:if(!Dt&&(Ts(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ve(r,t,o)}wi(e,t,r);break;case 21:wi(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,wi(e,t,r),Dt=n):wi(e,t,r);break;default:wi(e,t,r)}}function Zw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new g5),t.forEach(function(n){var i=P5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Pt=o.stateNode,Yr=!1;break e;case 3:Pt=o.stateNode.containerInfo,Yr=!0;break e;case 4:Pt=o.stateNode.containerInfo,Yr=!0;break e}o=o.return}if(Pt===null)throw Error(B(160));LP(a,s,i),Pt=null,Yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zP(t,e),t=t.sibling}function zP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),fn(e),n&4){try{wl(3,e,e.return),ih(3,e)}catch(g){Ve(e,e.return,g)}try{wl(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:Hr(t,e),fn(e),n&512&&r!==null&&Ts(r,r.return);break;case 5:if(Hr(t,e),fn(e),n&512&&r!==null&&Ts(r,r.return),e.flags&32){var i=e.stateNode;try{Cl(i,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&oE(i,a),uv(o,s);var c=uv(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?fE(i,f):d==="dangerouslySetInnerHTML"?cE(i,f):d==="children"?Cl(i,f):g0(i,d,f,c)}switch(o){case"input":iv(i,a);break;case"textarea":lE(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ls(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ls(i,!!a.multiple,a.defaultValue,!0):Ls(i,!!a.multiple,a.multiple?[]:"",!1))}i[zl]=a}catch(g){Ve(e,e.return,g)}}break;case 6:if(Hr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ve(e,e.return,g)}}break;case 3:if(Hr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:Hr(t,e),fn(e);break;case 13:Hr(t,e),fn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(X0=Qe())),n&4&&Zw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(c=Dt)||d,Hr(t,e),Dt=c):Hr(t,e),fn(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:Ts(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:Ts(h,h.return);break;case 22:if(h.memoizedState!==null){t1(f);continue}}p!==null?(p.return=h,Y=p):t1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=dE("display",s))}catch(g){Ve(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hr(t,e),fn(e),n&4&&Zw(e);break;case 21:break;default:Hr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($P(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cl(i,""),n.flags&=-33);var a=Qw(e);zv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Qw(e);Lv(e,o,s);break;default:throw Error(B(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x5(e,t,r){Y=e,FP(e)}function FP(e,t,r){for(var n=(e.mode&1)!==0;Y!==null;){var i=Y,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||vc;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Dt;o=vc;var c=Dt;if(vc=s,(Dt=l)&&!c)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?r1(i):l!==null?(l.return=s,Y=l):r1(i);for(;a!==null;)Y=a,FP(a),a=a.sibling;Y=i,vc=o,Dt=c}e1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Y=a):e1(e)}}function e1(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||ih(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Lw(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lw(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Dt||t.flags&512&&$v(t)}catch(h){Ve(t,t.return,h)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function t1(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function r1(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ih(4,t)}catch(l){Ve(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Ve(t,i,l)}}var a=t.return;try{$v(t)}catch(l){Ve(t,a,l)}break;case 5:var s=t.return;try{$v(t)}catch(l){Ve(t,s,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){Y=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Y=o;break}Y=t.return}}var b5=Math.ceil,Dd=fi.ReactCurrentDispatcher,G0=fi.ReactCurrentOwner,Ir=fi.ReactCurrentBatchConfig,he=0,_t=null,rt=null,Nt=0,hr=0,Is=ta(0),ft=0,ql=null,Da=0,ah=0,Y0=0,_l=null,er=null,X0=0,to=1/0,Ln=null,Rd=!1,Fv=null,Bi=null,gc=!1,Mi=null,$d=0,jl=0,Bv=null,ed=-1,td=0;function Kt(){return he&6?Qe():ed!==-1?ed:ed=Qe()}function Ui(e){return e.mode&1?he&2&&Nt!==0?Nt&-Nt:n5.transition!==null?(td===0&&(td=SE()),td):(e=be,e!==0||(e=window.event,e=e===void 0?16:AE(e.type)),e):1}function rn(e,t,r,n){if(50<jl)throw jl=0,Bv=null,Error(B(185));gu(e,r,n),(!(he&2)||e!==_t)&&(e===_t&&(!(he&2)&&(ah|=r),ft===4&&Ci(e,Nt)),or(e,n),r===1&&he===0&&!(t.mode&1)&&(to=Qe()+500,th&&ra()))}function or(e,t){var r=e.callbackNode;nD(e,t);var n=bd(e,e===_t?Nt:0);if(n===0)r!==null&&dw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dw(r),t===1)e.tag===0?r5(n1.bind(null,e)):XE(n1.bind(null,e)),QD(function(){!(he&6)&&ra()}),r=null;else{switch(kE(n)){case 1:r=_0;break;case 4:r=_E;break;case 16:r=xd;break;case 536870912:r=jE;break;default:r=xd}r=GP(r,BP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function BP(e,t){if(ed=-1,td=0,he&6)throw Error(B(327));var r=e.callbackNode;if(Ws()&&e.callbackNode!==r)return null;var n=bd(e,e===_t?Nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ld(e,n);else{t=n;var i=he;he|=2;var a=WP();(_t!==e||Nt!==t)&&(Ln=null,to=Qe()+500,Ea(e,t));do try{j5();break}catch(o){UP(e,o)}while(!0);D0(),Dd.current=a,he=i,rt!==null?t=0:(_t=null,Nt=0,t=ft)}if(t!==0){if(t===2&&(i=mv(e),i!==0&&(n=i,t=Uv(e,i))),t===1)throw r=ql,Ea(e,0),Ci(e,n),or(e,Qe()),r;if(t===6)Ci(e,n);else{if(i=e.current.alternate,!(n&30)&&!w5(i)&&(t=Ld(e,n),t===2&&(a=mv(e),a!==0&&(n=a,t=Uv(e,a))),t===1))throw r=ql,Ea(e,0),Ci(e,n),or(e,Qe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:fa(e,er,Ln);break;case 3:if(Ci(e,n),(n&130023424)===n&&(t=X0+500-Qe(),10<t)){if(bd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Kt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_v(fa.bind(null,e,er,Ln),t);break}fa(e,er,Ln);break;case 4:if(Ci(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-tn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b5(n/1960))-n,10<n){e.timeoutHandle=_v(fa.bind(null,e,er,Ln),n);break}fa(e,er,Ln);break;case 5:fa(e,er,Ln);break;default:throw Error(B(329))}}}return or(e,Qe()),e.callbackNode===r?BP.bind(null,e):null}function Uv(e,t){var r=_l;return e.current.memoizedState.isDehydrated&&(Ea(e,t).flags|=256),e=Ld(e,t),e!==2&&(t=er,er=r,t!==null&&Wv(t)),e}function Wv(e){er===null?er=e:er.push.apply(er,e)}function w5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!an(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t){for(t&=~Y0,t&=~ah,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tn(t),n=1<<r;e[r]=-1,t&=~n}}function n1(e){if(he&6)throw Error(B(327));Ws();var t=bd(e,0);if(!(t&1))return or(e,Qe()),null;var r=Ld(e,t);if(e.tag!==0&&r===2){var n=mv(e);n!==0&&(t=n,r=Uv(e,n))}if(r===1)throw r=ql,Ea(e,0),Ci(e,t),or(e,Qe()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fa(e,er,Ln),or(e,Qe()),null}function J0(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(to=Qe()+500,th&&ra())}}function Ra(e){Mi!==null&&Mi.tag===0&&!(he&6)&&Ws();var t=he;he|=1;var r=Ir.transition,n=be;try{if(Ir.transition=null,be=1,e)return e()}finally{be=n,Ir.transition=r,he=t,!(he&6)&&ra()}}function Q0(){hr=Is.current,De(Is)}function Ea(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,JD(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(T0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kd();break;case 3:Zs(),De(ar),De(zt),B0();break;case 5:F0(n);break;case 4:Zs();break;case 13:De(Be);break;case 19:De(Be);break;case 10:R0(n.type._context);break;case 22:case 23:Q0()}r=r.return}if(_t=e,rt=e=Wi(e.current,null),Nt=hr=t,ft=0,ql=null,Y0=ah=Da=0,er=_l=null,ba!==null){for(t=0;t<ba.length;t++)if(r=ba[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}ba=null}return e}function UP(e,t){do{var r=rt;try{if(D0(),Jc.current=Md,Id){for(var n=Ue.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Id=!1}if(Ma=0,bt=ct=Ue=null,bl=!1,Ul=0,G0.current=null,r===null||r.return===null){ft=1,ql=t,rt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Nt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Hw(s);if(p!==null){p.flags&=-257,qw(p,s,o,a,t),p.mode&1&&Ww(a,c,t),t=p,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Ww(a,c,t),Z0();break e}l=Error(B(426))}}else if(Le&&o.mode&1){var y=Hw(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),qw(y,s,o,a,t),I0(eo(l,o));break e}}a=l=eo(l,o),ft!==4&&(ft=2),_l===null?_l=[a]:_l.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=kP(a,l,t);$w(a,x);break e;case 1:o=l;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bi===null||!Bi.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=EP(a,o,t);$w(a,_);break e}}a=a.return}while(a!==null)}qP(r)}catch(j){t=j,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function WP(){var e=Dd.current;return Dd.current=Md,e===null?Md:e}function Z0(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Da&268435455)&&!(ah&268435455)||Ci(_t,Nt)}function Ld(e,t){var r=he;he|=2;var n=WP();(_t!==e||Nt!==t)&&(Ln=null,Ea(e,t));do try{_5();break}catch(i){UP(e,i)}while(!0);if(D0(),he=r,Dd.current=n,rt!==null)throw Error(B(261));return _t=null,Nt=0,ft}function _5(){for(;rt!==null;)HP(rt)}function j5(){for(;rt!==null&&!GM();)HP(rt)}function HP(e){var t=VP(e.alternate,e,hr);e.memoizedProps=e.pendingProps,t===null?qP(e):rt=t,G0.current=null}function qP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=v5(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,rt=null;return}}else if(r=p5(r,t,hr),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ft===0&&(ft=5)}function fa(e,t,r){var n=be,i=Ir.transition;try{Ir.transition=null,be=1,S5(e,t,r,n)}finally{Ir.transition=i,be=n}return null}function S5(e,t,r,n){do Ws();while(Mi!==null);if(he&6)throw Error(B(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(iD(e,a),e===_t&&(rt=_t=null,Nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gc||(gc=!0,GP(xd,function(){return Ws(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ir.transition,Ir.transition=null;var s=be;be=1;var o=he;he|=4,G0.current=null,y5(e,r),zP(r,e),HD(bv),wd=!!xv,bv=xv=null,e.current=r,x5(r),YM(),he=o,be=s,Ir.transition=a}else e.current=r;if(gc&&(gc=!1,Mi=e,$d=i),a=e.pendingLanes,a===0&&(Bi=null),QM(r.stateNode),or(e,Qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,e=Fv,Fv=null,e;return $d&1&&e.tag!==0&&Ws(),a=e.pendingLanes,a&1?e===Bv?jl++:(jl=0,Bv=e):jl=0,ra(),null}function Ws(){if(Mi!==null){var e=kE($d),t=Ir.transition,r=be;try{if(Ir.transition=null,be=16>e?16:e,Mi===null)var n=!1;else{if(e=Mi,Mi=null,$d=0,he&6)throw Error(B(331));var i=he;for(he|=4,Y=e.current;Y!==null;){var a=Y,s=a.child;if(Y.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:wl(8,d,a)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,p=d.return;if(RP(d),d===c){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Y=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Y=s;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}var w=e.current;for(Y=w;Y!==null;){s=Y;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Y=b;else e:for(s=w;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ih(9,o)}}catch(j){Ve(o,o.return,j)}if(o===s){Y=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Y=_;break e}Y=o.return}}if(he=i,ra(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Xf,e)}catch{}n=!0}return n}finally{be=r,Ir.transition=t}}return!1}function i1(e,t,r){t=eo(r,t),t=kP(e,t,1),e=Fi(e,t,1),t=Kt(),e!==null&&(gu(e,1,t),or(e,t))}function Ve(e,t,r){if(e.tag===3)i1(e,e,r);else for(;t!==null;){if(t.tag===3){i1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bi===null||!Bi.has(n))){e=eo(r,e),e=EP(t,e,1),t=Fi(t,e,1),e=Kt(),t!==null&&(gu(t,1,e),or(t,e));break}}t=t.return}}function k5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Nt&r)===r&&(ft===4||ft===3&&(Nt&130023424)===Nt&&500>Qe()-X0?Ea(e,0):Y0|=r),or(e,t)}function KP(e,t){t===0&&(e.mode&1?(t=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):t=1);var r=Kt();e=ei(e,t),e!==null&&(gu(e,t,r),or(e,r))}function E5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KP(e,r)}function P5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),KP(e,r)}var VP;VP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ar.current)rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rr=!1,m5(e,t,r);rr=!!(e.flags&131072)}else rr=!1,Le&&t.flags&1048576&&JE(t,Od,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zc(e,t),e=t.pendingProps;var i=Xs(t,zt.current);Us(t,r),i=W0(null,t,n,e,i,r);var a=H0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(n)?(a=!0,Ed(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,L0(t),i.updater=nh,t.stateNode=i,i._reactInternals=t,Nv(t,n,e,r),t=Tv(null,t,n,!0,a,r)):(t.tag=0,Le&&a&&A0(t),Wt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=N5(n),e=Gr(n,e),i){case 0:t=Av(null,t,n,e,r);break e;case 1:t=Gw(null,t,n,e,r);break e;case 11:t=Kw(null,t,n,e,r);break e;case 14:t=Vw(null,t,n,Gr(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Av(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Gw(e,t,n,i,r);case 3:e:{if(CP(t),e===null)throw Error(B(387));n=t.pendingProps,a=t.memoizedState,i=a.element,nP(e,t),Ad(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=eo(Error(B(423)),t),t=Yw(e,t,n,r,i);break e}else if(n!==i){i=eo(Error(B(424)),t),t=Yw(e,t,n,r,i);break e}else for(pr=zi(t.stateNode.containerInfo.firstChild),gr=t,Le=!0,Jr=null,r=tP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Js(),n===i){t=ti(e,t,r);break e}Wt(e,t,n,r)}t=t.child}return t;case 5:return iP(t),e===null&&Ev(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,wv(n,i)?s=null:a!==null&&wv(n,a)&&(t.flags|=32),NP(e,t),Wt(e,t,s,r),t.child;case 6:return e===null&&Ev(t),null;case 13:return AP(e,t,r);case 4:return z0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qs(t,null,n,r):Wt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Kw(e,t,n,i,r);case 7:return Wt(e,t,t.pendingProps,r),t.child;case 8:return Wt(e,t,t.pendingProps.children,r),t.child;case 12:return Wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oe(Nd,n._currentValue),n._currentValue=s,a!==null)if(an(a.value,s)){if(a.children===i.children&&!ar.current){t=ti(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Vn(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Pv(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(B(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Pv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Wt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Us(t,r),i=Dr(i),n=n(i),t.flags|=1,Wt(e,t,n,r),t.child;case 14:return n=t.type,i=Gr(n,t.pendingProps),i=Gr(n.type,i),Vw(e,t,n,i,r);case 15:return PP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Zc(e,t),t.tag=1,sr(n)?(e=!0,Ed(t)):e=!1,Us(t,r),SP(t,n,i),Nv(t,n,i,r),Tv(null,t,n,!0,e,r);case 19:return TP(e,t,r);case 22:return OP(e,t,r)}throw Error(B(156,t.tag))};function GP(e,t){return wE(e,t)}function O5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,t,r,n){return new O5(e,t,r,n)}function ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N5(e){if(typeof e=="function")return ey(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x0)return 11;if(e===b0)return 14}return 2}function Wi(e,t){var r=e.alternate;return r===null?(r=Ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rd(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")ey(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case js:return Pa(r.children,i,a,t);case y0:s=8,i|=8;break;case Zp:return e=Ar(12,r,t,i|2),e.elementType=Zp,e.lanes=a,e;case ev:return e=Ar(13,r,t,i),e.elementType=ev,e.lanes=a,e;case tv:return e=Ar(19,r,t,i),e.elementType=tv,e.lanes=a,e;case iE:return sh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rE:s=10;break e;case nE:s=9;break e;case x0:s=11;break e;case b0:s=14;break e;case ki:s=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Ar(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Pa(e,t,r,n){return e=Ar(7,e,n,t),e.lanes=r,e}function sh(e,t,r,n){return e=Ar(22,e,n,t),e.elementType=iE,e.lanes=r,e.stateNode={isHidden:!1},e}function lp(e,t,r){return e=Ar(6,e,null,t),e.lanes=r,e}function up(e,t,r){return t=Ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C5(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wm(0),this.expirationTimes=Wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ty(e,t,r,n,i,a,s,o,l){return e=new C5(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ar(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},L0(a),e}function A5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function YP(e){if(!e)return Gi;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(sr(r))return YE(e,r,t)}return t}function XP(e,t,r,n,i,a,s,o,l){return e=ty(r,n,!0,e,i,a,s,o,l),e.context=YP(null),r=e.current,n=Kt(),i=Ui(r),a=Vn(n,i),a.callback=t??null,Fi(r,a,i),e.current.lanes=i,gu(e,i,n),or(e,n),e}function oh(e,t,r,n){var i=t.current,a=Kt(),s=Ui(i);return r=YP(r),t.context===null?t.context=r:t.pendingContext=r,t=Vn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fi(i,t,s),e!==null&&(rn(e,i,s,a),Xc(e,i,s)),s}function zd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function a1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ry(e,t){a1(e,t),(e=e.alternate)&&a1(e,t)}function T5(){return null}var JP=typeof reportError=="function"?reportError:function(e){console.error(e)};function ny(e){this._internalRoot=e}lh.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));oh(e,t,null,null)};lh.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ra(function(){oh(null,e,null,null)}),t[Zn]=null}};function lh(e){this._internalRoot=e}lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=OE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ni.length&&t!==0&&t<Ni[r].priority;r++);Ni.splice(r,0,e),r===0&&CE(e)}};function iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function s1(){}function I5(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=zd(s);a.call(c)}}var s=XP(t,n,e,0,null,!1,!1,"",s1);return e._reactRootContainer=s,e[Zn]=s.current,$l(e.nodeType===8?e.parentNode:e),Ra(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=zd(l);o.call(c)}}var l=ty(e,0,!1,null,null,!1,!1,"",s1);return e._reactRootContainer=l,e[Zn]=l.current,$l(e.nodeType===8?e.parentNode:e),Ra(function(){oh(t,l,r,n)}),l}function ch(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=zd(s);o.call(l)}}oh(t,s,e,i)}else s=I5(r,t,e,i,n);return zd(s)}EE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ul(t.pendingLanes);r!==0&&(j0(t,r|1),or(t,Qe()),!(he&6)&&(to=Qe()+500,ra()))}break;case 13:Ra(function(){var n=ei(e,1);if(n!==null){var i=Kt();rn(n,e,1,i)}}),ry(e,1)}};S0=function(e){if(e.tag===13){var t=ei(e,134217728);if(t!==null){var r=Kt();rn(t,e,134217728,r)}ry(e,134217728)}};PE=function(e){if(e.tag===13){var t=Ui(e),r=ei(e,t);if(r!==null){var n=Kt();rn(r,e,t,n)}ry(e,t)}};OE=function(){return be};NE=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};dv=function(e,t,r){switch(t){case"input":if(iv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=eh(n);if(!i)throw Error(B(90));sE(n),iv(n,i)}}}break;case"textarea":lE(e,r);break;case"select":t=r.value,t!=null&&Ls(e,!!r.multiple,t,!1)}};pE=J0;vE=Ra;var M5={usingClientEntryPoint:!1,Events:[xu,Ps,eh,hE,mE,J0]},Wo={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D5={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xE(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||T5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Xf=yc.inject(D5),Sn=yc}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M5;_r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(t))throw Error(B(200));return A5(e,t,null,r)};_r.createRoot=function(e,t){if(!iy(e))throw Error(B(299));var r=!1,n="",i=JP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ty(e,1,!1,null,null,r,!1,n,i),e[Zn]=t.current,$l(e.nodeType===8?e.parentNode:e),new ny(t)};_r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=xE(t),e=e===null?null:e.stateNode,e};_r.flushSync=function(e){return Ra(e)};_r.hydrate=function(e,t,r){if(!uh(t))throw Error(B(200));return ch(null,e,t,!0,r)};_r.hydrateRoot=function(e,t,r){if(!iy(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=JP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=XP(t,null,e,1,r??null,i,!1,a,s),e[Zn]=t.current,$l(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new lh(t)};_r.render=function(e,t,r){if(!uh(t))throw Error(B(200));return ch(null,e,t,!1,r)};_r.unmountComponentAtNode=function(e){if(!uh(e))throw Error(B(40));return e._reactRootContainer?(Ra(function(){ch(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1};_r.unstable_batchedUpdates=J0;_r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uh(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return ch(e,t,r,!1,n)};_r.version="18.3.1-next-f1338f8080-20240426";function QP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QP)}catch(e){console.error(e)}}QP(),Qk.exports=_r;var dh=Qk.exports,ZP,o1=dh;ZP=o1.createRoot,o1.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l1="popstate";function R5(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Hv("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Kl(i)}return L5(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $5(){return Math.random().toString(36).substring(2,10)}function u1(e,t){return{usr:e.state,key:e.key,idx:t}}function Hv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:r,key:t&&t.key||n||$5()}}function Kl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function L5(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let y=d(),x=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:x})}function h(y,x){o="PUSH";let w=Hv(g.location,y,x);c=d()+1;let b=u1(w,c),_=g.createHref(w);try{s.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function p(y,x){o="REPLACE";let w=Hv(g.location,y,x);c=d();let b=u1(w,c),_=g.createHref(w);s.replaceState(b,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function v(y){return z5(y)}let g={get action(){return o},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(l1,f),l=y,()=>{i.removeEventListener(l1,f),l=null}},createHref(y){return t(i,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return s.go(y)}};return g}function z5(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Kl(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function e2(e,t,r="/"){return F5(e,t,r,!1)}function F5(e,t,r,n){let i=typeof t=="string"?go(t):t,a=ri(i.pathname||"/",r);if(a==null)return null;let s=t2(e);B5(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=Q5(a);o=X5(s[l],c,n)}return o}function t2(e,t=[],r=[],n="",i=!1){let a=(s,o,l=i,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;Fe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Gn([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Fe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),t2(s.children,t,h,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:G5(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of r2(s.path))a(s,o,!0,c)}),t}function r2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=r2(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function B5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var U5=/^:[\w-]+$/,W5=3,H5=2,q5=1,K5=10,V5=-2,c1=e=>e==="*";function G5(e,t){let r=e.split("/"),n=r.length;return r.some(c1)&&(n+=V5),t&&(n+=H5),r.filter(i=>!c1(i)).reduce((i,a)=>i+(U5.test(a)?W5:a===""?q5:K5),n)}function Y5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function X5(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Fd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Gn([a,f.pathname]),pathnameBase:rR(Gn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Gn([a,f.pathnameBase]))}return s}function Fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=J5(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function J5(e,t=!1,r=!0){$r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Q5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var Z5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function eR(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?go(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=d1(r.substring(1),"/"):a=d1(r,t)):a=t,{pathname:a,search:nR(n),hash:iR(i)}}function d1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function cp(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ay(e){let t=tR(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function sy(e,t,r,n=!1){let i;typeof e=="string"?i=go(e):(i={...e},Fe(!i.pathname||!i.pathname.includes("?"),cp("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),cp("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),cp("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=eR(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Gn=e=>e.join("/").replace(/\/\/+/g,"/"),rR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,aR=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function sR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function oR(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var n2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function i2(e,t){let r=e;if(typeof r!="string"||!Z5.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(n2)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),o=ri(s.pathname,t);s.origin===a.origin&&o!=null?r=o+s.search+s.hash:i=!0}catch{$r(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var a2=["POST","PUT","PATCH","DELETE"];new Set(a2);var lR=["GET",...a2];new Set(lR);var yo=m.createContext(null);yo.displayName="DataRouter";var fh=m.createContext(null);fh.displayName="DataRouterState";var uR=m.createContext(!1),s2=m.createContext({isTransitioning:!1});s2.displayName="ViewTransition";var cR=m.createContext(new Map);cR.displayName="Fetchers";var dR=m.createContext(null);dR.displayName="Await";var Sr=m.createContext(null);Sr.displayName="Navigation";var wu=m.createContext(null);wu.displayName="Location";var Br=m.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var oy=m.createContext(null);oy.displayName="RouteError";var o2="REACT_ROUTER_ERROR",fR="REDIRECT",hR="ROUTE_ERROR_RESPONSE";function mR(e){if(e.startsWith(`${o2}:${fR}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function pR(e){if(e.startsWith(`${o2}:${hR}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new aR(t.status,t.statusText,t.data)}catch{}}function vR(e,{relative:t}={}){Fe(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Sr),{hash:i,pathname:a,search:s}=_u(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:Gn([r,a])),n.createHref({pathname:o,search:s,hash:i})}function xo(){return m.useContext(wu)!=null}function hi(){return Fe(xo(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(wu).location}var l2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u2(e){m.useContext(Sr).static||m.useLayoutEffect(e)}function Xa(){let{isDataRoute:e}=m.useContext(Br);return e?TR():gR()}function gR(){Fe(xo(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(yo),{basename:t,navigator:r}=m.useContext(Sr),{matches:n}=m.useContext(Br),{pathname:i}=hi(),a=JSON.stringify(ay(n)),s=m.useRef(!1);return u2(()=>{s.current=!0}),m.useCallback((l,c={})=>{if($r(s.current,l2),!s.current)return;if(typeof l=="number"){r.go(l);return}let d=sy(l,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Gn([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,i,e])}var yR=m.createContext(null);function xR(e){let t=m.useContext(Br).outlet;return m.useMemo(()=>t&&m.createElement(yR.Provider,{value:e},t),[t,e])}function bR(){let{matches:e}=m.useContext(Br),t=e[e.length-1];return t?t.params:{}}function _u(e,{relative:t}={}){let{matches:r}=m.useContext(Br),{pathname:n}=hi(),i=JSON.stringify(ay(r));return m.useMemo(()=>sy(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function wR(e,t){return c2(e,t)}function c2(e,t,r,n,i){var w;Fe(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(Sr),{matches:s}=m.useContext(Br),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";f2(c,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=hi(),p;if(t){let b=typeof t=="string"?go(t):t;Fe(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=h;let v=p.pathname||"/",g=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=e2(e,{pathname:g});$r(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),$r(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=ER(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Gn([d,a.encodeLocation?a.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Gn([d,a.encodeLocation?a.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,r,n,i);return t&&x?m.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function _R(){let e=AR(),t=sR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:a},"ErrorBoundary")," or"," ",m.createElement("code",{style:a},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:i},r):null,s)}var jR=m.createElement(_R,null),d2=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=pR(e.digest);r&&(e=r)}let t=e!==void 0?m.createElement(Br.Provider,{value:this.props.routeContext},m.createElement(oy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?m.createElement(SR,{error:e},t):t}};d2.contextType=uR;var dp=new WeakMap;function SR({children:e,error:t}){let{basename:r}=m.useContext(Sr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=mR(t.digest);if(n){let i=dp.get(t);if(i)throw i;let a=i2(n.location,r);if(n2&&!dp.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw dp.set(t,s),s}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function kR({routeContext:e,match:t,children:r}){let n=m.useContext(yo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Br.Provider,{value:e},r)}function ER(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Fe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let c=r&&n?(d,f)=>{var h,p;n(d,{location:r.location,params:((p=(h=r.matches)==null?void 0:h[0])==null?void 0:p.params)??{},unstable_pattern:oR(r.matches),errorInfo:f})}:void 0;return a.reduceRight((d,f,h)=>{let p,v=!1,g=null,y=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||jR,o&&(l<0&&h===0?(f2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):l===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),w=()=>{let b;return p?b=g:v?b=y:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(kR,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(d2,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:c}):w()},null)}function ly(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PR(e){let t=m.useContext(yo);return Fe(t,ly(e)),t}function OR(e){let t=m.useContext(fh);return Fe(t,ly(e)),t}function NR(e){let t=m.useContext(Br);return Fe(t,ly(e)),t}function uy(e){let t=NR(e),r=t.matches[t.matches.length-1];return Fe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function CR(){return uy("useRouteId")}function AR(){var n;let e=m.useContext(oy),t=OR("useRouteError"),r=uy("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function TR(){let{router:e}=PR("useNavigate"),t=uy("useNavigate"),r=m.useRef(!1);return u2(()=>{r.current=!0}),m.useCallback(async(i,a={})=>{$r(r.current,l2),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var f1={};function f2(e,t,r){!t&&!f1[e]&&(f1[e]=!0,$r(!1,r))}m.memo(IR);function IR({routes:e,future:t,state:r,onError:n}){return c2(e,void 0,r,n,t)}function cy({to:e,replace:t,state:r,relative:n}){Fe(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(Sr);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=m.useContext(Br),{pathname:s}=hi(),o=Xa(),l=sy(e,ay(a),s,n==="path"),c=JSON.stringify(l);return m.useEffect(()=>{o(JSON.parse(c),{replace:t,state:r,relative:n})},[o,c,n,t,r]),null}function MR(e){return xR(e.context)}function qr(e){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DR({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Fe(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof r=="string"&&(r=go(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,v=m.useMemo(()=>{let g=ri(c,o);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:n}},[o,c,d,f,h,p,n]);return $r(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:m.createElement(Sr.Provider,{value:l},m.createElement(wu.Provider,{children:t,value:v}))}function RR({children:e,location:t}){return wR(qv(e),t)}function qv(e,t=[]){let r=[];return m.Children.forEach(e,(n,i)=>{if(!m.isValidElement(n))return;let a=[...t,i];if(n.type===m.Fragment){r.push.apply(r,qv(n.props.children,a));return}Fe(n.type===qr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=qv(n.props.children,a)),r.push(s)}),r}var nd="get",id="application/x-www-form-urlencoded";function hh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function $R(e){return hh(e)&&e.tagName.toLowerCase()==="button"}function LR(e){return hh(e)&&e.tagName.toLowerCase()==="form"}function zR(e){return hh(e)&&e.tagName.toLowerCase()==="input"}function FR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BR(e,t){return e.button===0&&(!t||t==="_self")&&!FR(e)}function Kv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function UR(e,t){let r=Kv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var xc=null;function WR(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var HR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(e){return e!=null&&!HR.has(e)?($r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):e}function qR(e,t){let r,n,i,a,s;if(LR(e)){let o=e.getAttribute("action");n=o?ri(o,t):null,r=e.getAttribute("method")||nd,i=fp(e.getAttribute("enctype"))||id,a=new FormData(e)}else if($R(e)||zR(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?ri(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||nd,i=fp(e.getAttribute("formenctype"))||fp(o.getAttribute("enctype"))||id,a=new FormData(o,e),!WR()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else c&&a.append(c,f)}}else{if(hh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nd,n=null,i=id,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KR(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ri(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function VR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YR(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await VR(a,r);return s.links?s.links():[]}return[]}));return ZR(n.flat(1).filter(GR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function h1(e,t,r,n,i,a){let s=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var d;return r[c].pathname!==l.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,c)=>s(l,c)||o(l,c)):a==="data"?t.filter((l,c)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function XR(e,t,{includeHydrateFallback:r}={}){return JR(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function JR(e){return[...new Set(e)]}function QR(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function ZR(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(QR(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function h2(){let e=m.useContext(yo);return dy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function e$(){let e=m.useContext(fh);return dy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var fy=m.createContext(void 0);fy.displayName="FrameworkContext";function m2(){let e=m.useContext(fy);return dy(e,"You must render this element inside a <HydratedRouter> element"),e}function t$(e,t){let r=m.useContext(fy),[n,i]=m.useState(!1),[a,s]=m.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let g=x=>{x.forEach(w=>{s(w.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),m.useEffect(()=>{if(n){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{i(!0)},v=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:Ho(o,p),onBlur:Ho(l,v),onMouseEnter:Ho(c,p),onMouseLeave:Ho(d,v),onTouchStart:Ho(f,p)}]:[!1,h,{}]}function Ho(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function r$({page:e,...t}){let{router:r}=h2(),n=m.useMemo(()=>e2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(i$,{page:e,matches:n,...t}):null}function n$(e){let{manifest:t,routeModules:r}=m2(),[n,i]=m.useState([]);return m.useEffect(()=>{let a=!1;return YR(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function i$({page:e,matches:t,...r}){let n=hi(),{future:i,manifest:a,routeModules:s}=m2(),{basename:o}=h2(),{loaderData:l,matches:c}=e$(),d=m.useMemo(()=>h1(e,t,c,a,n,"data"),[e,t,c,a,n]),f=m.useMemo(()=>h1(e,t,c,a,n,"assets"),[e,t,c,a,n]),h=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(t.forEach(w=>{var _;let b=a.routes[w.route.id];!b||!b.hasLoader||(!d.some(j=>j.route.id===w.route.id)&&w.route.id in l&&((_=s[w.route.id])!=null&&_.shouldRevalidate)||b.hasClientLoader?y=!0:g.add(w.route.id))}),g.size===0)return[];let x=KR(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return y&&g.size>0&&x.searchParams.set("_routes",t.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,n,a,d,t,e,s]),p=m.useMemo(()=>XR(f,a),[f,a]),v=n$(f);return m.createElement(m.Fragment,null,h.map(g=>m.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>m.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),v.map(({key:g,link:y})=>m.createElement("link",{key:g,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function a$(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var s$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s$&&(window.__reactRouterVersion="7.13.0")}catch{}function o$({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=m.useRef();i.current==null&&(i.current=R5({window:n,v5Compat:!0}));let a=i.current,[s,o]=m.useState({action:a.action,location:a.location}),l=m.useCallback(c=>{r===!1?o(c):m.startTransition(()=>o(c))},[r]);return m.useLayoutEffect(()=>a.listen(l),[a,l]),m.createElement(DR,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:r})}var p2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v2=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},v){let{basename:g,unstable_useTransitions:y}=m.useContext(Sr),x=typeof c=="string"&&p2.test(c),w=i2(c,g);c=w.to;let b=vR(c,{relative:i}),[_,j,S]=t$(n,p),k=c$(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y});function E(C){t&&t(C),C.defaultPrevented||k(C)}let O=m.createElement("a",{...p,...S,href:w.absoluteURL||b,onClick:w.isExternal||a?t:E,ref:a$(v,j),target:l,"data-discover":!x&&r==="render"?"true":void 0});return _&&!x?m.createElement(m.Fragment,null,O,m.createElement(r$,{page:b})):O});v2.displayName="Link";var g2=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...c},d){let f=_u(s,{relative:c.relative}),h=hi(),p=m.useContext(fh),{navigator:v,basename:g}=m.useContext(Sr),y=p!=null&&p$(f)&&o===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&g&&(b=ri(b,g)||b);const _=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=w===x||!i&&w.startsWith(x)&&w.charAt(_)==="/",S=b!=null&&(b===x||!i&&b.startsWith(x)&&b.charAt(x.length)==="/"),k={isActive:j,isPending:S,isTransitioning:y},E=j?t:void 0,O;typeof n=="function"?O=n(k):O=[n,j?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(k):a;return m.createElement(v2,{...c,"aria-current":E,className:O,ref:d,style:C,to:s,viewTransition:o},typeof l=="function"?l(k):l)});g2.displayName="NavLink";var l$=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=nd,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...p},v)=>{let{unstable_useTransitions:g}=m.useContext(Sr),y=h$(),x=m$(o,{relative:c}),w=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&p2.test(o),_=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let S=j.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||s,E=()=>y(S||j.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h});g&&r!==!1?m.startTransition(()=>E()):E()};return m.createElement("form",{ref:v,method:w,action:x,onSubmit:n?l:_,...p,"data-discover":!b&&e==="render"?"true":void 0})});l$.displayName="Form";function u$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(e){let t=m.useContext(yo);return Fe(t,u$(e)),t}function c$(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let c=Xa(),d=hi(),f=_u(e,{relative:a});return m.useCallback(h=>{if(BR(h,t)){h.preventDefault();let p=r!==void 0?r:Kl(d)===Kl(f),v=()=>c(e,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?m.startTransition(()=>v()):v()}},[d,c,f,r,n,t,e,i,a,s,o,l])}function x2(e){$r(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Kv(e)),r=m.useRef(!1),n=hi(),i=m.useMemo(()=>UR(n.search,r.current?null:t.current),[n.search]),a=Xa(),s=m.useCallback((o,l)=>{const c=Kv(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var d$=0,f$=()=>`__${String(++d$)}__`;function h$(){let{router:e}=y2("useSubmit"),{basename:t}=m.useContext(Sr),r=CR(),n=e.fetch,i=e.navigate;return m.useCallback(async(a,s={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=qR(a,t);if(s.navigate===!1){let h=s.fetcherKey||f$();await n(h,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,t,r])}function m$(e,{relative:t}={}){let{basename:r}=m.useContext(Sr),n=m.useContext(Br);Fe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={..._u(e||".",{relative:t})},s=hi();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Gn([r,a.pathname])),Kl(a)}function p$(e,{relative:t}={}){let r=m.useContext(s2);Fe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=y2("useViewTransitionState"),i=_u(e,{relative:t});if(!r.isTransitioning)return!1;let a=ri(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ri(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fd(i.pathname,s)!=null||Fd(i.pathname,a)!=null}const v$="modulepreload",g$=function(e){return"/"+e},m1={},ju=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=g$(l),l in m1)return;m1[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":v$,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},y$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ju(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class x$ extends hy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p1 extends hy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class v1 extends hy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vv||(Vv={}));var b$=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class w${constructor(t,{headers:r={},customFetch:n,region:i=Vv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=y$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return b$(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new x$(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new p1(f);if(!f.ok)throw new v1(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof v1||i instanceof p1?i.context:void 0}}})}}var tr={},my={},mh={},Su={},ph={},vh={},_$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=_$();const j$=ro.fetch,b2=ro.fetch.bind(ro),w2=ro.Headers,S$=ro.Request,k$=ro.Response,bo=Object.freeze(Object.defineProperty({__proto__:null,Headers:w2,Request:S$,Response:k$,default:b2,fetch:j$},Symbol.toStringTag,{value:"Module"})),E$=lM(bo);var gh={};Object.defineProperty(gh,"__esModule",{value:!0});let P$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gh.default=P$;var _2=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vh,"__esModule",{value:!0});const O$=_2(E$),N$=_2(gh);let C$=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=O$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,c;let d=null,f=null,h=null,p=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=w:f=JSON.parse(w))}const y=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,p=200,v="OK")}catch{a.status===404&&y===""?(p=204,v="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&this.shouldThrowOnError)throw new N$.default(d)}return{error:d,data:f,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};vh.default=C$;var A$=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ph,"__esModule",{value:!0});const T$=A$(vh);let I$=class extends T$.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ph.default=I$;var M$=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Su,"__esModule",{value:!0});const D$=M$(ph);let R$=class extends D$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Su.default=R$;var $$=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mh,"__esModule",{value:!0});const qo=$$(Su);let L$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new qo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};mh.default=L$;var j2=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(my,"__esModule",{value:!0});const z$=j2(mh),F$=j2(Su);let B$=class S2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new z$.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new S2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(o="POST",c=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new F$.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};my.default=B$;var wo=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tr,"__esModule",{value:!0});tr.PostgrestError=tr.PostgrestBuilder=tr.PostgrestTransformBuilder=tr.PostgrestFilterBuilder=tr.PostgrestQueryBuilder=tr.PostgrestClient=void 0;const k2=wo(my);tr.PostgrestClient=k2.default;const E2=wo(mh);tr.PostgrestQueryBuilder=E2.default;const P2=wo(Su);tr.PostgrestFilterBuilder=P2.default;const O2=wo(ph);tr.PostgrestTransformBuilder=O2.default;const N2=wo(vh);tr.PostgrestBuilder=N2.default;const C2=wo(gh);tr.PostgrestError=C2.default;var U$=tr.default={PostgrestClient:k2.default,PostgrestQueryBuilder:E2.default,PostgrestFilterBuilder:P2.default,PostgrestTransformBuilder:O2.default,PostgrestBuilder:N2.default,PostgrestError:C2.default};const{PostgrestClient:W$,PostgrestQueryBuilder:zre,PostgrestFilterBuilder:Fre,PostgrestTransformBuilder:Bre,PostgrestBuilder:Ure,PostgrestError:Wre}=U$;class H${static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const q$="2.15.5",K$=`realtime-js/${q$}`,V$="1.0.0",Gv=1e4,G$=1e3,Y$=100;var Sl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sl||(Sl={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var Xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xr||(Xr={}));var Yv;(function(e){e.websocket="websocket"})(Yv||(Yv={}));var ya;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ya||(ya={}));class X${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+a));s=s+a;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class A2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const g1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=J$(s,e,t,i),a),{})},J$=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?T2(a,s):Xv(s)},T2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return t4(t,r)}switch(e){case Ee.bool:return Q$(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Z$(t);case Ee.json:case Ee.jsonb:return e4(t);case Ee.timestamp:return r4(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Xv(t);default:return Xv(t)}},Xv=e=>e,Q$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Z$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},e4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},t4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>T2(t,o))}return e},r4=e=>typeof e=="string"?e.replace(" ","T"):e,I2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class hp{constructor(t,r,n={},i=Gv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var y1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(y1||(y1={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=kl.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),v=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(o[c]=v),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(x1||(x1={}));var El;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(El||(El={}));var zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class py{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hp(this,Xr.join,this.params,this.timeout),this.rejoinTimer=new A2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new kl(this),this.broadcastEndpointURL=I2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[El.PRESENCE]&&this.bindings[El.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(zn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(zn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(zn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<y;w++){const b=g[w],{filter:{event:_,schema:j,table:S,filter:k}}=b,E=p&&p[w];if(E&&E.event===_&&E.schema===j&&E.table===S&&E.filter===k)x.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=lt.errored,t==null||t(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(zn.SUBSCRIBED);return}}).receive("error",p=>{this.state=lt.errored,t==null||t(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===lt.joined&&t===El.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new hp(this,Xr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Y$){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Xr;if(n&&[o,l,c,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,g,y;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var v,g,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:x,type:w,errors:b}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&py.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xr.close,{},t)}_onError(t){this._on(Xr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=g1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=g1(t.columns,t.old_record)),r}}const mp=()=>{},bc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},n4=[1e3,2e3,5e3,1e4],i4=1e4,a4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gv,this.transport=null,this.heartbeatIntervalMs=bc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mp,this.ref=0,this.reconnectTimer=null,this.logger=mp,this.conn=null,this.sendBuffer=[],this.serializer=new X$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>ju(async()=>{const{default:o}=await Promise.resolve().then(()=>bo);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yv.websocket}`,this.httpEndpoint=I2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V$}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sl.connecting:return ya.Connecting;case Sl.open:return ya.Open;case Sl.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new py(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(G$,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([a4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:K$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Xr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new A2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:bc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:mp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>n4[f-1]||i4,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class o4 extends vy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jv extends vy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var l4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const M2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ju(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},u4=()=>l4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ju(()=>Promise.resolve().then(()=>bo),void 0)).Response:Response}),Qv=e=>{if(Array.isArray(e))return e.map(r=>Qv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Qv(n)}),t},c4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ja=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const pp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d4=(e,t,r)=>Ja(void 0,void 0,void 0,function*(){const n=yield u4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new o4(pp(i),a,s))}).catch(i=>{t(new Jv(pp(i),i))}):t(new Jv(pp(e),e))}),f4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(c4(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ku(e,t,r,n,i,a){return Ja(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,f4(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>d4(l,o,n))})})}function Bd(e,t,r,n){return Ja(this,void 0,void 0,function*(){return ku(e,"GET",t,r,n)})}function yn(e,t,r,n,i){return Ja(this,void 0,void 0,function*(){return ku(e,"POST",t,n,i,r)})}function Zv(e,t,r,n,i){return Ja(this,void 0,void 0,function*(){return ku(e,"PUT",t,n,i,r)})}function h4(e,t,r,n){return Ja(this,void 0,void 0,function*(){return ku(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function D2(e,t,r,n,i){return Ja(this,void 0,void 0,function*(){return ku(e,"DELETE",t,n,i,r)})}var Bt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const m4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p4{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=M2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Bt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},b1),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?Zv:yn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Bt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:b1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Zv(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ut(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield yn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new vy("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}update(t,r,n){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Bt(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Bt(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield yn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Bt(this,void 0,void 0,function*(){try{const i=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}download(t,r){return Bt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Bd(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ut(o))return{data:null,error:o};throw o}})}info(t){return Bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}exists(t){return Bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield h4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n)&&n instanceof Jv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Bt(this,void 0,void 0,function*(){try{return{data:yield D2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}list(t,r,n){return Bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},m4),r),{prefix:t||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}})}listV2(t,r){return Bt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const v4="2.12.1",g4={"X-Client-Info":`storage-js/${v4}`};var us=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class y4{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},g4),r),this.fetch=M2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ut(t))return{data:null,error:t};throw t}})}getBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return us(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return us(this,void 0,void 0,function*(){try{return{data:yield Zv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}emptyBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}deleteBucket(t){return us(this,void 0,void 0,function*(){try{return{data:yield D2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}})}}class x4 extends y4{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new p4(this.url,this.headers,t,this.fetch)}}const b4="2.57.4";let dl="";typeof Deno<"u"?dl="deno":typeof document<"u"?dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dl="react-native":dl="node";const w4={"X-Client-Info":`supabase-js-${dl}/${b4}`},_4={headers:w4},j4={schema:"public"},S4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k4={};var E4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const P4=e=>{let t;return e?t=e:typeof fetch>"u"?t=b2:t=fetch,(...r)=>t(...r)},O4=()=>typeof Headers>"u"?w2:Headers,N4=(e,t,r)=>{const n=P4(r),i=O4();return(a,s)=>E4(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:c}))})};var C4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function A4(e){return e.endsWith("/")?e:e+"/"}function T4(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>C4(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function I4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(A4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const R2="2.71.1",xs=30*1e3,eg=3,vp=eg*xs,M4="http://localhost:9999",D4="supabase.auth.token",R4={"X-Client-Info":`gotrue-js/${R2}`},tg="X-Supabase-Api-Version",$2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L4=10*60*1e3;class gy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z4 extends gy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function F4(e){return ie(e)&&e.name==="AuthApiError"}class L2 extends gy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class na extends gy{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Si extends na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B4(e){return ie(e)&&e.name==="AuthSessionMissingError"}class wc extends na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _c extends na{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jc extends na{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U4(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class w1 extends na{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends na{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gp(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class _1 extends na{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ng extends na{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),j1=` 	
\r=`.split(""),W4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<j1.length;t+=1)e[j1[t].charCodeAt(0)]=-2;for(let t=0;t<Ud.length;t+=1)e[Ud[t].charCodeAt(0)]=t;return e})();function S1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ud[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ud[n]),t.queuedBits-=6}}function z2(e,t,r){const n=W4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function k1(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{K4(s,n,r)};for(let s=0;s<e.length;s+=1)z2(e.charCodeAt(s),i,a);return t.join("")}function H4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}H4(n,t)}}function K4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function V4(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)z2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function G4(e){const t=[];return q4(e,r=>t.push(r)),new Uint8Array(t)}function Y4(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>S1(i,r,n)),S1(null,r,n),t.join("")}function X4(e){return Math.round(Date.now()/1e3)+e}function J4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kr=()=>typeof window<"u"&&typeof document<"u",la={tested:!1,writable:!1},F2=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(la.tested)return la.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),la.tested=!0,la.writable=!0}catch{la.tested=!0,la.writable=!1}return la.writable};function Q4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const B2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ju(async()=>{const{default:n}=await Promise.resolve().then(()=>bo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ua=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_i=async(e,t)=>{await e.removeItem(t)};class yh{constructor(){this.promise=new yh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yh.promiseConstructor=Promise;function yp(e){const t=e.split(".");if(t.length!==3)throw new ng("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$4.test(t[n]))throw new ng("JWT not in base64url format");return{header:JSON.parse(k1(t[0])),payload:JSON.parse(k1(t[1])),signature:V4(t[2]),raw:{header:t[0],payload:t[1]}}}async function eL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tL(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function rL(e){return("0"+e.toString(16)).substr(-2)}function nL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,rL).join("")}async function iL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function aL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await iL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(e,t,r=!1){const n=nL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bs(e,`${t}-code-verifier`,i);const a=await aL(n);return[a,n===a?"plain":"s256"]}const sL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oL(e){const t=e.headers.get(tg);if(!t||!t.match(sL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(e){if(!cL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E1(e){return JSON.parse(JSON.stringify(e))}var dL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fL=[502,503,504];async function P1(e){var t;if(!Z4(e))throw new rg(ha(e),0);if(fL.includes(e.status))throw new rg(ha(e),e.status);let r;try{r=await e.json()}catch(a){throw new L2(ha(a),a)}let n;const i=oL(e);if(i&&i.getTime()>=$2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _1(ha(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Si}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new _1(ha(r),e.status,r.weak_password.reasons);throw new z4(ha(r),e.status||500,n)}const hL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function de(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[tg]||(a[tg]=$2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await mL(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function mL(e,t,r,n,i,a){const s=hL(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new rg(ha(l),0)}if(o.ok||await P1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await P1(l)}}function $n(e){var t;let r=null;yL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=X4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function O1(e){const t=$n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ai(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pL(e){return{data:e,error:null}}function vL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=dL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function gL(e){return e}function yL(e){return e.access_token&&e.refresh_token&&e.expires_in}const bp=["global","local","others"];var xL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class bL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=B2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=bp[0]){if(bp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bp.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ai})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ai})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:gL});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ie(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ds(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ai})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ds(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ai})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ds(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ai})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ds(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ds(t.userId),ds(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function N1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&F2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class U2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _L extends U2{}async function jL(e,t,r){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _L(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}wL();const SL={url:M4,storageKey:D4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function C1(e,t,r){return await r()}const hs={};class Vl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vl.nextInstanceID,Vl.nextInstanceID+=1,this.instanceID>0&&Kr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},SL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=B2(i.fetch),this.lock=i.lock||C1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Kr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jL:this.lock=C1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:F2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=N1(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=hs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Q4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),U4(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new L2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$n}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await cs(this.storage,this.storageKey)),a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:$n})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$n})}else throw new _c("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:O1})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:O1})}else throw new _c("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,l,c,d,f,h,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:w,options:b}=t;let _;if(Kr())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:y,error:x}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Y4(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$n});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new wc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ie(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await ua(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$n});if(await _i(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new wc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ie(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$n}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cs(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new _c("You must provide either an email or phone number.")}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$n});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await cs(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:pL})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Si;const{error:i}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new _c("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await ua(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=xp()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ai}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Si}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ai})})}catch(r){if(ie(r))return B4(r)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Si;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await cs(this.storage,this.storageKey));const{data:c,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ai});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Si;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=yp(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Si;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kr())throw new jc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new w1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w1("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!s||!c)throw new jc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(F4(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=J4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await cs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Kr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tL(async i=>(i>0&&await eL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$n})),(i,a)=>{const s=200*Math.pow(2,i);return a&&gp(a)&&Date.now()+s-n<xs})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ua(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await bs(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:xp()}else if(i&&!i.user&&!i.user){const s=await ua(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await _i(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,i)):i.user=xp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${vp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),gp(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yh;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Si;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),ie(a)){const s={session:null,error:a};return gp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bs(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=E1(i);await bs(this.storage,this.storageKey,a)}else{const i=E1(r);await bs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xs}ms, refresh threshold is ${eg} ticks`),i<=eg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof U2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await cs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=yp(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+L4>i)return n;const{data:a,error:s}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=yp(n);r!=null&&r.allowExpired||lL(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=uL(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,G4(`${o}.${l}`)))throw new ng("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}Vl.nextInstanceID=0;const kL=Vl;class EL extends kL{constructor(t){super(t)}}var PL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class OL{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=I4(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:j4,realtime:k4,auth:Object.assign(Object.assign({},S4),{storageKey:l}),global:_4},d=T4(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=N4(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new W$(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new x4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new w$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return PL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EL({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new s4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NL=(e,t,r)=>new OL(e,t,r);function CL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}CL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AL="https://nmfgoikvqwbhllthlrbu.supabase.co",TL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss",L=NL(AL,TL,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage}}),W2=m.createContext(null);function IL({children:e}){const[t,r]=m.useState(null),[n,i]=m.useState(null),[a,s]=m.useState(null),[o,l]=m.useState(!0);m.useEffect(()=>{L.auth.getSession().then(({data:{session:y}})=>{i(y),r((y==null?void 0:y.user)??null),y!=null&&y.user?c(y.user.id):l(!1)});const{data:{subscription:g}}=L.auth.onAuthStateChange((y,x)=>{y==="SIGNED_OUT"?(i(null),r(null),s(null),l(!1)):x&&(i(x),r(x.user),c(x.user.id))});return()=>g.unsubscribe()},[]);async function c(g){try{const{data:y,error:x}=await L.from("profiles").select("role, is_active").eq("id",g).maybeSingle();if(x){console.error("Error loading profile:",x),s("agent"),l(!1);return}y?y.is_active===!1?(await L.auth.signOut(),s(null),r(null),i(null)):s(y.role):s("agent")}catch(y){console.error("Error loading profile:",y),s("agent")}finally{l(!1)}}async function d(g,y){try{const{data:x,error:w}=await L.auth.signInWithPassword({email:g,password:y});if(w)return{error:w.message};if(x.user){const{data:b}=await L.from("profiles").select("is_active").eq("id",x.user.id).maybeSingle();if(!(b!=null&&b.is_active))return await L.auth.signOut(),{error:"Votre compte est dsactiv. Contactez un administrateur."}}return{error:null}}catch{return{error:"Erreur de connexion. Veuillez ressayer."}}}async function f(){await L.auth.signOut(),r(null),i(null),s(null)}const h=a==="admin",p=a==="manager"||h,v=p||h;return u.jsx(W2.Provider,{value:{authenticated:!!t,loading:o,user:t,session:n,userRole:a,isAdmin:h,isManager:p,canManage:v,signIn:d,signOut:f},children:e})}function _o(){const e=m.useContext(W2);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ML={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},d)=>m.createElement("svg",{ref:d,...ML,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${DL(e)}`,o].join(" "),...c},[...t.map(([f,h])=>m.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=H("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=H("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=H("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=H("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=H("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=H("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=H("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=H("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=H("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=H("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=H("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=H("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=H("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=H("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=H("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=H("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=H("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=H("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=H("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=H("MinusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=H("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=H("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=H("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=H("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=H("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=H("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=H("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=H("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=H("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=H("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=H("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=H("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),m3=[{to:"/",icon:QL,label:"Tableau de bord"},{to:"/inbox",icon:wy,label:"Bote de rception"},{to:"/templates",icon:Pn,label:"Modles"},{to:"/knowledge",icon:K2,label:"Base de connaissances"},{to:"/reports",icon:zL,label:"Rapports"},{to:"/admin",icon:jy,label:"Admin"}];function p3({collapsed:e,onToggle:t}){const{signOut:r}=_o(),[n,i]=m.useState([]),[a,s]=m.useState(!1),[o,l]=x2();m.useEffect(()=>{c()},[]);async function c(){const{data:f}=await L.from("mailboxes").select("*").eq("is_active",!0).order("name");f&&i(f)}function d(f){const h=new URLSearchParams(o);f?h.set("mailbox",f):h.delete("mailbox"),l(h),s(!1)}return u.jsxs("aside",{className:`fixed top-0 left-0 h-screen bg-slate-900 text-white flex flex-col z-30 transition-all duration-300 ${e?"w-16":"w-60"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 px-4 h-16 border-b border-slate-800 shrink-0",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-cyan-500 flex items-center justify-center shrink-0",children:u.jsx(Hi,{className:"w-4 h-4 text-white"})}),!e&&u.jsx("span",{className:"font-bold text-lg tracking-tight",children:"EmailOps"})]}),u.jsx("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:m3.map((f,h)=>u.jsxs("div",{children:[u.jsxs(g2,{to:f.to,end:f.to==="/",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${p?"bg-cyan-500/15 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"} ${e?"justify-center":""}`,children:[u.jsx(f.icon,{className:"w-5 h-5 shrink-0"}),!e&&u.jsx("span",{children:f.label})]}),f.to==="/inbox"&&!e&&n.length>0&&u.jsxs("div",{className:"ml-3 mt-1 space-y-0.5",children:[u.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 px-3 py-1.5 text-xs text-slate-400 hover:text-slate-300 transition w-full",children:[u.jsx(Ms,{className:`w-3 h-3 transition-transform ${a?"rotate-180":""}`}),u.jsx("span",{children:"Botes mail"})]}),a&&u.jsxs("div",{className:"space-y-0.5 pl-3",children:[u.jsx("button",{onClick:()=>d(null),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition ${o.get("mailbox")?"text-slate-400 hover:text-white hover:bg-slate-800":"bg-cyan-500/10 text-cyan-400"}`,children:"Toutes les botes"}),n.map(p=>u.jsx("button",{onClick:()=>d(p.id),className:`block w-full text-left px-3 py-1.5 text-xs rounded transition truncate ${o.get("mailbox")===p.id?"bg-cyan-500/10 text-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:p.name,children:p.name},p.id))]})]})]},f.to))}),u.jsxs("div",{className:"px-2 py-3 border-t border-slate-800 space-y-1",children:[!e&&u.jsxs("div",{className:"px-3 py-2 mb-1",children:[u.jsx("p",{className:"text-sm font-medium text-slate-200 truncate",children:"Administrateur"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Admin"})]}),u.jsxs("button",{onClick:r,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors w-full ${e?"justify-center":""}`,children:[u.jsx(ZL,{className:"w-5 h-5 shrink-0"}),!e&&u.jsx("span",{children:"Deconnexion"})]}),u.jsxs("button",{onClick:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-slate-500 hover:text-slate-300 transition-colors w-full ${e?"justify-center":""}`,children:[e?u.jsx(by,{className:"w-4 h-4"}):u.jsx(xy,{className:"w-4 h-4"}),!e&&u.jsx("span",{className:"text-xs",children:"Rduire"})]})]})]})}function v3(){const[e,t]=m.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(p3,{collapsed:e,onToggle:()=>t(!e)}),u.jsx("div",{className:`transition-all duration-300 ${e?"ml-16":"ml-60"}`,children:u.jsx(MR,{})})]})}function g3(){const{signIn:e}=_o(),[t,r]=m.useState(""),[n,i]=m.useState(""),[a,s]=m.useState(""),[o,l]=m.useState(!1),c=async d=>{d.preventDefault(),s(""),l(!0);const f=await e(t,n);f.error&&s(f.error),l(!1)};return u.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-950 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 opacity-10",children:[u.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full bg-cyan-400 blur-3xl"}),u.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-teal-400 blur-3xl"})]}),u.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-16",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-500 flex items-center justify-center",children:u.jsx(Hi,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-3xl font-bold text-white tracking-tight",children:"EmailOps"})]}),u.jsxs("h1",{className:"text-4xl font-bold text-white leading-tight mb-4",children:["Plateforme de Gestion",u.jsx("br",{}),"des Emails"]}),u.jsx("p",{className:"text-slate-400 text-lg leading-relaxed max-w-md",children:"Centralisez vos boites mail, automatisez la classification par IA, et optimisez le workflow de votre equipe."}),u.jsx("div",{className:"mt-12 grid grid-cols-2 gap-4",children:[{label:"Classification IA",desc:"Tri automatique des emails"},{label:"Templates",desc:"Modeles dynamiques"},{label:"Workflow",desc:"Gestion par tickets"},{label:"Multi-Boites",desc:"Inbox centralise"}].map(d=>u.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:[u.jsx("p",{className:"text-white font-medium text-sm",children:d.label}),u.jsx("p",{className:"text-slate-500 text-xs mt-1",children:d.desc})]},d.label))})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center px-8",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-10",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-cyan-500 flex items-center justify-center",children:u.jsx(Hi,{className:"w-5 h-5 text-white"})}),u.jsx("span",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"EmailOps"})]}),u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Connexion"}),u.jsx("p",{className:"text-slate-500 mb-8",children:"Connectez-vous avec votre compte pour accder  la plateforme"}),a&&u.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 rounded-lg px-4 py-3 text-sm",children:a}),u.jsxs("form",{onSubmit:c,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-lg text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition",placeholder:"votre.email@exemple.com",required:!0,autoFocus:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx(_y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-lg text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition",placeholder:"Entrez votre mot de passe",required:!0})]})]}),u.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 bg-cyan-600 hover:bg-cyan-700 text-white font-medium py-2.5 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[o?"Connexion...":"Se connecter",!o&&u.jsx(q2,{className:"w-4 h-4"})]})]})]})})]})}const nO=6048e5,y3=864e5,Sc=43200,M1=1440,D1=Symbol.for("constructDateFrom");function sn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&D1 in e?e[D1](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ze(e,t){return sn(t||e,e)}function x3(e,t,r){const n=Ze(e,r==null?void 0:r.in);return isNaN(t)?sn(e,NaN):(n.setDate(n.getDate()+t),n)}let b3={};function Pu(){return b3}function Jl(e,t){var o,l,c,d;const r=Pu(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ze(e,t==null?void 0:t.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Hd(e,t){return Jl(e,{...t,weekStartsOn:1})}function iO(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),i=sn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Hd(i),s=sn(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Hd(s);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function qd(e){const t=Ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jo(e,...t){const r=sn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Kd(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function aO(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t),a=Kd(n),s=Kd(i),o=+a-qd(a),l=+s-qd(s);return Math.round((o-l)/y3)}function w3(e,t){const r=iO(e,t),n=sn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Hd(n)}function sd(e,t){const r=+Ze(e)-+Ze(t);return r<0?-1:r>0?1:r}function Sy(e){return sn(e,Date.now())}function sO(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t);return+Kd(n)==+Kd(i)}function _3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function j3(e){return!(!_3(e)&&typeof e!="number"||isNaN(+Ze(e)))}function S3(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function k3(e,t,r){const[n,i]=jo(r==null?void 0:r.in,e,t),a=R1(n,i),s=Math.abs(aO(n,i));n.setDate(n.getDate()-a*s);const o=+(R1(n,i)===-a),l=a*(s-o);return l===0?0:l}function R1(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function E3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function P3(e,t){return+Ze(e)-+Ze(t)}function O3(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function N3(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function C3(e,t){const r=Ze(e,t==null?void 0:t.in);return+O3(r,t)==+N3(r,t)}function A3(e,t,r){const[n,i,a]=jo(r==null?void 0:r.in,e,e,t),s=sd(i,a),o=Math.abs(S3(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let l=sd(i,a)===-s;C3(n)&&o===1&&sd(n,a)===1&&(l=!1);const c=s*(o-+l);return c===0?0:c}function T3(e,t,r){const n=P3(e,t)/1e3;return E3(r==null?void 0:r.roundingMethod)(n)}function I3(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const M3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D3=(e,t,r)=>{let n;const i=M3[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qs(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const R3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z3={date:qs({formats:R3,defaultWidth:"full"}),time:qs({formats:$3,defaultWidth:"full"}),dateTime:qs({formats:L3,defaultWidth:"full"})},F3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B3=(e,t,r,n)=>F3[e];function bn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[o]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const U3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Y3={ordinalNumber:G3,era:bn({values:U3,defaultWidth:"wide"}),quarter:bn({values:W3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bn({values:H3,defaultWidth:"wide"}),day:bn({values:q3,defaultWidth:"wide"}),dayPeriod:bn({values:K3,defaultWidth:"wide",formattingValues:V3,defaultFormattingWidth:"wide"})};function wn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?J3(o,f=>f.test(s)):X3(o,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}function X3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function J3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function oO(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(i.length);return{value:s,rest:o}}}const Q3=/^(\d+)(th|st|nd|rd)?/i,Z3=/\d+/i,ez={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tz={any:[/^b/i,/^(a|c)/i]},rz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nz={any:[/1/i,/2/i,/3/i,/4/i]},iz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},az={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cz={ordinalNumber:oO({matchPattern:Q3,parsePattern:Z3,valueCallback:e=>parseInt(e,10)}),era:wn({matchPatterns:ez,defaultMatchWidth:"wide",parsePatterns:tz,defaultParseWidth:"any"}),quarter:wn({matchPatterns:rz,defaultMatchWidth:"wide",parsePatterns:nz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wn({matchPatterns:iz,defaultMatchWidth:"wide",parsePatterns:az,defaultParseWidth:"any"}),day:wn({matchPatterns:sz,defaultMatchWidth:"wide",parsePatterns:oz,defaultParseWidth:"any"}),dayPeriod:wn({matchPatterns:lz,defaultMatchWidth:"any",parsePatterns:uz,defaultParseWidth:"any"})},lO={code:"en-US",formatDistance:D3,formatLong:z3,formatRelative:B3,localize:Y3,match:cz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dz(e,t){const r=Ze(e,t==null?void 0:t.in);return aO(r,I3(r))+1}function fz(e,t){const r=Ze(e,t==null?void 0:t.in),n=+Hd(r)-+w3(r);return Math.round(n/nO)+1}function uO(e,t){var d,f,h,p;const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),i=Pu(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=sn((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Jl(s,t),l=sn((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Jl(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function hz(e,t){var o,l,c,d;const r=Pu(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=uO(e,t),a=sn((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Jl(a,t)}function mz(e,t){const r=Ze(e,t==null?void 0:t.in),n=+Jl(r,t)-+hz(r,t);return Math.round(n/nO)+1}function ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ji={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ye(r+1,2)},d(e,t){return ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ye(e.getHours()%12||12,t.length)},H(e,t){return ye(e.getHours(),t.length)},m(e,t){return ye(e.getMinutes(),t.length)},s(e,t){return ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ye(i,t.length)}},ms={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ji.y(e,t)},Y:function(e,t,r,n){const i=uO(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return ye(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ye(a,t.length)},R:function(e,t){const r=iO(e);return ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ji.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=mz(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ye(i,t.length)},I:function(e,t,r){const n=fz(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ji.d(e,t)},D:function(e,t,r){const n=dz(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ye(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ye(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ye(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=ms.noon:n===0?i=ms.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=ms.evening:n>=12?i=ms.afternoon:n>=4?i=ms.morning:i=ms.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ji.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ji.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ji.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ji.s(e,t)},S:function(e,t){return ji.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return z1(n);case"XXXX":case"XX":return ma(n);case"XXXXX":case"XXX":default:return ma(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return z1(n);case"xxxx":case"xx":return ma(n);case"xxxxx":case"xxx":default:return ma(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+L1(n,":");case"OOOO":default:return"GMT"+ma(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+L1(n,":");case"zzzz":default:return"GMT"+ma(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ye(n,t.length)},T:function(e,t,r){return ye(+e,t.length)}};function L1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ye(a,2)}function z1(e,t){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):ma(e,t)}function ma(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ye(Math.trunc(n/60),2),a=ye(n%60,2);return r+i+t+a}const F1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return F1(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",F1(n,t)).replace("{{time}}",cO(i,t))},vz={p:cO,P:pz},gz=/^D+$/,yz=/^Y+$/,xz=["D","DD","YY","YYYY"];function bz(e){return gz.test(e)}function wz(e){return yz.test(e)}function _z(e,t,r){const n=jz(e,t,r);if(console.warn(n),xz.includes(e))throw new RangeError(n)}function jz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ez=/^'([^]*?)'?$/,Pz=/''/g,Oz=/[a-zA-Z]/;function yr(e,t,r){var d,f,h,p,v,g,y,x;const n=Pu(),i=(r==null?void 0:r.locale)??n.locale??lO,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(y=n.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,o=Ze(e,r==null?void 0:r.in);if(!j3(o))throw new RangeError("Invalid time value");let l=t.match(kz).map(w=>{const b=w[0];if(b==="p"||b==="P"){const _=vz[b];return _(w,i.formatLong)}return w}).join("").match(Sz).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Nz(w)};if($1[b])return{isToken:!0,value:w};if(b.match(Oz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&wz(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&bz(b))&&_z(b,t,String(e));const _=$1[b[0]];return _(o,b,i.localize,c)}).join("")}function Nz(e){const t=e.match(Ez);return t?t[1].replace(Pz,"'"):e}function Cz(e,t,r){const n=Pu(),i=(r==null?void 0:r.locale)??n.locale??lO,a=2520,s=sd(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[l,c]=jo(r==null?void 0:r.in,...s>0?[t,e]:[e,t]),d=T3(c,l),f=(qd(c)-qd(l))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<M1){const v=Math.round(h/60);return i.formatDistance("aboutXHours",v,o)}else{if(h<a)return i.formatDistance("xDays",1,o);if(h<Sc){const v=Math.round(h/M1);return i.formatDistance("xDays",v,o)}else if(h<Sc*2)return p=Math.round(h/Sc),i.formatDistance("aboutXMonths",p,o)}if(p=A3(c,l),p<12){const v=Math.round(h/Sc);return i.formatDistance("xMonths",v,o)}else{const v=p%12,g=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",g,o):v<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function ky(e,t){return Cz(e,Sy(e),t)}function Az(e){return+Ze(e)>Date.now()}function dO(e){return+Ze(e)<Date.now()}function Vd(e,t){return sO(sn(e,e),Sy(e))}function Tz(e,t){return sO(e,x3(Sy(e),1),t)}function Iz(){const e=Xa(),[t,r]=m.useState([]),[n,i]=m.useState(!1),[a,s]=m.useState(!1),o=m.useRef(null);m.useEffect(()=>{l();const g=setInterval(l,3e4);return()=>clearInterval(g)},[]),m.useEffect(()=>{function g(y){o.current&&!o.current.contains(y.target)&&i(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);async function l(){var x;const{data:g}=await L.auth.getSession();if(!((x=g==null?void 0:g.session)!=null&&x.user))return;const{data:y}=await L.from("notifications").select("*").eq("user_id",g.session.user.id).order("created_at",{ascending:!1}).limit(20);y&&r(y)}async function c(g){await L.from("notifications").update({is_read:!0}).eq("id",g),r(y=>y.map(x=>x.id===g?{...x,is_read:!0}:x))}async function d(){var y;s(!0);const{data:g}=await L.auth.getSession();(y=g==null?void 0:g.session)!=null&&y.user&&(await L.from("notifications").update({is_read:!0}).eq("user_id",g.session.user.id).eq("is_read",!1),r(x=>x.map(w=>({...w,is_read:!0}))),s(!1))}async function f(g){await L.from("notifications").delete().eq("id",g),r(y=>y.filter(x=>x.id!==g))}function h(g){c(g.id),g.link&&(e(g.link),i(!1))}const p=t.filter(g=>!g.is_read).length,v=g=>{const y={mention:"bg-blue-500",assignment:"bg-cyan-500",due_date:"bg-orange-500",response_generated:"bg-emerald-500",default:"bg-slate-500"};return y[g]||y.default};return u.jsxs("div",{className:"relative",ref:o,children:[u.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-slate-600 hover:text-cyan-600 hover:bg-cyan-50 rounded-lg transition",children:[u.jsx(FL,{className:"w-5 h-5"}),p>0&&u.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:p>9?"9+":p})]}),n&&u.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl border border-slate-200 shadow-xl z-50",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Notifications"}),p>0&&u.jsx("button",{onClick:d,disabled:a,className:"text-xs font-medium text-cyan-600 hover:text-cyan-700 disabled:opacity-50",children:"Tout marquer comme lu"})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-500",children:"Aucune notification"}):t.map(g=>u.jsxs("div",{className:`group relative flex gap-3 px-4 py-3 border-b border-slate-100 transition ${g.is_read?"bg-white":"bg-cyan-50/30"} ${g.link?"cursor-pointer hover:bg-slate-50":""}`,onClick:()=>h(g),children:[u.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 shrink-0 ${v(g.type)}`}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:g.title}),u.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:g.message}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ky(new Date(g.created_at),{addSuffix:!0})})]}),u.jsxs("div",{className:"flex items-start gap-1 opacity-0 group-hover:opacity-100 transition",children:[!g.is_read&&u.jsx("button",{onClick:y=>{y.stopPropagation(),c(g.id)},className:"p-1 text-slate-400 hover:text-cyan-600 rounded transition",title:"Marquer comme lu",children:u.jsx(Gl,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:y=>{y.stopPropagation(),f(g.id)},className:"p-1 text-slate-400 hover:text-red-600 rounded transition",title:"Supprimer",children:u.jsx(Qa,{className:"w-3.5 h-3.5"})})]})]},g.id))})]})]})}function La({title:e,subtitle:t}){return u.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shrink-0",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:e}),t&&u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:t})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx(bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-9 pr-4 py-2 w-64 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition"})]}),u.jsx(Iz,{}),u.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-600 flex items-center justify-center text-white text-xs font-medium",children:"A"})]})]})}function Mz({stats:e}){return u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(t=>{const r=t.change&&t.change>0?c3:t.change&&t.change<0?u3:r3,n=t.change&&t.change>0?"text-emerald-600":t.change&&t.change<0?"text-red-500":"text-slate-400";return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:`${t.color}12`},children:u.jsx(t.icon,{className:"w-5 h-5",style:{color:t.color}})}),t.change!==void 0&&u.jsxs("div",{className:`flex items-center gap-1 text-xs font-medium ${n}`,children:[u.jsx(r,{className:"w-3 h-3"}),u.jsxs("span",{children:[Math.abs(t.change),"%"]})]})]}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t.value}),u.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.label})]},t.label)})})}function fO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=fO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=fO(e))&&(n&&(n+=" "),n+=t);return n}var Dz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ey(e){if(typeof e!="string")return!1;var t=Dz;return t.includes(e)}var Rz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$z=new Set(Rz);function hO(e){return typeof e!="string"?!1:$z.has(e)}function mO(e){return typeof e=="string"&&e.startsWith("data-")}function ur(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(hO(r)||mO(r))&&(t[r]=e[r]);return t}function za(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ur(t)}return typeof e=="object"&&!Array.isArray(e)?ur(e):null}function Vt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(hO(r)||mO(r)||Ey(r))&&(t[r]=e[r]);return t}function Lz(e){return e==null?null:m.isValidElement(e)?Vt(e.props):typeof e=="object"&&!Array.isArray(e)?Vt(e):null}var zz=["children","width","height","viewBox","className","style","title","desc"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(null,arguments)}function Fz(e,t){if(e==null)return{};var r,n,i=Bz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Py=m.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=Fz(e,zz),f=a||{width:n,height:i,x:0,y:0},h=pe("recharts-surface",s);return m.createElement("svg",sg({},Vt(d),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,l),m.createElement("desc",null,c),r)}),Uz=["children","className"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(null,arguments)}function Wz(e,t){if(e==null)return{};var r,n,i=Hz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var et=m.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Wz(e,Uz),a=pe("recharts-layer",n);return m.createElement("g",og({className:a},Vt(i),{ref:t}),r)}),pO=m.createContext(null),qz=()=>m.useContext(pO);function Pe(e){return function(){return e}}const vO=Math.cos,Gd=Math.sin,un=Math.sqrt,Yd=Math.PI,wh=2*Yd,lg=Math.PI,ug=2*lg,pa=1e-6,Kz=ug-pa;function gO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Vz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gO;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Gz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gO:Vz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>pa)if(!(Math.abs(f*l-c*d)>pa)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,v=i-o,g=l*l+c*c,y=p*p+v*v,x=Math.sqrt(g),w=Math.sqrt(h),b=a*Math.tan((lg-Math.acos((g+h-y)/(2*x*w)))/2),_=b/w,j=b/x;Math.abs(_-1)>pa&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*v)},${this._x1=t+j*l},${this._y1=r+j*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>pa||Math.abs(this._y1-d)>pa)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%ug+ug),h>Kz?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>pa&&this._append`A${n},${n},0,${+(h>=lg)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Oy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Gz(t)}function Ny(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yO(e){this._context=e}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _h(e){return new yO(e)}function xO(e){return e[0]}function bO(e){return e[1]}function wO(e,t){var r=Pe(!0),n=null,i=_h,a=null,s=Oy(o);e=typeof e=="function"?e:e===void 0?xO:Pe(e),t=typeof t=="function"?t:t===void 0?bO:Pe(t);function o(l){var c,d=(l=Ny(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Pe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Pe(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Pe(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function kc(e,t,r){var n=null,i=Pe(!0),a=null,s=_h,o=null,l=Oy(c);e=typeof e=="function"?e:e===void 0?xO:Pe(+e),t=typeof t=="function"?t:Pe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bO:Pe(+r);function c(f){var h,p,v,g=(f=Ny(f)).length,y,x=!1,w,b=new Array(g),_=new Array(g);for(a==null&&(o=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(b[v],_[v]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(y,h,f),_[h]=+t(y,h,f),o.point(n?+n(y,h,f):b[h],r?+r(y,h,f):_[h]))}if(w)return o=null,w+""||null}function d(){return wO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pe(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Pe(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Pe(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Pe(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Pe(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Pe(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Pe(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class _O{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Yz(e){return new _O(e,!0)}function Xz(e){return new _O(e,!1)}const Cy={draw(e,t){const r=un(t/Yd);e.moveTo(r,0),e.arc(0,0,r,0,wh)}},Jz={draw(e,t){const r=un(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jO=un(1/3),Qz=jO*2,Zz={draw(e,t){const r=un(t/Qz),n=r*jO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},e6={draw(e,t){const r=un(t),n=-r/2;e.rect(n,n,r,r)}},t6=.8908130915292852,SO=Gd(Yd/10)/Gd(7*Yd/10),r6=Gd(wh/10)*SO,n6=-vO(wh/10)*SO,i6={draw(e,t){const r=un(t*t6),n=r6*r,i=n6*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=wh*a/5,o=vO(s),l=Gd(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},wp=un(3),a6={draw(e,t){const r=-un(t/(wp*3));e.moveTo(0,r*2),e.lineTo(-wp*r,-r),e.lineTo(wp*r,-r),e.closePath()}},kr=-.5,Er=un(3)/2,cg=1/un(12),s6=(cg/2+1)*3,o6={draw(e,t){const r=un(t/s6),n=r/2,i=r*cg,a=n,s=r*cg+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(kr*n-Er*i,Er*n+kr*i),e.lineTo(kr*a-Er*s,Er*a+kr*s),e.lineTo(kr*o-Er*l,Er*o+kr*l),e.lineTo(kr*n+Er*i,kr*i-Er*n),e.lineTo(kr*a+Er*s,kr*s-Er*a),e.lineTo(kr*o+Er*l,kr*l-Er*o),e.closePath()}};function l6(e,t){let r=null,n=Oy(i);e=typeof e=="function"?e:Pe(e||Cy),t=typeof t=="function"?t:Pe(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Pe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Pe(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xd(){}function Jd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kO(e){this._context=e}kO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u6(e){return new kO(e)}function EO(e){this._context=e}EO.prototype={areaStart:Xd,areaEnd:Xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c6(e){return new EO(e)}function PO(e){this._context=e}PO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d6(e){return new PO(e)}function OO(e){this._context=e}OO.prototype={areaStart:Xd,areaEnd:Xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f6(e){return new OO(e)}function B1(e){return e<0?-1:1}function U1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(B1(a)+B1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function W1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function _p(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Qd(e){this._context=e}Qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_p(this,this._t0,W1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_p(this,W1(this,r=U1(this,e,t)),r);break;default:_p(this,this._t0,r=U1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NO(e){this._context=new CO(e)}(NO.prototype=Object.create(Qd.prototype)).point=function(e,t){Qd.prototype.point.call(this,t,e)};function CO(e){this._context=e}CO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function h6(e){return new Qd(e)}function m6(e){return new NO(e)}function AO(e){this._context=e}AO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=H1(e),i=H1(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function H1(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function p6(e){return new AO(e)}function jh(e,t){this._context=e,this._t=t}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function v6(e){return new jh(e,.5)}function g6(e){return new jh(e,0)}function y6(e){return new jh(e,1)}function Fa(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function dg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function x6(e,t){return e[t]}function b6(e){const t=[];return t.key=e,t}function w6(){var e=Pe([]),t=dg,r=Fa,n=x6;function i(a){var s=Array.from(e.apply(this,arguments),b6),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,d=Ny(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Pe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Pe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?dg:typeof a=="function"?a:Pe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Fa,i):r},i}function _6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Fa(e,t)}}function j6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Fa(e,t)}}function S6(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var g=e[t[v]],y=g[n][1]||0,x=g[n-1][1]||0;p+=y-x}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Fa(e,t)}}var Sh={},TO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(TO);var Ay={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ay);var kh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(kh);var Eh={},IO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(IO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IO,r=kh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(Eh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TO,r=Ay,n=kh,i=Eh;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?r.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(Sh);var k6=Sh.get;const Ba=di(k6);var E6=4;function Di(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E6,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ke(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Di(o)+a:i+a},"")}var wt=e=>e===0?0:e>0?1:-1,on=e=>typeof e=="number"&&e!=+e,Ua=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,V=e=>(typeof e=="number"||e instanceof Number)&&!on(e),On=e=>V(e)||typeof e=="string",P6=0,Ql=e=>{var t=++P6;return"".concat(e||"").concat(t)},Lt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!V(t)&&typeof t!="string")return n;var a;if(Ua(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return on(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},MO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Me(e,t,r){return V(e)&&V(t)?Di(e+r*(t-e)):t}function DO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ba(n,t))===r)}var Xe=e=>e===null||typeof e>"u",Ou=e=>Xe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nr(e){return e!=null}function Za(){}var O6=["type","size","sizeType"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(null,arguments)}function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){N6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6(e,t,r){return(t=C6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C6(e){var t=A6(e,"string");return typeof t=="symbol"?t:t+""}function A6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6(e,t){if(e==null)return{};var r,n,i=I6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function I6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RO={symbolCircle:Cy,symbolCross:Jz,symbolDiamond:Zz,symbolSquare:e6,symbolStar:i6,symbolTriangle:a6,symbolWye:o6},M6=Math.PI/180,D6=e=>{var t="symbol".concat(Ou(e));return RO[t]||Cy},R6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*M6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$6=(e,t)=>{RO["symbol".concat(Ou(e))]=t},Ty=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=T6(e,O6),a=K1(K1({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=D6(s),p=l6().type(h).size(R6(r,n,s)),v=p();if(v!==null)return v},{className:l,cx:c,cy:d}=a,f=Vt(a);return V(c)&&V(d)&&V(r)?m.createElement("path",fg({},f,{className:pe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};Ty.registerSymbol=$6;var $O=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Iy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Ey(i)&&(n[i]=a=>r[i](r,a))}),n},L6=(e,t,r)=>n=>(e(t,r,n),null),Nu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Ey(i)&&typeof a=="function"&&(n||(n={}),n[i]=L6(a,t,r))}),n};function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){F6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F6(e,t,r){return(t=B6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B6(e){var t=U6(e,"string");return typeof t=="symbol"?t:t+""}function U6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t){var r=z6({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(null,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){H6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H6(e,t,r){return(t=q6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q6(e){var t=K6(e,"string");return typeof t=="symbol"?t:t+""}function K6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Or=32,V6={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function G6(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Or/2,a=Or/6,s=Or/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var c;return m.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Or,y2:i,className:"recharts-legend-icon"})}if(l==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Or,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return m.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Or/8,"h").concat(Or,"v").concat(Or*3/4,"h").concat(-Or,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var d=W6({},t);return delete d.legendIcon,m.cloneElement(t.legendIcon,d)}return m.createElement(Ty,{fill:o,cx:i,cy:i,size:Or,sizeType:"diameter",type:l})}function Y6(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Or,height:Or},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,p=pe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return m.createElement("li",Zd({className:p,style:l,key:"legend-item-".concat(f)},Nu(e,d,f)),m.createElement(Py,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},m.createElement(G6,{data:d,iconType:s,inactiveColor:a})),m.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g))})}var X6=e=>{var t=at(e,V6),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:a},m.createElement(Y6,Zd({},t,{payload:r})))},LO={},zO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(zO);var FO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(FO);var My={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(My);var BO={},Ph={},UO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(UO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ph);var WO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(WO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ph,r=WO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(BO);var HO={},qO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(qO);var KO={},Dy={},VO={},Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ry);var $y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})($y);var Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Ly);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=$y,n=Ly;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function p(v,g,y,x,w,b){const _=h(v,g,y,x,w,b);return _!==void 0?!!_:a(v,g,p,b)},new Map)}function a(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,p);case"function":return Object.keys(f).length>0?a(d,{...f},h,p):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function s(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,p);if(f instanceof Map)return o(d,f,h,p);if(f instanceof Set)return c(d,f,h,p);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===d;p==null||p.set(f,d);try{for(let g=0;g<v.length;g++){const y=v[g];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,g]of f.entries()){const y=d.get(v);if(h(y,g,v,d,f,p)===!1)return!1}return!0}function l(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let w=0;w<d.length;w++){if(v.has(w))continue;const b=d[w];let _=!1;if(h(b,y,g,d,f,p)&&(_=!0),_){v.add(w),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,p){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=c})(VO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Dy);var GO={},zy={},YO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(YO);var Oh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Oh);var Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",v="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",O="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=O,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(Fy);var XO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(XO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YO,r=Oh,n=Fy,i=$y,a=XO;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,v=void 0){const g=v==null?void 0:v(d,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,p,v);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[x,w]of d)y.set(x,o(w,x,h,p,v));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const x of d)y.add(o(x,void 0,h,p,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,p,v);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),l(y,d,h,p,v),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),l(y,d,h,p,v),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),l(y,d,h,p,v),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,p,v),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return p.set(d,y),l(y,d,h,p,v),y}if(d instanceof Number){const y=new Number(d.valueOf());return p.set(d,y),l(y,d,h,p,v),y}if(d instanceof String){const y=new String(d.valueOf());return p.set(d,y),l(y,d,h,p,v),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),l(y,d,h,p,v),y}return d}function l(d,f,h=d,p,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,p,v))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(GO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dy,r=GO;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(KO);var JO={},QO={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy,r=Oh,n=Fy;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case n.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(ZO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(QO);var eN={},By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(By);var tN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(tN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ay,r=By,n=tN,i=Eh;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dy,r=kh,n=QO,i=Sh,a=eN;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(JO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My,r=qO,n=KO,i=JO;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(HO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zO,r=FO,n=My,i=BO,a=HO;function s(o,l=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(LO);var J6=LO.uniqBy;const Y1=di(J6);function rN(e,t,r){return t===!0?Y1(e,r):typeof t=="function"?Y1(e,t):e}var nN={exports:{}},iN={},aN={exports:{}},sN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=m;function Q6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z6=typeof Object.is=="function"?Object.is:Q6,eF=io.useState,tF=io.useEffect,rF=io.useLayoutEffect,nF=io.useDebugValue;function iF(e,t){var r=t(),n=eF({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return rF(function(){i.value=r,i.getSnapshot=t,jp(i)&&a({inst:i})},[e,r,t]),tF(function(){return jp(i)&&a({inst:i}),e(function(){jp(i)&&a({inst:i})})},[e]),nF(r),r}function jp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Z6(e,r)}catch{return!0}}function aF(e,t){return t()}var sF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aF:iF;sN.useSyncExternalStore=io.useSyncExternalStore!==void 0?io.useSyncExternalStore:sF;aN.exports=sN;var oF=aN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=m,lF=oF;function uF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cF=typeof Object.is=="function"?Object.is:uF,dF=lF.useSyncExternalStore,fF=Nh.useRef,hF=Nh.useEffect,mF=Nh.useMemo,pF=Nh.useDebugValue;iN.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=fF(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=mF(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,cF(d,p))return v;var g=n(p);return i!==void 0&&i(v,g)?(d=p,v):(d=p,f=g)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=dF(e,a[0],a[1]);return hF(function(){s.hasValue=!0,s.value=o},[o]),pF(o),o};nN.exports=iN;var vF=nN.exports,Uy=m.createContext(null),gF=e=>e,Ne=()=>{var e=m.useContext(Uy);return e?e.store.dispatch:gF},od=()=>{},yF=()=>od,xF=(e,t)=>e===t;function Q(e){var t=m.useContext(Uy),r=m.useMemo(()=>t?n=>{if(n!=null)return e(n)}:od,[t,e]);return vF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:yF,t?t.store.getState:od,t?t.store.getState:od,r,xF)}function bF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _F(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var X1=e=>Array.isArray(e)?e:[e];function jF(e){const t=Array.isArray(e[0])?e[0]:e;return _F(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function SF(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var kF=class{constructor(e){this.value=e}deref(){return this.value}},EF=typeof WeakRef<"u"?WeakRef:kF,PF=0,J1=1;function Ec(){return{s:PF,v:void 0,o:null,p:null}}function oN(e,t={}){let r=Ec();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(v);y===void 0?(o=Ec(),g.set(v,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(v);y===void 0?(o=Ec(),g.set(v,o)):o=y}}const c=o;let d;if(o.s===J1)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new EF(d):d}return c.s=J1,c.v=d,d}return s.clearCache=()=>{r=Ec(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function OF(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),bF(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=oN,argsMemoizeOptions:v=[],devModeChecks:g={}}=d,y=X1(h),x=X1(v),w=jF(i),b=f(function(){return a++,c.apply(null,arguments)},...y),_=p(function(){s++;const S=SF(w,arguments);return o=b.apply(null,S),o},...x);return Object.assign(_,{resultFunc:c,memoizedResultFunc:b,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var T=OF(oN),NF=Object.assign((e,t=T)=>{wF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>NF}),lN={},uN={},cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(cN);var dN={},Wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Wy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(dN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN,r=dN,n=Eh;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,v)=>{let g=p;for(let y=0;y<v.length&&g!=null;++y)g=g[v[y]];return g},d=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:c(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?c(v,p):typeof v=="object"?v[p]:v,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(v=>d(v,p))})).slice().sort((p,v)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(p.criteria[g],v.criteria[g],o[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(uN);var fN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(r,0),i}e.flatten=t})(fN);var Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=Ph,n=Ry,i=Ly;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(Hy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uN,r=fN,n=Hy;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(lN);var CF=lN.sortBy;const Ch=di(CF);var hN=e=>e.legend.settings,AF=e=>e.legend.size,TF=e=>e.legend.payload,IF=T([TF,hN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ch(n,r):n});function MF(){return Q(IF)}var Pc=1;function mN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Pc||Math.abs(s.left-t.left)>Pc||Math.abs(s.top-t.top)>Pc||Math.abs(s.width-t.width)>Pc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Et(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var DF=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q1=DF,Sp=()=>Math.random().toString(36).substring(7).split("").join("."),RF={INIT:`@@redux/INIT${Sp()}`,REPLACE:`@@redux/REPLACE${Sp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sp()}`},ef=RF;function qy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pN(e,t,r){if(typeof e!="function")throw new Error(Et(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Et(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Et(1));return r(pN)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(Et(3));return i}function f(y){if(typeof y!="function")throw new Error(Et(4));if(l)throw new Error(Et(5));let x=!0;c();const w=o++;return s.set(w,y),function(){if(x){if(l)throw new Error(Et(6));x=!1,c(),s.delete(w),a=null}}}function h(y){if(!qy(y))throw new Error(Et(7));if(typeof y.type>"u")throw new Error(Et(8));if(typeof y.type!="string")throw new Error(Et(17));if(l)throw new Error(Et(9));try{l=!0,i=n(i,y)}finally{l=!1}return(a=s).forEach(w=>{w()}),y}function p(y){if(typeof y!="function")throw new Error(Et(10));n=y,h({type:ef.REPLACE})}function v(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Et(11));function w(){const _=x;_.next&&_.next(d())}return w(),{unsubscribe:y(w)}},[Q1](){return this}}}return h({type:ef.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[Q1]:v}}function $F(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ef.INIT})>"u")throw new Error(Et(12));if(typeof r(void 0,{type:ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Et(13))})}function vN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{$F(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=s[f],v=h(p,o);if(typeof v>"u")throw o&&o.type,new Error(Et(14));c[f]=v,l=l||v!==p}return l=l||n.length!==Object.keys(s).length,l?c:s}}function tf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function LF(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Et(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=tf(...o)(i.dispatch),{...i,dispatch:a}}}function gN(e){return qy(e)&&"type"in e&&typeof e.type=="string"}var yN=Symbol.for("immer-nothing"),Z1=Symbol.for("immer-draftable"),Gt=Symbol.for("immer-state");function Qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vr=Object,ao=vr.getPrototypeOf,rf="constructor",Ah="prototype",hg="configurable",nf="enumerable",ld="writable",Zl="value",ni=e=>!!e&&!!e[Gt];function ln(e){var t;return e?xN(e)||Ih(e)||!!e[Z1]||!!((t=e[rf])!=null&&t[Z1])||Mh(e)||Dh(e):!1}var zF=vr[Ah][rf].toString(),e_=new WeakMap;function xN(e){if(!e||!Ky(e))return!1;const t=ao(e);if(t===null||t===vr[Ah])return!0;const r=vr.hasOwnProperty.call(t,rf)&&t[rf];if(r===Object)return!0;if(!ws(r))return!1;let n=e_.get(r);return n===void 0&&(n=Function.toString.call(r),e_.set(r,n)),n===zF}function Th(e,t,r=!0){Cu(e)===0?(r?Reflect.ownKeys(e):vr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Cu(e){const t=e[Gt];return t?t.type_:Ih(e)?1:Mh(e)?2:Dh(e)?3:0}var t_=(e,t,r=Cu(e))=>r===2?e.has(t):vr[Ah].hasOwnProperty.call(e,t),mg=(e,t,r=Cu(e))=>r===2?e.get(t):e[t],af=(e,t,r,n=Cu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function FF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ih=Array.isArray,Mh=e=>e instanceof Map,Dh=e=>e instanceof Set,Ky=e=>typeof e=="object",ws=e=>typeof e=="function",kp=e=>typeof e=="boolean";function BF(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Bn=e=>e.copy_||e.base_,Vy=e=>e.modified_?e.copy_:e.base_;function pg(e,t){if(Mh(e))return new Map(e);if(Dh(e))return new Set(e);if(Ih(e))return Array[Ah].slice.call(e);const r=xN(e);if(t===!0||t==="class_only"&&!r){const n=vr.getOwnPropertyDescriptors(e);delete n[Gt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[ld]===!1&&(o[ld]=!0,o[hg]=!0),(o.get||o.set)&&(n[s]={[hg]:!0,[ld]:!0,[nf]:o[nf],[Zl]:e[s]})}return vr.create(ao(e),n)}else{const n=ao(e);if(n!==null&&r)return{...e};const i=vr.create(n);return vr.assign(i,e)}}function Gy(e,t=!1){return Rh(e)||ni(e)||!ln(e)||(Cu(e)>1&&vr.defineProperties(e,{set:Oc,add:Oc,clear:Oc,delete:Oc}),vr.freeze(e),t&&Th(e,(r,n)=>{Gy(n,!0)},!1)),e}function UF(){Qr(2)}var Oc={[Zl]:UF};function Rh(e){return e===null||!Ky(e)?!0:vr.isFrozen(e)}var sf="MapSet",vg="Patches",r_="ArrayMethods",bN={};function Wa(e){const t=bN[e];return t||Qr(0,e),t}var n_=e=>!!bN[e],eu,wN=()=>eu,WF=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:n_(sf)?Wa(sf):void 0,arrayMethodsPlugin_:n_(r_)?Wa(r_):void 0});function i_(e,t){t&&(e.patchPlugin_=Wa(vg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gg(e){yg(e),e.drafts_.forEach(HF),e.drafts_=null}function yg(e){e===eu&&(eu=e.parent_)}var a_=e=>eu=WF(eu,e);function HF(e){const t=e[Gt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function s_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Gt].modified_&&(gg(t),Qr(4)),ln(e)&&(e=o_(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Gt].base_,e,t)}else e=o_(t,r);return qF(t,e,!0),gg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yN?e:void 0}function o_(e,t){if(Rh(t))return t;const r=t[Gt];if(!r)return of(t,e.handledSet_,e);if(!$h(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);SN(r,e)}return r.copy_}function qF(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gy(t,r)}function _N(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var $h=(e,t)=>e.scope_===t,KF=[];function jN(e,t,r,n){const i=Bn(e),a=e.type_;if(n!==void 0&&mg(i,n,a)===t){af(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Th(i,(l,c)=>{if(ni(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??KF;for(const o of s)af(i,o,r,a)}function VF(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!$h(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=Vy(a);jN(e,a.draft_??a,s,r),SN(a,i)})}function SN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}_N(e)}}function GF(e,t,r){const{scope_:n}=e;if(ni(r)){const i=r[Gt];$h(i,n)&&i.callbacks_.push(function(){ud(e);const s=Vy(i);jN(e,r,s,t)})}else ln(r)&&e.callbacks_.push(function(){const a=Bn(e);e.type_===3?a.has(r)&&of(r,n.handledSet_,n):mg(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&of(mg(e.copy_,t,e.type_),n.handledSet_,n)})}function of(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ni(e)||t.has(e)||!ln(e)||Rh(e)||(t.add(e),Th(e,(n,i)=>{if(ni(i)){const a=i[Gt];if($h(a,r)){const s=Vy(a);af(e,n,s,e.type_),_N(a)}}else ln(i)&&of(i,t,r)})),e}function YF(e,t){const r=Ih(e),n={type_:r?1:0,scope_:t?t.scope_:wN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=lf;r&&(i=[n],a=tu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var lf={get(e,t){if(t===Gt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Bn(e);if(!t_(i,t,e.type_))return XF(e,i,t);const a=i[t];if(e.finalized_||!ln(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&BF(t))return a;if(a===Ep(e.base_,t)){ud(e);const s=e.type_===1?+t:t,o=bg(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Bn(e)},ownKeys(e){return Reflect.ownKeys(Bn(e))},set(e,t,r){const n=kN(Bn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ep(Bn(e),t),a=i==null?void 0:i[Gt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(FF(r,i)&&(r!==void 0||t_(e.base_,t,e.type_)))return!0;ud(e),xg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),GF(e,t,r)),!0},deleteProperty(e,t){return ud(e),Ep(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Bn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ld]:!0,[hg]:e.type_!==1||t!=="length",[nf]:n[nf],[Zl]:r[t]}},defineProperty(){Qr(11)},getPrototypeOf(e){return ao(e.base_)},setPrototypeOf(){Qr(12)}},tu={};for(let e in lf){let t=lf[e];tu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}tu.deleteProperty=function(e,t){return tu.set.call(this,e,t,void 0)};tu.set=function(e,t,r){return lf.set.call(this,e[0],t,r,e[0])};function Ep(e,t){const r=e[Gt];return(r?Bn(r):e)[t]}function XF(e,t,r){var i;const n=kN(t,r);return n?Zl in n?n[Zl]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function kN(e,t){if(!(t in e))return;let r=ao(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ao(r)}}function xg(e){e.modified_||(e.modified_=!0,e.parent_&&xg(e.parent_))}function ud(e){e.copy_||(e.assigned_=new Map,e.copy_=pg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ws(r)&&!ws(n)){const s=n;n=r;const o=this;return function(c=s,...d){return o.produce(c,f=>n.call(this,f,...d))}}ws(n)||Qr(6),i!==void 0&&!ws(i)&&Qr(7);let a;if(ln(r)){const s=a_(this),o=bg(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?gg(s):yg(s)}return i_(s,i),s_(a,s)}else if(!r||!Ky(r)){if(a=n(r),a===void 0&&(a=r),a===yN&&(a=void 0),this.autoFreeze_&&Gy(a,!0),i){const s=[],o=[];Wa(vg).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Qr(1,r)},this.produceWithPatches=(r,n)=>{if(ws(r))return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},kp(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),kp(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),kp(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ln(t)||Qr(8),ni(t)&&(t=nn(t));const r=a_(this),n=bg(r,t,void 0);return n[Gt].isManual_=!0,yg(r),n}finishDraft(t,r){const n=t&&t[Gt];(!n||!n.isManual_)&&Qr(9);const{scope_:i}=n;return i_(i,r),s_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Wa(vg).applyPatches_;return ni(t)?i(t,r):this.produce(t,a=>i(a,r))}};function bg(e,t,r,n){const[i,a]=Mh(t)?Wa(sf).proxyMap_(t,r):Dh(t)?Wa(sf).proxySet_(t,r):YF(t,r);return((r==null?void 0:r.scope_)??wN()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?VF(r,a,n):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function nn(e){return ni(e)||Qr(10,e),EN(e)}function EN(e){if(!ln(e)||Rh(e))return e;const t=e[Gt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=pg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=pg(e,!0);return Th(r,(i,a)=>{af(r,i,EN(a))},n),t&&(t.finalized_=!1),r}var QF=new JF,PN=QF.produce;function ON(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var ZF=ON(),eB=ON,tB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tf:tf.apply(null,arguments)};function Lr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>gN(n)&&n.type===e,r}var NN=class fl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fl.prototype)}static get[Symbol.species](){return fl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fl(...t[0].concat(this)):new fl(...t.concat(this))}};function l_(e){return ln(e)?PN(e,()=>{}):e}function Nc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function rB(e){return typeof e=="boolean"}var nB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new NN;return r&&(rB(r)?s.push(ZF):s.push(eB(r.extraArgument))),s},CN="RTK_autoBatch",$e=()=>e=>({payload:e,meta:{[CN]:!0}}),u_=e=>t=>{setTimeout(t,e)},AN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:u_(10):e.type==="callback"?e.queueNotification:u_(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[CN]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(d)}finally{i=!0}}})},iB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NN(e);return n&&i.push(AN(typeof n=="object"?n:void 0)),i};function aB(e){const t=nB(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(qy(r))l=vN(r);else throw new Error(xr(1));let c;typeof n=="function"?c=n(t):c=t();let d=tf;i&&(d=tB({trace:!1,...typeof i=="object"&&i}));const f=LF(...c),h=iB(f);let p=typeof o=="function"?o(h):h();const v=d(...p);return pN(l,s,v)}function TN(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(xr(28));if(o in t)throw new Error(xr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function sB(e){return typeof e=="function"}function oB(e,t){let[r,n,i]=TN(t),a;if(sB(e))a=()=>l_(e());else{const o=l_(e);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(ni(d)){const p=f(d,l);return p===void 0?d:p}else{if(ln(d))return PN(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var lB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uB=(e=21)=>{let t="",r=e;for(;r--;)t+=lB[Math.random()*64|0];return t},cB=Symbol.for("rtk-slice-createasyncthunk");function dB(e,t){return`${e}/${t}`}function fB({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[cB];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(xr(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(mB()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(xr(12));if(S in c.sliceCaseReducersByType)throw new Error(xr(13));return c.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return c.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return c.actionCreators[_]=j,d},exposeCaseReducer(_,j){return c.sliceCaseReducersByName[_]=j,d}};l.forEach(_=>{const j=o[_],S={reducerName:_,type:dB(a,_),createNotation:typeof i.reducers=="function"};vB(j)?yB(S,j,d,t):pB(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof i.extraReducers=="function"?TN(i.extraReducers):[i.extraReducers],k={..._,...c.sliceCaseReducersByType};return oB(i.initialState,E=>{for(let O in k)E.addCase(O,k[O]);for(let O of c.sliceMatchers)E.addMatcher(O.matcher,O.reducer);for(let O of j)E.addMatcher(O.matcher,O.reducer);S&&E.addDefaultCase(S)})}const h=_=>_,p=new Map,v=new WeakMap;let g;function y(_,j){return g||(g=f()),g(_,j)}function x(){return g||(g=f()),g.getInitialState()}function w(_,j=!1){function S(E){let O=E[_];return typeof O>"u"&&j&&(O=Nc(v,S,x)),O}function k(E=h){const O=Nc(p,j,()=>new WeakMap);return Nc(O,E,()=>{const C={};for(const[I,P]of Object.entries(i.selectors??{}))C[I]=hB(P,E,()=>Nc(v,E,x),j);return C})}return{reducerPath:_,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const b={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(_,{reducerPath:j,...S}={}){const k=j??s;return _.inject({reducerPath:k,reducer:y},S),{...b,...w(k,!0)}}};return b}}function hB(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var cr=fB();function mB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function pB({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!gB(n))throw new Error(xr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Lr(e,s):Lr(e))}function vB(e){return e._reducerDefinitionType==="asyncThunk"}function gB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yB({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||Cc,pending:o||Cc,rejected:l||Cc,settled:c||Cc})}function Cc(){}var xB="task",IN="listener",MN="completed",Yy="cancelled",bB=`task-${Yy}`,wB=`task-${MN}`,wg=`${IN}-${Yy}`,_B=`${IN}-${MN}`,Lh=class{constructor(e){$m(this,"name","TaskAbortError");$m(this,"message");this.code=e,this.message=`${xB} ${Yy} (reason: ${e})`}},Xy=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},uf=()=>{},DN=(e,t=uf)=>(e.catch(t),e),RN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Oa=e=>{if(e.aborted)throw new Lh(e.reason)};function $N(e,t){let r=uf;return new Promise((n,i)=>{const a=()=>i(new Lh(e.reason));if(e.aborted){a();return}r=RN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=uf})}var jB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Lh?"cancelled":"rejected",error:r}}finally{t==null||t()}},cf=e=>t=>DN($N(e,t).then(r=>(Oa(e),r))),LN=e=>{const t=cf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ks}=Object,c_={},zh="listenerMiddleware",SB=(e,t)=>{const r=n=>RN(e,()=>n.abort(e.reason));return(n,i)=>{Xy(n);const a=new AbortController;r(a);const s=jB(async()=>{Oa(e),Oa(a.signal);const o=await n({pause:cf(a.signal),delay:LN(a.signal),signal:a.signal});return Oa(a.signal),o},()=>a.abort(wB));return i!=null&&i.autoJoin&&t.push(s.catch(uf)),{result:cf(e)(s),cancel(){a.abort(bB)}}}},kB=(e,t)=>{const r=async(n,i)=>{Oa(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await $N(t,Promise.race(o));return Oa(t),l}finally{a()}};return(n,i)=>DN(r(n,i))},zN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Lr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return Xy(a),{predicate:i,type:t,effect:a}},FN=Ks(e=>{const{type:t,predicate:r,effect:n}=zN(e);return{id:uB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>FN}),d_=(e,t)=>{const{type:r,effect:n,predicate:i}=zN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},_g=e=>{e.pending.forEach(t=>{t.abort(wg)})},EB=(e,t)=>()=>{for(const r of t.keys())_g(r);e.clear()},f_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},BN=Ks(Lr(`${zh}/add`),{withTypes:()=>BN}),PB=Lr(`${zh}/removeAll`),UN=Ks(Lr(`${zh}/remove`),{withTypes:()=>UN}),OB=(...e)=>{console.error(`${zh}/error`,...e)},Au=(e={})=>{const t=new Map,r=new Map,n=p=>{const v=r.get(p)??0;r.set(p,v+1)},i=p=>{const v=r.get(p)??1;v===1?r.delete(p):r.set(p,v-1)},{extra:a,onError:s=OB}=e;Xy(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&_g(p)}),l=p=>{const v=d_(t,p)??FN(p);return o(v)};Ks(l,{withTypes:()=>l});const c=p=>{const v=d_(t,p);return v&&(v.unsubscribe(),p.cancelActive&&_g(v)),!!v};Ks(c,{withTypes:()=>c});const d=async(p,v,g,y)=>{const x=new AbortController,w=kB(l,x.signal),b=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(v,Ks({},g,{getOriginalState:y,condition:(_,j)=>w(_,j).then(Boolean),take:w,delay:LN(x.signal),pause:cf(x.signal),extra:a,signal:x.signal,fork:SB(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,j,S)=>{_!==x&&(_.abort(wg),S.delete(_))})},cancel:()=>{x.abort(wg),p.pending.delete(x)},throwIfCancelled:()=>{Oa(x.signal)}})))}catch(_){_ instanceof Lh||f_(s,_,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(_B),i(p),p.pending.delete(x)}},f=EB(t,r);return{middleware:p=>v=>g=>{if(!gN(g))return v(g);if(BN.match(g))return l(g.payload);if(PB.match(g)){f();return}if(UN.match(g))return c(g.payload);let y=p.getState();const x=()=>{if(y===c_)throw new Error(xr(23));return y};let w;try{if(w=v(g),t.size>0){const b=p.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(g,b,y)}catch(k){S=!1,f_(s,k,{raisedBy:"predicate"})}S&&d(j,g,p,x)}}}finally{y=c_}return w},startListening:l,stopListening:c,clearListeners:f}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WN=cr({name:"chartLayout",initialState:NB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:CB,setLayout:AB,setChartSize:TB,setScale:IB}=WN.actions,MB=WN.reducer;function HN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ae(e){return Number.isFinite(e)}function Nn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){DB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DB(e,t,r){return(t=RB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function je(e,t,r){return Xe(e)||Xe(t)?r:On(t)?Ba(e,t,r):typeof t=="function"?t(e):r}var LB=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&V(e[a]))return Ds(Ds({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&V(e[s]))return Ds(Ds({},e),{},{[s]:e[s]+(i||0)})}return e},An=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qN=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},KN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(g=p==="angleAxis"&&a&&a.length>=2?wt(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,w)=>{var b=n?n.indexOf(x):x,_=s.map(b);return ae(_)?{coordinate:_+g,value:x,offset:g,index:w}:null}).filter(nr);return y}return l&&c?c.map((x,w)=>{var b=s.map(x);return ae(b)?{coordinate:b+g,value:x,index:w,offset:g}:null}).filter(nr):s.ticks&&!r&&d!=null?s.ticks(d).map((x,w)=>{var b=s.map(x);return ae(b)?{coordinate:b+g,value:x,index:w,offset:g}:null}).filter(nr):s.domain().map((x,w)=>{var b=s.map(x);return ae(b)?{coordinate:b+g,value:n?n[x]:x,index:w,offset:g}:null}).filter(nr)},zB=(e,t)=>{if(!t||t.length!==2||!V(t[0])||!V(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!V(e[0])||e[0]<r)&&(i[0]=r),(!V(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},FB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=on(d)?f:d;h>=0?(c[0]=a,a+=h,c[1]=a):(c[0]=s,s+=h,c[1]=s)}}}},BB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=on(l[1])?l[0]:l[1];c>=0?(l[0]=a,a+=c,l[1]=a):(l[0]=0,l[1]=0)}}}},UB={sign:FB,expand:_6,none:Fa,silhouette:j6,wiggle:S6,positive:BB},WB=(e,t,r)=>{var n,i=(n=UB[r])!==null&&n!==void 0?n:Fa,a=w6().keys(t).value((o,l)=>Number(je(o,l,0))).order(dg).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=je(e[d],t[l],0);Array.isArray(f)&&f.length===2&&V(f[0])&&V(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function VN(e){return e==null?void 0:String(e)}function m_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xe(i[t.dataKey])){var o=DO(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var l=je(i,Xe(s)?t.dataKey:s),c=t.scale.map(l);return V(c)?c:null}var p_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=je(a,t.dataKey,t.scale.domain()[s]);if(Xe(o))return null;var l=t.scale.map(o);return V(l)?l-i/2+n:null},HB=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},qB=e=>{var t=e.flat(2).filter(V);return[Math.min(...t),Math.max(...t)]},KB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VB=(e,t,r)=>{if(e!=null)return KB(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=HN(c,t,r),f=qB(d);return!ae(f[0])||!ae(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},v_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,so=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Ch(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function y_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ds(Ds({},t),{},{dataKey:r,payload:n,value:i,name:a})}function So(e,t){if(e)return String(e);if(typeof t=="string")return t}var GB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},YB=(e,t)=>t==="centric"?e.angle:e.radius,mi=e=>e.layout.width,pi=e=>e.layout.height,XB=e=>e.layout.scale,GN=e=>e.layout.margin,Fh=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bh=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),YN="data-recharts-item-index",XN="data-recharts-item-id",Tu=60;function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){JB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eU=e=>e.brush.height;function tU(e){var t=Bh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Tu;return r+i}return r},0)}function rU(e){var t=Bh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Tu;return r+i}return r},0)}function nU(e){var t=Fh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function iU(e){var t=Fh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ht=T([mi,pi,GN,eU,tU,rU,nU,iU,hN,AF],(e,t,r,n,i,a,s,o,l,c)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=Ac(Ac({},f),d),p=h.bottom;h.bottom+=n,h=LB(h,l,c);var v=e-h.left-h.right,g=t-h.top-h.bottom;return Ac(Ac({brushBottom:p},h),{},{width:Math.max(v,0),height:Math.max(g,0)})}),aU=T(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jy=T(mi,pi,(e,t)=>({x:0,y:0,width:e,height:t})),sU=m.createContext(null),Ft=()=>m.useContext(sU)!=null,Uh=e=>e.brush,Wh=T([Uh,ht,GN],(e,t,r)=>({height:e.height,x:V(e.x)?e.x:t.left,y:V(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:V(e.width)?e.width:t.width})),JN={},QN={},ZN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{v(),s=void 0,o=null},y=()=>{d()},x=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const b=h==null;p(),l&&b&&d()};return x.schedule=p,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(ZN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZN;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},i,{edges:c}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},v=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=v,p}e.debounce=r})(QN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QN;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(JN);var oU=JN.throttle;const lU=di(oU);var df=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},_n={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},eC=(e,t,r)=>{var{width:n=_n.width,height:i=_n.height,aspect:a,maxHeight:s}=r,o=Ua(n)?e:Number(n),l=Ua(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},uU={width:0,height:0,overflow:"visible"},cU={width:0,overflowX:"visible"},dU={height:0,overflowY:"visible"},fU={},hU=e=>{var{width:t,height:r}=e,n=Ua(t),i=Ua(r);return n&&i?uU:n?cU:i?dU:fU};function mU(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=_n.width,a=_n.height):i===void 0?i=n&&n>0?void 0:_n.width:a===void 0&&(a=n&&n>0?void 0:_n.height),{width:i,height:a}}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tC=m.createContext(_n.initialDimension);function yU(e){return Nn(e.width)&&Nn(e.height)}function rC(e){var{children:t,width:r,height:n}=e,i=m.useMemo(()=>({width:r,height:n}),[r,n]);return yU(i)?m.createElement(tC.Provider,{value:i},t):null}var Qy=()=>m.useContext(tC),xU=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=_n.initialDimension,width:i,height:a,minWidth:s=_n.minWidth,minHeight:o,maxHeight:l,children:c,debounce:d=_n.debounce,id:f,className:h,onResize:p,style:v={}}=e,g=m.useRef(null),y=m.useRef();y.current=p,m.useImperativeHandle(t,()=>g.current);var[x,w]=m.useState({containerWidth:n.width,containerHeight:n.height}),b=m.useCallback((E,O)=>{w(C=>{var I=Math.round(E),P=Math.round(O);return C.containerWidth===I&&C.containerHeight===P?C:{containerWidth:I,containerHeight:P}})},[]);m.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Za;var E=P=>{var z,M=P[0];if(M!=null){var{width:F,height:q}=M.contentRect;b(F,q),(z=y.current)===null||z===void 0||z.call(y,F,q)}};d>0&&(E=lU(E,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(E),{width:C,height:I}=g.current.getBoundingClientRect();return b(C,I),O.observe(g.current),()=>{O.disconnect()}},[b,d]);var{containerWidth:_,containerHeight:j}=x;df(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:k}=eC(_,j,{width:i,height:a,aspect:r,maxHeight:l});return df(S!=null&&S>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,k,i,a,s,o,r),m.createElement("div",{id:f?"".concat(f):void 0,className:pe("recharts-responsive-container",h),style:w_(w_({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},m.createElement("div",{style:hU({width:i,height:a})},m.createElement(rC,{width:S,height:k},c)))}),cd=m.forwardRef((e,t)=>{var r=Qy();if(Nn(r.width)&&Nn(r.height))return e.children;var{width:n,height:i}=mU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=eC(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return V(a)&&V(s)?m.createElement(rC,{width:a,height:s},e.children):m.createElement(xU,jg({},e,{width:n,height:i,ref:t}))});function Zy(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Hh=()=>{var e,t=Ft(),r=Q(aU),n=Q(Wh),i=(e=Q(Uh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},bU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nC=()=>{var e;return(e=Q(ht))!==null&&e!==void 0?e:bU},ex=()=>Q(mi),tx=()=>Q(pi),wU=()=>Q(e=>e.layout.margin),me=e=>e.layout.layoutType,es=()=>Q(me),rx=()=>{var e=es();if(e==="horizontal"||e==="vertical")return e},iC=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},_U=()=>{var e=es();return e!==void 0},Iu=e=>{var t=Ne(),r=Ft(),{width:n,height:i}=e,a=Qy(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),m.useEffect(()=>{!r&&Nn(s)&&Nn(o)&&t(TB({width:s,height:o}))},[t,r,s,o]),null},aC=Symbol.for("immer-nothing"),__=Symbol.for("immer-draftable"),wr=Symbol.for("immer-state");function Zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ru=Object.getPrototypeOf;function oo(e){return!!e&&!!e[wr]}function Ha(e){var t;return e?sC(e)||Array.isArray(e)||!!e[__]||!!((t=e.constructor)!=null&&t[__])||Mu(e)||Kh(e):!1}var jU=Object.prototype.constructor.toString(),j_=new WeakMap;function sC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=j_.get(r);return n===void 0&&(n=Function.toString.call(r),j_.set(r,n)),n===jU}function ff(e,t,r=!0){qh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function qh(e){const t=e[wr];return t?t.type_:Array.isArray(e)?1:Mu(e)?2:Kh(e)?3:0}function Sg(e,t){return qh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function oC(e,t,r){const n=qh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function SU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mu(e){return e instanceof Map}function Kh(e){return e instanceof Set}function va(e){return e.copy_||e.base_}function kg(e,t){if(Mu(e))return new Map(e);if(Kh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=sC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[wr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(ru(e),n)}else{const n=ru(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function nx(e,t=!1){return Vh(e)||oo(e)||!Ha(e)||(qh(e)>1&&Object.defineProperties(e,{set:Tc,add:Tc,clear:Tc,delete:Tc}),Object.freeze(e),t&&Object.values(e).forEach(r=>nx(r,!0))),e}function kU(){Zr(2)}var Tc={value:kU};function Vh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var EU={};function qa(e){const t=EU[e];return t||Zr(0,e),t}var nu;function lC(){return nu}function PU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function S_(e,t){t&&(qa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Eg(e){Pg(e),e.drafts_.forEach(OU),e.drafts_=null}function Pg(e){e===nu&&(nu=e.parent_)}function k_(e){return nu=PU(nu,e)}function OU(e){const t=e[wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function E_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[wr].modified_&&(Eg(t),Zr(4)),Ha(e)&&(e=hf(t,e),t.parent_||mf(t,e)),t.patches_&&qa("Patches").generateReplacementPatches_(r[wr].base_,e,t.patches_,t.inversePatches_)):e=hf(t,r,[]),Eg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aC?e:void 0}function hf(e,t,r){if(Vh(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[wr];if(!i)return ff(t,(a,s)=>P_(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return mf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),ff(s,(l,c)=>P_(e,i,a,l,c,r,o),n),mf(e,a,!1),r&&e.patches_&&qa("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function P_(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Vh(i);if(!(o&&!s)){if(oo(i)){const l=a&&t&&t.type_!==3&&!Sg(t.assigned_,n)?a.concat(n):void 0,c=hf(e,i,l);if(oC(r,n,c),oo(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Ha(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;hf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Mu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&mf(e,i)}}}function mf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nx(t,r)}function NU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:lC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ix;r&&(i=[n],a=iu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var ix={get(e,t){if(t===wr)return e;const r=va(e);if(!Sg(r,t))return CU(e,r,t);const n=r[t];return e.finalized_||!Ha(n)?n:n===Pp(e.base_,t)?(Op(e),e.copy_[t]=Ng(n,e)):n},has(e,t){return t in va(e)},ownKeys(e){return Reflect.ownKeys(va(e))},set(e,t,r){const n=uC(va(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Pp(va(e),t),a=i==null?void 0:i[wr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(SU(r,i)&&(r!==void 0||Sg(e.base_,t)))return!0;Op(e),Og(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Pp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Op(e),Og(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=va(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Zr(11)},getPrototypeOf(e){return ru(e.base_)},setPrototypeOf(){Zr(12)}},iu={};ff(ix,(e,t)=>{iu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});iu.deleteProperty=function(e,t){return iu.set.call(this,e,t,void 0)};iu.set=function(e,t,r){return ix.set.call(this,e[0],t,r,e[0])};function Pp(e,t){const r=e[wr];return(r?va(r):e)[t]}function CU(e,t,r){var i;const n=uC(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function uC(e,t){if(!(t in e))return;let r=ru(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ru(r)}}function Og(e){e.modified_||(e.modified_=!0,e.parent_&&Og(e.parent_))}function Op(e){e.copy_||(e.copy_=kg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...c){return s.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&Zr(6),n!==void 0&&typeof n!="function"&&Zr(7);let i;if(Ha(t)){const a=k_(this),s=Ng(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Eg(a):Pg(a)}return S_(a,n),E_(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===aC&&(i=void 0),this.autoFreeze_&&nx(i,!0),n){const a=[],s=[];qa("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Zr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ha(e)||Zr(8),oo(e)&&(e=TU(e));const t=k_(this),r=Ng(e,void 0);return r[wr].isManual_=!0,Pg(t),r}finishDraft(e,t){const r=e&&e[wr];(!r||!r.isManual_)&&Zr(9);const{scope_:n}=r;return S_(n,t),E_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=qa("Patches").applyPatches_;return oo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Ng(e,t){const r=Mu(e)?qa("MapSet").proxyMap_(e,t):Kh(e)?qa("MapSet").proxySet_(e,t):NU(e,t);return(t?t.scope_:lC()).drafts_.push(r),r}function TU(e){return oo(e)||Zr(10,e),cC(e)}function cC(e){if(!Ha(e)||Vh(e))return e;const t=e[wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=kg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=kg(e,!0);return ff(r,(i,a)=>{oC(r,i,cC(a))},n),t&&(t.finalized_=!1),r}var IU=new AU;IU.produce;var MU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dC=cr({name:"legend",initialState:MU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:$e()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=nn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:$e()},removeLegendPayload:{reducer(e,t){var r=nn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:$e()}}}),{setLegendSize:O_,setLegendSettings:DU,addLegendPayload:fC,replaceLegendPayload:hC,removeLegendPayload:mC}=dC.actions,RU=dC.reducer,$U=["contextPayload"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){LU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t,r){return(t=zU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=FU(e,"string");return typeof t=="symbol"?t:t+""}function FU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BU(e,t){if(e==null)return{};var r,n,i=UU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WU(e){return e.value}function HU(e){var{contextPayload:t}=e,r=BU(e,$U),n=rN(t,e.payloadUniqBy,WU),i=lo(lo({},r),{},{payload:n});return m.isValidElement(e.content)?m.cloneElement(e.content,i):typeof e.content=="function"?m.createElement(e.content,i):m.createElement(X6,i)}function qU(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-a.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),lo(lo({},c),d)}function KU(e){var t=Ne();return m.useEffect(()=>{t(DU(e))},[t,e]),null}function VU(e){var t=Ne();return m.useEffect(()=>(t(O_(e)),()=>{t(O_({width:0,height:0}))}),[t,e]),null}function GU(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var YU={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pC(e){var t=at(e,YU),r=MF(),n=qz(),i=wU(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=mN([r]),f=ex(),h=tx();if(f==null||h==null)return null;var p=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=GU(t.layout,s,a,p),g=l?o:lo(lo({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||s||"auto"},qU(o,t,i,f,h,c)),o),y=l??n;if(y==null||r==null)return null;var x=m.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},m.createElement(KU,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&m.createElement(VU,{width:c.width,height:c.height}),m.createElement(HU,Cg({},t,v,{margin:i,chartWidth:f,chartHeight:h,contextPayload:r})));return dh.createPortal(x,y)}pC.displayName="Legend";function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(null,arguments)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=JU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZU(e){return Array.isArray(e)&&On(e[0])&&On(e[1])?e.join(" ~ "):e}var ps={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},e8=e=>{var{separator:t=ps.separator,contentStyle:r,itemStyle:n,labelStyle:i=ps.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=ps.accessibilityLayer}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},S=(o?Ch(a,o):a).map((k,E)=>{if(k.type==="none")return null;var O=k.formatter||s||ZU,{value:C,name:I}=k,P=C,z=I;if(O){var M=O(C,I,k,E,a);if(Array.isArray(M))[P,z]=M;else if(M!=null)P=M;else return null}var F=Ko(Ko({},ps.itemStyle),{},{color:k.color||ps.itemStyle.color},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:F},On(z)?m.createElement("span",{className:"recharts-tooltip-item-name"},z):null,On(z)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},P),m.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},v=Ko(Ko({},ps.contentStyle),r),g=Ko({margin:0},i),y=!Xe(d),x=y?d:"",w=pe("recharts-default-tooltip",l),b=pe("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var _=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",Ag({className:w,style:v},_),m.createElement("p",{className:b,style:g},m.isValidElement(x)?x:"".concat(x)),p())},Vo="recharts-tooltip-wrapper",t8={visibility:"hidden"};function r8(e){var{coordinate:t,translateX:r,translateY:n}=e;return pe(Vo,{["".concat(Vo,"-right")]:V(r)&&t&&V(t.x)&&r>=t.x,["".concat(Vo,"-left")]:V(r)&&t&&V(t.x)&&r<t.x,["".concat(Vo,"-bottom")]:V(n)&&t&&V(t.y)&&n>=t.y,["".concat(Vo,"-top")]:V(n)&&t&&V(t.y)&&n<t.y})}function A_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&V(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=l[n];if(h==null)return 0;if(s[n]){var p=d,v=h;return p<v?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function n8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function i8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,f,h;return o.height>0&&o.width>0&&r?(f=A_({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=A_({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=n8({translateX:f,translateY:h,useTranslate3d:l})):d=t8,{cssProperties:d,cssClasses:r8({translateX:f,translateY:h,coordinate:r})}}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return(t=a8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=s8(e,"string");return typeof t=="symbol"?t:t+""}function s8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class o8 extends m.PureComponent{constructor(){super(...arguments),Tg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Tg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:v,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,w=typeof c=="number"?c:c.x,b=typeof c=="number"?c:c.y,{cssClasses:_,cssProperties:j}=i8({allowEscapeViewBox:r,coordinate:s,offsetLeft:w,offsetTop:b,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=x?{}:Ic(Ic({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Ic(Ic({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:y},a)}}var vC=()=>{var e;return(e=Q(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(null,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=u8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D_={curveBasisClosed:c6,curveBasisOpen:d6,curveBasis:u6,curveBumpX:Yz,curveBumpY:Xz,curveLinearClosed:f6,curveLinear:_h,curveMonotoneX:h6,curveMonotoneY:m6,curveNatural:p6,curveStep:v6,curveStepAfter:y6,curveStepBefore:g6},pf=e=>ae(e.x)&&ae(e.y),R_=e=>e.base!=null&&pf(e.base)&&pf(e),Go=e=>e.x,Yo=e=>e.y,d8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ou(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=D_["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return D_[r]||_h},$_={connectNulls:!1,type:"linear"},f8=e=>{var{type:t=$_.type,points:r=[],baseLine:n,layout:i,connectNulls:a=$_.connectNulls}=e,s=d8(t,i),o=a?r.filter(pf):r;if(Array.isArray(n)){var l,c=r.map((v,g)=>M_(M_({},v),{},{base:n[g]}));i==="vertical"?l=kc().y(Yo).x1(Go).x0(v=>v.base.x):l=kc().x(Go).y1(Yo).y0(v=>v.base.y);var d=l.defined(R_).curve(s),f=a?c.filter(R_):c;return d(f)}var h;i==="vertical"&&V(n)?h=kc().y(Yo).x1(Go).x0(n):V(n)?h=kc().x(Go).y1(Yo).y0(n):h=wO().x(Go).y(Yo);var p=h.defined(pf).curve(s);return p(o)},Vs=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=es();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?f8(s):n;return m.createElement("path",Ig({},ur(e),Iy(e),{className:pe("recharts-curve",t),d:o===null?void 0:o,ref:i}))},h8=["x","y","top","left","width","height","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){p8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t,r){return(t=v8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=g8(e,"string");return typeof t=="symbol"?t:t+""}function g8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y8(e,t){if(e==null)return{};var r,n,i=x8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b8=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),w8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=y8(e,h8),c=m8({x:t,y:r,top:n,left:i,width:a,height:s},l);return!V(t)||!V(r)||!V(a)||!V(s)||!V(n)||!V(i)?null:m.createElement("path",Mg({},Vt(c),{className:pe("recharts-cross",o),d:b8(t,r,a,s,n,i)}))};function _8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return(t=S8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S8(e){var t=k8(e,"string");return typeof t=="symbol"?t:t+""}function k8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),gC=(e,t,r)=>e.map(n=>"".concat(E8(n)," ").concat(t,"ms ").concat(r)).join(","),P8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),au=(e,t)=>Object.keys(t).reduce((r,n)=>F_(F_({},r),{},{[n]:e(n,t[n])}),{});function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=C8(e,"string");return typeof t=="symbol"?t:t+""}function C8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vf=(e,t,r)=>e+(t-e)*r,Dg=e=>{var{from:t,to:r}=e;return t!==r},yC=(e,t,r)=>{var n=au((i,a)=>{if(Dg(a)){var[s,o]=e(a.from,a.to,a.velocity);return dt(dt({},a),{},{from:s,velocity:o})}return a},t);return r<1?au((i,a)=>Dg(a)&&n[i]!=null?dt(dt({},a),{},{velocity:vf(a.velocity,n[i].velocity,r),from:vf(a.from,n[i].from,r)}):a,t):yC(e,n,r-1)};function A8(e,t,r,n,i,a){var s,o=n.reduce((h,p)=>dt(dt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>au((h,p)=>p.from,o),c=()=>!Object.values(o).filter(Dg).length,d=null,f=h=>{s||(s=h);var p=h-s,v=p/r.dt;o=yC(r,o,v),i(dt(dt(dt({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function T8(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,h)=>{var p=e[h],v=t[h];return p==null||v==null?f:dt(dt({},f),{},{[h]:[p,v]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/n,p=au((g,y)=>vf(...y,r(h)),l);if(a(dt(dt(dt({},e),t),p)),h<1)o=s.setTimeout(d);else{var v=au((g,y)=>vf(...y,r(1)),l);a(dt(dt(dt({},e),t),v))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const I8=(e,t,r,n,i,a)=>{var s=P8(e,t);return r==null?()=>(i(dt(dt({},e),t)),()=>{}):r.isStepper===!0?A8(e,t,r,s,i,a):T8(e,t,r,n,s,i,a)};var gf=1e-4,xC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],bC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),U_=(e,t)=>r=>{var n=xC(e,t);return bC(n,r)},M8=(e,t)=>r=>{var n=xC(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return bC(i,r)},D8=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},R8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=D8(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},$8=(e,t,r,n)=>{var i=U_(e,r),a=U_(t,n),s=M8(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var p=i(f)-d,v=s(f);if(Math.abs(p-d)<gf||v<gf)return a(f);f=o(f-p/v)}return a(f)};return l.isStepper=!1,l},W_=function(){return $8(...R8(...arguments))},L8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*r,d=l*n,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<gf&&Math.abs(f)<gf?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},z8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W_(e);case"spring":return L8();default:if(e.split("(")[0]==="cubic-bezier")return W_(e)}return typeof e=="function"?e:null};function F8(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class B8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function U8(){return F8(new B8)}var W8=m.createContext(U8);function H8(e,t){var r=m.useContext(W8);return m.useMemo(()=>t??r(e),[e,t,r])}var q8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Du={devToolsEnabled:!0,isSsr:q8()},K8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},H_={t:0},Np={t:1};function Ru(e){var t=at(e,K8),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=r==="auto"?!Du.isSsr:r,f=H8(t.animationId,t.animationManager),[h,p]=m.useState(d?H_:Np),v=m.useRef(null);return m.useEffect(()=>{d||p(Np)},[d]),m.useEffect(()=>{if(!d||!n)return Za;var g=I8(H_,Np,z8(a),i,p,f.getTimeoutController()),y=()=>{v.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),v.current&&v.current(),o()}},[d,n,i,a,s,l,o,f]),c(h.t)}function $u(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(Ql(t)),n=m.useRef(e);return n.current!==e&&(r.current=Ql(t),n.current=e),r.current}var V8=["radius"],G8=["radius"],q_,K_,V_,G_,Y_,X_,J_,Q_,Z_,ej;function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return(t=X8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(null,arguments)}function nj(e,t){if(e==null)return{};var r,n,i=Q8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Q8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ij=(e,t,r,n,i)=>{var a=Di(r),s=Di(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var h=[0,0,0,0],p=0,v=4;p<v;p++){var g,y=(g=i[p])!==null&&g!==void 0?g:0;h[p]=y>o?o:y}f=Ke(q_||(q_=hn(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Ke(K_||(K_=hn(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Ke(V_||(V_=hn(["L ",",",""])),e+r-c*h[1],t),h[1]>0&&(f+=Ke(G_||(G_=hn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+l*h[1])),f+=Ke(Y_||(Y_=hn(["L ",",",""])),e+r,t+n-l*h[2]),h[2]>0&&(f+=Ke(X_||(X_=hn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-c*h[2],t+n)),f+=Ke(J_||(J_=hn(["L ",",",""])),e+c*h[3],t+n),h[3]>0&&(f+=Ke(Q_||(Q_=hn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);f=Ke(Z_||(Z_=hn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*x,x,x,d,e+c*x,t,e+r-c*x,t,x,x,d,e+r,t+l*x,e+r,t+n-l*x,x,x,d,e+r-c*x,t+n,e+c*x,t+n,x,x,d,e,t+n-l*x)}else f=Ke(ej||(ej=hn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},aj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wC=e=>{var t=at(e,aj),r=m.useRef(null),[n,i]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var q=r.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:g}=t,y=m.useRef(o),x=m.useRef(l),w=m.useRef(a),b=m.useRef(s),_=m.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),j=$u(_,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=pe("recharts-rectangle",d);if(!g){var k=Vt(t),E=nj(k,V8);return m.createElement("path",yf({},E,{x:Di(a),y:Di(s),width:Di(o),height:Di(l),radius:typeof c=="number"?c:void 0,className:S,d:ij(a,s,o,l,c)}))}var O=y.current,C=x.current,I=w.current,P=b.current,z="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),F=gC(["strokeDasharray"],h,typeof f=="string"?f:aj.animationEasing);return m.createElement(Ru,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:g,begin:p},q=>{var te=Me(O,o,q),R=Me(C,l,q),W=Me(I,a,q),K=Me(P,s,q);r.current&&(y.current=te,x.current=R,w.current=W,b.current=K);var J;v?q>0?J={transition:F,strokeDasharray:M}:J={strokeDasharray:z}:J={strokeDasharray:M};var se=Vt(t),le=nj(se,G8);return m.createElement("path",yf({},le,{radius:typeof c=="number"?c:void 0,className:S,d:ij(W,K,te,R,c),ref:r,style:rj(rj({},J),t.style)}))})};function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){Z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8(e,t,r){return(t=e7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xf=Math.PI/180,r7=e=>e*180/Math.PI,nt=(e,t,r,n)=>({x:e+Math.cos(-xf*n)*r,y:t+Math.sin(-xf*n)*r}),_C=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},n7=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},i7=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=n7({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:r7(l),angleInRadian:l}},a7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},s7=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},o7=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=i7({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=a7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?oj(oj({},t),{},{radius:i,angle:s7(d,t)}):null};function jC(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=nt(t,r,n,i),o=nt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var lj,uj,cj,dj,fj,hj,mj;function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(null,arguments)}function _a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l7=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Mc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,d=Math.asin(o/c)/xf,f=l?i:i+a*d,h=nt(t,r,c,f),p=nt(t,r,n,f),v=l?i-a*d:i,g=nt(t,r,c*Math.cos(d*xf),v);return{center:h,circleTangency:p,lineTangency:g,theta:d}},SC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=l7(a,s),l=a+o,c=nt(t,r,i,a),d=nt(t,r,i,l),f=Ke(lj||(lj=_a(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(n>0){var h=nt(t,r,n,a),p=nt(t,r,n,l);f+=Ke(uj||(uj=_a(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Ke(cj||(cj=_a(["L ",","," Z"])),t,r);return f},u7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=wt(c-l),{circleTangency:f,lineTangency:h,theta:p}=Mc({cx:t,cy:r,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:g,theta:y}=Mc({cx:t,cy:r,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-p-y;if(x<0)return s?Ke(dj||(dj=_a(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):SC({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var w=Ke(fj||(fj=_a(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),v.x,v.y,a,a,+(d<0),g.x,g.y);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=Mc({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:k,theta:E}=Mc({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),O=o?Math.abs(l-c):Math.abs(l-c)-j-E;if(O<0&&a===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Ke(hj||(hj=_a(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,a,a,+(d<0),S.x,S.y,n,n,+(O>180),+(d>0),b.x,b.y,a,a,+(d<0),_.x,_.y)}else w+=Ke(mj||(mj=_a(["L",",","Z"])),t,r);return w},c7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kC=e=>{var t=at(e,c7),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=pe("recharts-sector",f),p=a-i,v=Lt(s,p,0,!0),g;return v>0&&Math.abs(c-d)<360?g=u7({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=SC({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),m.createElement("path",Rg({},Vt(t),{className:h,d:g}))};function d7(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if($O(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=nt(n,i,a,o),c=nt(n,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return jC(t)}}var EC={},PC={},OC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(OC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(PC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hy,r=PC;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=n})(EC);var f7=EC.range;const NC=di(f7);function qi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ax(e){let t,r,n;e.length!==2?(t=qi,r=(o,l)=>qi(e(o),l),n=(o,l)=>e(o)-l):(t=e===qi||e===h7?e:m7,r=e,n=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function m7(){return 0}function CC(e){return e===null?NaN:+e}function*p7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const v7=ax(qi),Lu=v7.right;ax(CC).center;class pj extends Map{constructor(t,r=x7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(vj(this,t))}has(t){return super.has(vj(this,t))}set(t,r){return super.set(g7(this,t),r)}delete(t){return super.delete(y7(this,t))}}function vj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function g7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function y7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function x7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b7(e=qi){if(e===qi)return AC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w7=Math.sqrt(50),_7=Math.sqrt(10),j7=Math.sqrt(2);function bf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=w7?10:a>=_7?5:a>=j7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?bf(e,t,r*2):[o,l,c]}function $g(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?bf(t,e,r):bf(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Lg(e,t,r){return t=+t,e=+e,r=+r,bf(e,t,r)[2]}function zg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Lg(t,e,r):Lg(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function gj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?AC:b7(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),v=Math.min(n,Math.floor(t+(l-c)*f/l+h));TC(e,t,p,v,i)}const a=e[t];let s=r,o=n;for(Xo(e,r,t),i(e[n],a)>0&&Xo(e,r,n);s<o;){for(Xo(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Xo(e,r,o):(++o,Xo(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Xo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function S7(e,t,r){if(e=Float64Array.from(p7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return yj(e);if(t>=1)return gj(e);var n,i=(n-1)*t,a=Math.floor(i),s=gj(TC(e,a).subarray(0,a+1)),o=yj(e.subarray(a+1));return s+(o-s)*(i-a)}}function k7(e,t,r=CC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function E7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Ur(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fg=Symbol("implicit");function sx(){var e=new pj,t=[],r=[],n=Fg;function i(a){let s=e.get(a);if(s===void 0){if(n!==Fg)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new pj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sx(t,r).unknown(n)},Ur.apply(i,arguments),i}function ox(){var e=sx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,v=p?i:n,g=p?n:i;a=(g-v)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),v+=(g-v-a*(h-l))*d,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var y=E7(h).map(function(x){return v+a*x});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ox(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ur.apply(f(),arguments)}function IC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IC(t())},e}function P7(){return IC(ox.apply(null,arguments).paddingInner(1))}function lx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zu(){}var su=.7,wf=1/su,Gs="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O7=/^#([0-9a-f]{3,8})$/,N7=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),C7=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),A7=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${ou}\\)$`),T7=new RegExp(`^rgba\\(${En},${En},${En},${ou}\\)$`),I7=new RegExp(`^hsl\\(${ou},${En},${En}\\)$`),M7=new RegExp(`^hsla\\(${ou},${En},${En},${ou}\\)$`),xj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lx(zu,lu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bj,formatHex:bj,formatHex8:D7,formatHsl:R7,formatRgb:wj,toString:wj});function bj(){return this.rgb().formatHex()}function D7(){return this.rgb().formatHex8()}function R7(){return DC(this).formatHsl()}function wj(){return this.rgb().formatRgb()}function lu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=O7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_j(t):r===3?new ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=N7.exec(e))?new ir(t[1],t[2],t[3],1):(t=C7.exec(e))?new ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A7.exec(e))?Dc(t[1],t[2],t[3],t[4]):(t=T7.exec(e))?Dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=I7.exec(e))?kj(t[1],t[2]/100,t[3]/100,1):(t=M7.exec(e))?kj(t[1],t[2]/100,t[3]/100,t[4]):xj.hasOwnProperty(e)?_j(xj[e]):e==="transparent"?new ir(NaN,NaN,NaN,0):null}function _j(e){return new ir(e>>16&255,e>>8&255,e&255,1)}function Dc(e,t,r,n){return n<=0&&(e=t=r=NaN),new ir(e,t,r,n)}function $7(e){return e instanceof zu||(e=lu(e)),e?(e=e.rgb(),new ir(e.r,e.g,e.b,e.opacity)):new ir}function Bg(e,t,r,n){return arguments.length===1?$7(e):new ir(e,t,r,n??1)}function ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}lx(ir,Bg,MC(zu,{brighter(e){return e=e==null?wf:Math.pow(wf,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ir(Na(this.r),Na(this.g),Na(this.b),_f(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jj,formatHex:jj,formatHex8:L7,formatRgb:Sj,toString:Sj}));function jj(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function L7(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sj(){const e=_f(this.opacity);return`${e===1?"rgb(":"rgba("}${Na(this.r)}, ${Na(this.g)}, ${Na(this.b)}${e===1?")":`, ${e})`}`}function _f(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Na(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ja(e){return e=Na(e),(e<16?"0":"")+e.toString(16)}function kj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function DC(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=lu(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new en(s,o,l,e.opacity)}function z7(e,t,r,n){return arguments.length===1?DC(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}lx(en,z7,MC(zu,{brighter(e){return e=e==null?wf:Math.pow(wf,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ir(Cp(e>=240?e-240:e+120,i,n),Cp(e,i,n),Cp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new en(Ej(this.h),Rc(this.s),Rc(this.l),_f(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_f(this.opacity);return`${e===1?"hsl(":"hsla("}${Ej(this.h)}, ${Rc(this.s)*100}%, ${Rc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ej(e){return e=(e||0)%360,e<0?e+360:e}function Rc(e){return Math.max(0,Math.min(1,e||0))}function Cp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ux=e=>()=>e;function F7(e,t){return function(r){return e+r*t}}function B7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function U7(e){return(e=+e)==1?RC:function(t,r){return r-t?B7(t,r,e):ux(isNaN(t)?r:t)}}function RC(e,t){var r=t-e;return r?F7(e,r):ux(isNaN(e)?t:e)}const Pj=function e(t){var r=U7(t);function n(i,a){var s=r((i=Bg(i)).r,(a=Bg(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=RC(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function W7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function H7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ko(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function K7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function V7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ko(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ug=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ap=new RegExp(Ug.source,"g");function G7(e){return function(){return e}}function Y7(e){return function(t){return e(t)+""}}function X7(e,t){var r=Ug.lastIndex=Ap.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Ug.exec(e))&&(i=Ap.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:jf(n,i)})),r=Ap.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Y7(l[0].x):G7(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function ko(e,t){var r=typeof t,n;return t==null||r==="boolean"?ux(t):(r==="number"?jf:r==="string"?(n=lu(t))?(t=n,Pj):X7:t instanceof lu?Pj:t instanceof Date?K7:H7(t)?W7:Array.isArray(t)?q7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?V7:jf)(e,t)}function cx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function J7(e,t){t===void 0&&(t=e,e=ko);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Q7(e){return function(){return e}}function Sf(e){return+e}var Oj=[0,1];function qt(e){return e}function Wg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Q7(isNaN(t)?NaN:.5)}function Z7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function e9(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Wg(i,n),a=r(s,a)):(n=Wg(n,i),a=r(a,s)),function(o){return a(n(o))}}function t9(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Wg(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Lu(e,o,1,n)-1;return a[l](i[l](o))}}function Fu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gh(){var e=Oj,t=Oj,r=ko,n,i,a,s=qt,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==qt&&(s=Z7(e[0],e[h-1])),o=h>2?t9:e9,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(n),jf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Sf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=cx,d()},f.clamp=function(h){return arguments.length?(s=h?!0:qt,d()):s!==qt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function dx(){return Gh()(qt,qt)}function r9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function uo(e){return e=kf(Math.abs(e)),e?e[1]:NaN}function n9(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function i9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var a9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uu(e){if(!(t=a9.exec(e)))throw new Error("invalid format: "+e);var t;return new fx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uu.prototype=fx.prototype;function fx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s9(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Ef;function o9(e,t){var r=kf(e,t);if(!r)return Ef=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(Ef=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+kf(e,Math.max(0,t+a-1))[0]}function Nj(e,t){var r=kf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Cj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Nj(e*100,t),r:Nj,s:o9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Aj(e){return e}var Tj=Array.prototype.map,Ij=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function l9(e){var t=e.grouping===void 0||e.thousands===void 0?Aj:n9(Tj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Aj:i9(Tj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=uu(f);var p=f.fill,v=f.align,g=f.sign,y=f.symbol,x=f.zero,w=f.width,b=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):Cj[S]||(_===void 0&&(_=12),j=!0,S="g"),(x||p==="0"&&v==="=")&&(x=!0,p="0",v="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),E=(y==="$"?n:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),O=Cj[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(P){var z=k,M=E,F,q,te;if(S==="c")M=O(P)+M,P="";else{P=+P;var R=P<0||1/P<0;if(P=isNaN(P)?l:O(Math.abs(P),_),j&&(P=s9(P)),R&&+P==0&&g!=="+"&&(R=!1),z=(R?g==="("?g:o:g==="-"||g==="("?"":g)+z,M=(S==="s"&&!isNaN(P)&&Ef!==void 0?Ij[8+Ef/3]:"")+M+(R&&g==="("?")":""),C){for(F=-1,q=P.length;++F<q;)if(te=P.charCodeAt(F),48>te||te>57){M=(te===46?i+P.slice(F+1):P.slice(F))+M,P=P.slice(0,F);break}}}b&&!x&&(P=t(P,1/0));var W=z.length+P.length+M.length,K=W<w?new Array(w-W+1).join(p):"";switch(b&&x&&(P=t(K+P,K.length?w-M.length:1/0),K=""),v){case"<":P=z+P+M+K;break;case"=":P=z+K+P+M;break;case"^":P=K.slice(0,W=K.length>>1)+z+P+M+K.slice(W);break;default:P=K+z+P+M;break}return a(P)}return I.toString=function(){return f+""},I}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(uo(h)/3)))*3,v=Math.pow(10,-p),g=c((f=uu(f),f.type="f",f),{suffix:Ij[8+p/3]});return function(y){return g(v*y)}}return{format:c,formatPrefix:d}}var $c,hx,$C;u9({thousands:",",grouping:[3],currency:["$",""]});function u9(e){return $c=l9(e),hx=$c.format,$C=$c.formatPrefix,$c}function c9(e){return Math.max(0,-uo(Math.abs(e)))}function d9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uo(t)/3)))*3-uo(Math.abs(e)))}function f9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uo(t)-uo(e))+1}function LC(e,t,r,n){var i=zg(e,t,r),a;switch(n=uu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=d9(i,s))&&(n.precision=a),$C(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=f9(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=c9(i))&&(n.precision=a-(n.type==="%")*2);break}}return hx(n)}function ia(e){var t=e.domain;return e.ticks=function(r){var n=t();return $g(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return LC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Lg(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function zC(){var e=dx();return e.copy=function(){return Fu(e,zC())},Ur.apply(e,arguments),ia(e)}function FC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return FC(e).unknown(t)},e=arguments.length?Array.from(e,Sf):[0,1],ia(r)}function BC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Mj(e){return Math.log(e)}function Dj(e){return Math.exp(e)}function h9(e){return-Math.log(-e)}function m9(e){return-Math.exp(-e)}function p9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function v9(e){return e===10?p9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function g9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Rj(e){return(t,r)=>-e(-t,r)}function mx(e){const t=e(Mj,Dj),r=t.domain;let n=10,i,a;function s(){return i=g9(n),a=v9(n),r()[0]<0?(i=Rj(i),a=Rj(a),e(h9,m9)):e(Mj,Dj),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),v,g;const y=o==null?10:+o;let x=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(v=1;v<n;++v)if(g=h<0?v/a(-h):v*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(g=h>0?v/a(-h):v*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=$g(c,d,y))}else x=$g(h,p,Math.min(p-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=uu(l)).precision==null&&(l.trim=!0),l=hx(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(BC(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function UC(){const e=mx(Gh()).domain([1,10]);return e.copy=()=>Fu(e,UC()).base(e.base()),Ur.apply(e,arguments),e}function $j(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Lj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function px(e){var t=1,r=e($j(t),Lj(t));return r.constant=function(n){return arguments.length?e($j(t=+n),Lj(t)):t},ia(r)}function WC(){var e=px(Gh());return e.copy=function(){return Fu(e,WC()).constant(e.constant())},Ur.apply(e,arguments)}function zj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function y9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function x9(e){return e<0?-e*e:e*e}function vx(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(y9,x9):e(zj(r),zj(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ia(t)}function gx(){var e=vx(Gh());return e.copy=function(){return Fu(e,gx()).exponent(e.exponent())},Ur.apply(e,arguments),e}function b9(){return gx.apply(null,arguments).exponent(.5)}function Fj(e){return Math.sign(e)*e*e}function w9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HC(){var e=dx(),t=[0,1],r=!1,n;function i(a){var s=w9(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Fj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Sf)).map(Fj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return HC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ur.apply(i,arguments),ia(i)}function qC(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=k7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Lu(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(qi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return qC().domain(e).range(t).unknown(n)},Ur.apply(a,arguments)}function KC(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Lu(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return KC().domain([e,t]).range(i).unknown(a)},Ur.apply(ia(s),arguments)}function VC(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Lu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VC().domain(e).range(t).unknown(r)},Ur.apply(i,arguments)}const Tp=new Date,Ip=new Date;function mt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>mt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Tp.setTime(+a),Ip.setTime(+s),e(Tp),e(Ip),Math.floor(r(Tp,Ip))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Pf=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pf);Pf.range;const qn=1e3,Tr=qn*60,Kn=Tr*60,ii=Kn*24,yx=ii*7,Bj=ii*30,Mp=ii*365,Sa=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCSeconds());Sa.range;const xx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());xx.range;const bx=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());bx.range;const wx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getHours());wx.range;const _x=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getUTCHours());_x.range;const Bu=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/ii,e=>e.getDate()-1);Bu.range;const Yh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ii,e=>e.getUTCDate()-1);Yh.range;const GC=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ii,e=>Math.floor(e/ii));GC.range;function ts(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/yx)}const Xh=ts(0),Of=ts(1),_9=ts(2),j9=ts(3),co=ts(4),S9=ts(5),k9=ts(6);Xh.range;Of.range;_9.range;j9.range;co.range;S9.range;k9.range;function rs(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/yx)}const Jh=rs(0),Nf=rs(1),E9=rs(2),P9=rs(3),fo=rs(4),O9=rs(5),N9=rs(6);Jh.range;Nf.range;E9.range;P9.range;fo.range;O9.range;N9.range;const jx=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jx.range;const Sx=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Sx.range;const ai=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ai.range;const si=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});si.range;function YC(e,t,r,n,i,a){const s=[[Sa,1,qn],[Sa,5,5*qn],[Sa,15,15*qn],[Sa,30,30*qn],[a,1,Tr],[a,5,5*Tr],[a,15,15*Tr],[a,30,30*Tr],[i,1,Kn],[i,3,3*Kn],[i,6,6*Kn],[i,12,12*Kn],[n,1,ii],[n,2,2*ii],[r,1,yx],[t,1,Bj],[t,3,3*Bj],[e,1,Mp]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),v=p?p.range(c,+d+1):[];return h?v.reverse():v}function l(c,d,f){const h=Math.abs(d-c)/f,p=ax(([,,y])=>y).right(s,h);if(p===s.length)return e.every(zg(c/Mp,d/Mp,f));if(p===0)return Pf.every(Math.max(zg(c,d,f),1));const[v,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(g)}return[o,l]}const[C9,A9]=YC(si,Sx,Jh,GC,_x,bx),[T9,I9]=YC(ai,jx,Xh,Bu,wx,xx);function Dp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function M9(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Qo(i),d=Zo(i),f=Qo(a),h=Zo(a),p=Qo(s),v=Zo(s),g=Qo(o),y=Zo(o),x=Qo(l),w=Zo(l),b={a:te,A:R,b:W,B:K,c:null,d:Vj,e:Vj,f:nW,g:hW,G:pW,H:eW,I:tW,j:rW,L:XC,m:iW,M:aW,p:J,q:se,Q:Xj,s:Jj,S:sW,u:oW,U:lW,V:uW,w:cW,W:dW,x:null,X:null,y:fW,Y:mW,Z:vW,"%":Yj},_={a:le,A:we,b:ue,B:Ce,c:null,d:Gj,e:Gj,f:bW,g:CW,G:TW,H:gW,I:yW,j:xW,L:QC,m:wW,M:_W,p:_e,q:A,Q:Xj,s:Jj,S:jW,u:SW,U:kW,V:EW,w:PW,W:OW,x:null,X:null,y:NW,Y:AW,Z:IW,"%":Yj},j={a:C,A:I,b:P,B:z,c:M,d:qj,e:qj,f:X9,g:Hj,G:Wj,H:Kj,I:Kj,j:K9,L:Y9,m:q9,M:V9,p:O,q:H9,Q:Q9,s:Z9,S:G9,u:z9,U:F9,V:B9,w:L9,W:U9,x:F,X:q,y:Hj,Y:Wj,Z:W9,"%":J9};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(D,G){return function(Z){var $=[],ce=-1,ne=0,Ae=D.length,ge,st,vt;for(Z instanceof Date||(Z=new Date(+Z));++ce<Ae;)D.charCodeAt(ce)===37&&($.push(D.slice(ne,ce)),(st=Uj[ge=D.charAt(++ce)])!=null?ge=D.charAt(++ce):st=ge==="e"?" ":"0",(vt=G[ge])&&(ge=vt(Z,st)),$.push(ge),ne=ce+1);return $.push(D.slice(ne,ce)),$.join("")}}function k(D,G){return function(Z){var $=Jo(1900,void 0,1),ce=E($,D,Z+="",0),ne,Ae;if(ce!=Z.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(G&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(ne=Rp(Jo($.y,0,1)),Ae=ne.getUTCDay(),ne=Ae>4||Ae===0?Nf.ceil(ne):Nf(ne),ne=Yh.offset(ne,($.V-1)*7),$.y=ne.getUTCFullYear(),$.m=ne.getUTCMonth(),$.d=ne.getUTCDate()+($.w+6)%7):(ne=Dp(Jo($.y,0,1)),Ae=ne.getDay(),ne=Ae>4||Ae===0?Of.ceil(ne):Of(ne),ne=Bu.offset(ne,($.V-1)*7),$.y=ne.getFullYear(),$.m=ne.getMonth(),$.d=ne.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Ae="Z"in $?Rp(Jo($.y,0,1)).getUTCDay():Dp(Jo($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Ae+5)%7:$.w+$.U*7-(Ae+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Rp($)):Dp($)}}function E(D,G,Z,$){for(var ce=0,ne=G.length,Ae=Z.length,ge,st;ce<ne;){if($>=Ae)return-1;if(ge=G.charCodeAt(ce++),ge===37){if(ge=G.charAt(ce++),st=j[ge in Uj?G.charAt(ce++):ge],!st||($=st(D,Z,$))<0)return-1}else if(ge!=Z.charCodeAt($++))return-1}return $}function O(D,G,Z){var $=c.exec(G.slice(Z));return $?(D.p=d.get($[0].toLowerCase()),Z+$[0].length):-1}function C(D,G,Z){var $=p.exec(G.slice(Z));return $?(D.w=v.get($[0].toLowerCase()),Z+$[0].length):-1}function I(D,G,Z){var $=f.exec(G.slice(Z));return $?(D.w=h.get($[0].toLowerCase()),Z+$[0].length):-1}function P(D,G,Z){var $=x.exec(G.slice(Z));return $?(D.m=w.get($[0].toLowerCase()),Z+$[0].length):-1}function z(D,G,Z){var $=g.exec(G.slice(Z));return $?(D.m=y.get($[0].toLowerCase()),Z+$[0].length):-1}function M(D,G,Z){return E(D,t,G,Z)}function F(D,G,Z){return E(D,r,G,Z)}function q(D,G,Z){return E(D,n,G,Z)}function te(D){return s[D.getDay()]}function R(D){return a[D.getDay()]}function W(D){return l[D.getMonth()]}function K(D){return o[D.getMonth()]}function J(D){return i[+(D.getHours()>=12)]}function se(D){return 1+~~(D.getMonth()/3)}function le(D){return s[D.getUTCDay()]}function we(D){return a[D.getUTCDay()]}function ue(D){return l[D.getUTCMonth()]}function Ce(D){return o[D.getUTCMonth()]}function _e(D){return i[+(D.getUTCHours()>=12)]}function A(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var G=S(D+="",b);return G.toString=function(){return D},G},parse:function(D){var G=k(D+="",!1);return G.toString=function(){return D},G},utcFormat:function(D){var G=S(D+="",_);return G.toString=function(){return D},G},utcParse:function(D){var G=k(D+="",!0);return G.toString=function(){return D},G}}}var Uj={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,D9=/^%/,R9=/[\\^$*+?|[\]().{}]/g;function ve(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function $9(e){return e.replace(R9,"\\$&")}function Qo(e){return new RegExp("^(?:"+e.map($9).join("|")+")","i")}function Zo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function L9(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function z9(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function F9(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function B9(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function U9(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Wj(e,t,r){var n=jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Hj(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function W9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function H9(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function q9(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function qj(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function K9(e,t,r){var n=jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Kj(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function V9(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function G9(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Y9(e,t,r){var n=jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function X9(e,t,r){var n=jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function J9(e,t,r){var n=D9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Q9(e,t,r){var n=jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Z9(e,t,r){var n=jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Vj(e,t){return ve(e.getDate(),t,2)}function eW(e,t){return ve(e.getHours(),t,2)}function tW(e,t){return ve(e.getHours()%12||12,t,2)}function rW(e,t){return ve(1+Bu.count(ai(e),e),t,3)}function XC(e,t){return ve(e.getMilliseconds(),t,3)}function nW(e,t){return XC(e,t)+"000"}function iW(e,t){return ve(e.getMonth()+1,t,2)}function aW(e,t){return ve(e.getMinutes(),t,2)}function sW(e,t){return ve(e.getSeconds(),t,2)}function oW(e){var t=e.getDay();return t===0?7:t}function lW(e,t){return ve(Xh.count(ai(e)-1,e),t,2)}function JC(e){var t=e.getDay();return t>=4||t===0?co(e):co.ceil(e)}function uW(e,t){return e=JC(e),ve(co.count(ai(e),e)+(ai(e).getDay()===4),t,2)}function cW(e){return e.getDay()}function dW(e,t){return ve(Of.count(ai(e)-1,e),t,2)}function fW(e,t){return ve(e.getFullYear()%100,t,2)}function hW(e,t){return e=JC(e),ve(e.getFullYear()%100,t,2)}function mW(e,t){return ve(e.getFullYear()%1e4,t,4)}function pW(e,t){var r=e.getDay();return e=r>=4||r===0?co(e):co.ceil(e),ve(e.getFullYear()%1e4,t,4)}function vW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function Gj(e,t){return ve(e.getUTCDate(),t,2)}function gW(e,t){return ve(e.getUTCHours(),t,2)}function yW(e,t){return ve(e.getUTCHours()%12||12,t,2)}function xW(e,t){return ve(1+Yh.count(si(e),e),t,3)}function QC(e,t){return ve(e.getUTCMilliseconds(),t,3)}function bW(e,t){return QC(e,t)+"000"}function wW(e,t){return ve(e.getUTCMonth()+1,t,2)}function _W(e,t){return ve(e.getUTCMinutes(),t,2)}function jW(e,t){return ve(e.getUTCSeconds(),t,2)}function SW(e){var t=e.getUTCDay();return t===0?7:t}function kW(e,t){return ve(Jh.count(si(e)-1,e),t,2)}function ZC(e){var t=e.getUTCDay();return t>=4||t===0?fo(e):fo.ceil(e)}function EW(e,t){return e=ZC(e),ve(fo.count(si(e),e)+(si(e).getUTCDay()===4),t,2)}function PW(e){return e.getUTCDay()}function OW(e,t){return ve(Nf.count(si(e)-1,e),t,2)}function NW(e,t){return ve(e.getUTCFullYear()%100,t,2)}function CW(e,t){return e=ZC(e),ve(e.getUTCFullYear()%100,t,2)}function AW(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function TW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fo(e):fo.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function IW(){return"+0000"}function Yj(){return"%"}function Xj(e){return+e}function Jj(e){return Math.floor(+e/1e3)}var vs,eA,tA;MW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MW(e){return vs=M9(e),eA=vs.format,vs.parse,tA=vs.utcFormat,vs.utcParse,vs}function DW(e){return new Date(e)}function RW(e){return e instanceof Date?+e:+new Date(+e)}function kx(e,t,r,n,i,a,s,o,l,c){var d=dx(),f=d.invert,h=d.domain,p=c(".%L"),v=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),w=c("%b %d"),b=c("%B"),_=c("%Y");function j(S){return(l(S)<S?p:o(S)<S?v:s(S)<S?g:a(S)<S?y:n(S)<S?i(S)<S?x:w:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,RW)):h().map(DW)},d.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},d.tickFormat=function(S,k){return k==null?j:c(k)},d.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(BC(k,S)):d},d.copy=function(){return Fu(d,kx(e,t,r,n,i,a,s,o,l,c))},d}function $W(){return Ur.apply(kx(T9,I9,ai,jx,Xh,Bu,wx,xx,Sa,eA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LW(){return Ur.apply(kx(C9,A9,si,Sx,Jh,Yh,_x,bx,Sa,tA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qh(){var e=0,t=1,r,n,i,a,s=qt,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,s=f(p,v),c):[s(0),s(1)]}}return c.range=d(ko),c.rangeRound=d(cx),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function aa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rA(){var e=ia(Qh()(qt));return e.copy=function(){return aa(e,rA())},vi.apply(e,arguments)}function nA(){var e=mx(Qh()).domain([1,10]);return e.copy=function(){return aa(e,nA()).base(e.base())},vi.apply(e,arguments)}function iA(){var e=px(Qh());return e.copy=function(){return aa(e,iA()).constant(e.constant())},vi.apply(e,arguments)}function Ex(){var e=vx(Qh());return e.copy=function(){return aa(e,Ex()).exponent(e.exponent())},vi.apply(e,arguments)}function zW(){return Ex.apply(null,arguments).exponent(.5)}function aA(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(qi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>S7(e,a/n))},r.copy=function(){return aA(t).domain(e)},vi.apply(r,arguments)}function Zh(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=qt,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function v(g){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,c=J7(g,[x,w,b]),p):[c(0),c(.5),c(1)]}}return p.range=v(ko),p.rangeRound=v(cx),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function sA(){var e=ia(Zh()(qt));return e.copy=function(){return aa(e,sA())},vi.apply(e,arguments)}function oA(){var e=mx(Zh()).domain([.1,1,10]);return e.copy=function(){return aa(e,oA()).base(e.base())},vi.apply(e,arguments)}function lA(){var e=px(Zh());return e.copy=function(){return aa(e,lA()).constant(e.constant())},vi.apply(e,arguments)}function Px(){var e=vx(Zh());return e.copy=function(){return aa(e,Px()).exponent(e.exponent())},vi.apply(e,arguments)}function FW(){return Px.apply(null,arguments).exponent(.5)}const hl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ox,scaleDiverging:sA,scaleDivergingLog:oA,scaleDivergingPow:Px,scaleDivergingSqrt:FW,scaleDivergingSymlog:lA,scaleIdentity:FC,scaleImplicit:Fg,scaleLinear:zC,scaleLog:UC,scaleOrdinal:sx,scalePoint:P7,scalePow:gx,scaleQuantile:qC,scaleQuantize:KC,scaleRadial:HC,scaleSequential:rA,scaleSequentialLog:nA,scaleSequentialPow:Ex,scaleSequentialQuantile:aA,scaleSequentialSqrt:zW,scaleSequentialSymlog:iA,scaleSqrt:b9,scaleSymlog:WC,scaleThreshold:VC,scaleTime:$W,scaleUtc:LW,tickFormat:LC},Symbol.toStringTag,{value:"Module"}));var gi=e=>e.chartData,em=T([gi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),uA=(e,t,r,n)=>n?em(e):gi(e),cA=(e,t,r)=>r?em(e):gi(e);function oi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ae(t)&&ae(r))return!0}return!1}function Qj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dA(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ae(r))i=r;else if(typeof r=="function")return;if(ae(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(oi(s))return s}}function BW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(oi(n))return Qj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(V(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&v_.test(i)){var l=v_.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(V(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&g_.test(a)){var d=g_.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(oi(h))return t==null?h:Qj(h,t,r)}}}var Eo=1e9,UW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nx,ze=!0,zr="[DecimalError] ",Ca=zr+"Invalid argument: ",Ox=zr+"Exponent out of range: ",Po=Math.floor,ga=Math.pow,WW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,xt=1e7,Ie=7,fA=9007199254740991,Cf=Po(fA/Ie),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};X.dividedBy=X.div=function(e){return Xn(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,r=t.constructor;return Se(Xn(t,new r(e),0,1),r.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return it(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(mr))throw Error(zr+"NaN");if(r.s<1)throw Error(zr+(r.s?"NaN":"-Infinity"));return r.eq(mr)?new n(0):(ze=!1,t=Xn(cu(r,a),cu(e,a),a),ze=!0,Se(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pA(t,e):hA(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zr+"NaN");return r.s?(ze=!1,t=Xn(r,e,0,1).times(e),ze=!0,r.minus(t)):Se(new n(r),i)};X.naturalExponential=X.exp=function(){return mA(this)};X.naturalLogarithm=X.ln=function(){return cu(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hA(t,e):pA(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ca+e);if(t=it(i)+1,n=i.d.length-1,r=n*Ie+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};X.squareRoot=X.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(zr+"NaN")}for(e=it(o),ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=jn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Po((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Xn(o,a,s+2)).times(.5),jn(a.d).slice(0,s)===(t=jn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Se(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return ze=!0,Se(n,r)};X.times=X.mul=function(e){var t,r,n,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+t,a[i--]=o%xt|0,t=o/xt|0;a[i]=(a[i]+t)%xt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ze?Se(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Cn(e,0,Eo),t===void 0?t=n.rounding:Cn(t,0,8),Se(r,e+it(r)+1,t))};X.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ka(n,!0):(Cn(e,0,Eo),t===void 0?t=i.rounding:Cn(t,0,8),n=Se(new i(n),e+1,t),r=Ka(n,!0,e+1)),r};X.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ka(i):(Cn(e,0,Eo),t===void 0?t=a.rounding:Cn(t,0,8),n=Se(new a(i),e+it(i)+1,t),r=Ka(n.abs(),!1,e+it(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return Se(new t(e),it(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(mr);if(o=new l(o),!o.s){if(e.s<1)throw Error(zr+"Infinity");return o}if(o.eq(mr))return o;if(n=l.precision,e.eq(mr))return Se(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=fA){for(i=new l(mr),t=Math.ceil(n/Ie+4),ze=!1;r%2&&(i=i.times(o),eS(i.d,t)),r=Po(r/2),r!==0;)o=o.times(o),eS(o.d,t);return ze=!0,e.s<0?new l(mr).div(i):Se(i,n)}}else if(a<0)throw Error(zr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ze=!1,i=e.times(cu(o,n+c)),ze=!0,i=mA(i),i.s=a,i};X.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=it(i),n=Ka(i,r<=a.toExpNeg||r>=a.toExpPos)):(Cn(e,1,Eo),t===void 0?t=a.rounding:Cn(t,0,8),i=Se(new a(i),e,t),r=it(i),n=Ka(i,e<=r||r<=a.toExpNeg,e)),n};X.toSignificantDigits=X.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Cn(e,1,Eo),t===void 0?t=n.rounding:Cn(t,0,8)),Se(new n(r),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=it(e),r=e.constructor;return Ka(e,t<=r.toExpNeg||t>=r.toExpPos)};function hA(e,t){var r,n,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ze?Se(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Ie),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/xt|0,l[a]%=xt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ze?Se(t,f):t}function Cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ca+e)}function jn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ie-n.length,r&&(a+=Pi(r)),a+=n;s=e[t],n=s+"",r=Ie-n.length,r&&(a+=Pi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%xt|0,s=a/xt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*xt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,d,f,h,p,v,g,y,x,w,b,_,j,S,k,E,O=n.constructor,C=n.s==i.s?1:-1,I=n.d,P=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(zr+"Division by zero");for(l=n.e-i.e,k=P.length,j=I.length,p=new O(C),v=p.d=[],c=0;P[c]==(I[c]||0);)++c;if(P[c]>(I[c]||0)&&--l,a==null?w=a=O.precision:s?w=a+(it(n)-it(i))+1:w=a,w<0)return new O(0);if(w=w/Ie+2|0,c=0,k==1)for(d=0,P=P[0],w++;(c<j||d)&&w--;c++)b=d*xt+(I[c]||0),v[c]=b/P|0,d=b%P|0;else{for(d=xt/(P[0]+1)|0,d>1&&(P=e(P,d),I=e(I,d),k=P.length,j=I.length),_=k,g=I.slice(0,k),y=g.length;y<k;)g[y++]=0;E=P.slice(),E.unshift(0),S=P[0],P[1]>=xt/2&&++S;do d=0,o=t(P,g,k,y),o<0?(x=g[0],k!=y&&(x=x*xt+(g[1]||0)),d=x/S|0,d>1?(d>=xt&&(d=xt-1),f=e(P,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,r(f,k<h?E:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),o==-1&&(y=g.length,o=t(P,g,k,y),o<1&&(d++,r(g,k<y?E:P,y))),y=g.length):o===0&&(d++,g=[0]),v[c++]=d,o&&g[0]?g[y++]=I[_]||0:(g=[I[_]],y=1);while((_++<j||g[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,Se(p,s?a+it(p)+1:a)}}();function mA(e,t){var r,n,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(it(e)>16)throw Error(Ox+it(e));if(!e.s)return new d(mr);for(t==null?(ze=!1,o=f):o=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(ga(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new d(mr),d.precision=o;;){if(i=Se(i.times(e),o),r=r.times(++l),s=a.plus(Xn(i,r,o)),jn(s.d).slice(0,o)===jn(a.d).slice(0,o)){for(;c--;)a=Se(a.times(a),o);return d.precision=f,t==null?(ze=!0,Se(a,f)):a}a=s}}function it(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function $p(e,t,r){if(t>e.LN10.sd())throw ze=!0,r&&(e.precision=r),Error(zr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function Pi(e){for(var t="";e--;)t+="0";return t}function cu(e,t){var r,n,i,a,s,o,l,c,d,f=1,h=10,p=e,v=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(zr+(p.s?"NaN":"-Infinity"));if(p.eq(mr))return new g(0);if(t==null?(ze=!1,c=y):c=t,p.eq(10))return t==null&&(ze=!0),$p(g,c);if(c+=h,g.precision=c,r=jn(v),n=r.charAt(0),a=it(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=jn(p.d),n=r.charAt(0),f++;a=it(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=$p(g,c+2,y).times(a+""),p=cu(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=y,t==null?(ze=!0,Se(p,y)):p;for(o=s=p=Xn(p.minus(mr),p.plus(mr),c),d=Se(p.times(p),c),i=3;;){if(s=Se(s.times(d),c),l=o.plus(Xn(s,new g(i),c)),jn(l.d).slice(0,c)===jn(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus($p(g,c+2,y).times(a+""))),o=Xn(o,new g(f),c),g.precision=y,t==null?(ze=!0,Se(o,y)):o;o=l,i+=2}}function Zj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Po(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ie;n<i;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ze&&(e.e>Cf||e.e<-Cf))throw Error(Ox+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ie,i=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Ie),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;n%=Ie,i=n-Ie+s}if(r!==void 0&&(a=ga(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/ga(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=it(e),f.length=1,t=t-a-1,f[0]=ga(10,(Ie-t%Ie)%Ie),e.e=Po(-t/Ie)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=ga(10,Ie-n),f[d]=i>0?(c/ga(10,s-i)%ga(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==xt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=xt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ze&&(e.e>Cf||e.e<-Cf))throw Error(Ox+it(e));return e}function pA(e,t){var r,n,i,a,s,o,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ze?Se(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(p/Ie),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=xt-1;--l[a],l[i]+=xt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ze?Se(t,p):t):new h(0)}function Ka(e,t,r){var n,i=it(e),a=jn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pi(-i-1)+a,r&&(n=r-s)>0&&(a+=Pi(n))):i>=s?(a+=Pi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Pi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Pi(n))),e.s<0?"-"+a:a}function eS(e,t){if(e.length>t)return e.length=t,!0}function vA(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ca+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Zj(s,a.toString())}else if(typeof a!="string")throw Error(Ca+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,WW.test(a))Zj(s,a);else throw Error(Ca+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vA,i.config=i.set=HW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function HW(e){if(!e||typeof e!="object")throw Error(zr+"Object expected");var t,r,n,i=["precision",1,Eo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Po(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ca+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ca+r+": "+n);return this}var Nx=vA(UW);mr=new Nx(1);const xe=Nx;function gA(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function yA(e,t,r){for(var n=new xe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var xA=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},bA=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=gA(e.toNumber()),i=new xe(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new xe(l.toNumber()):new xe(Math.ceil(l.toNumber()))},qW=(e,t,r)=>{var n=new xe(1),i=new xe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new xe(10).pow(gA(e)-1),i=new xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new xe(Math.floor(e)))}else e===0?i=new xe(Math.floor((t-1)/2)):r||(i=new xe(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new xe(l-s).mul(n)).toNumber());return o},wA=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var s=bA(new xe(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new xe(0):(o=new xe(t).add(r).div(2),o=o.sub(new xe(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new xe(r).sub(o).div(s).toNumber()),d=l+c+1;return d>n?wA(t,r,n,i,a+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:s,tickMin:o.sub(new xe(l).mul(s)),tickMax:o.add(new xe(c).mul(s))})},KW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=xA([r,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return r>n?c.reverse():c}if(o===l)return qW(o,i,a);var{step:d,tickMin:f,tickMax:h}=wA(o,l,s,a,0),p=yA(f,h.add(new xe(.1).mul(d)),d);return r>n?p.reverse():p},VW=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=xA([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),c=bA(new xe(o).sub(s).div(l-1),a,0),d=[...yA(new xe(s),new xe(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},_A=e=>e.rootProps.maxBarSize,GW=e=>e.rootProps.barGap,jA=e=>e.rootProps.barCategoryGap,YW=e=>e.rootProps.barSize,Uu=e=>e.rootProps.stackOffset,SA=e=>e.rootProps.reverseStackOrder,Cx=e=>e.options.chartName,Ax=e=>e.rootProps.syncId,kA=e=>e.rootProps.syncMethod,Tx=e=>e.options.eventEmitter,XW=e=>e.rootProps.baseValue,Ye={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ca={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Ye.axis},mn={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:Ye.axis},tm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function rm(e,t,r){if(r!=="auto")return r;if(e!=null)return An(e,t)?"category":"number"}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rS={allowDataOverflow:ca.allowDataOverflow,allowDecimals:ca.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ca.angleAxisId,includeHidden:!1,name:void 0,reversed:ca.reversed,scale:ca.scale,tick:ca.tick,tickCount:void 0,ticks:void 0,type:ca.type,unit:void 0},nS={allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:mn.includeHidden,name:void 0,reversed:mn.reversed,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:mn.type,unit:void 0},eH=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Ix=T([eH,iC],(e,t)=>{var r;if(e!=null)return e;var n=(r=rm(t,"angleAxis",rS.type))!==null&&r!==void 0?r:"category";return Af(Af({},rS),{},{type:n})}),tH=(e,t)=>e.polarAxis.radiusAxis[t],Mx=T([tH,iC],(e,t)=>{var r;if(e!=null)return e;var n=(r=rm(t,"radiusAxis",nS.type))!==null&&r!==void 0?r:"category";return Af(Af({},nS),{},{type:n})}),nm=e=>e.polarOptions,Dx=T([mi,pi,ht],_C),EA=T([nm,Dx],(e,t)=>{if(e!=null)return Lt(e.innerRadius,t,0)}),PA=T([nm,Dx],(e,t)=>{if(e!=null)return Lt(e.outerRadius,t,t*.8)}),rH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},OA=T([nm],rH);T([Ix,OA],tm);var NA=T([Dx,EA,PA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([Mx,NA],tm);var CA=T([me,nm,EA,PA,mi,pi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Lt(s,i,i/2),cy:Lt(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),He=(e,t)=>t,Wu=(e,t,r)=>r;function im(e){return e==null?void 0:e.id}function AA(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var d=im(o);c.forEach((f,h)=>{var p=a==null||i?h:String(je(f,a,null)),v=je(f,o.dataKey,0),g;s.has(p)?g=s.get(p):g={},Object.assign(g,{[d]:v}),s.set(p,g)})}}),Array.from(s.values())}function am(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var sm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function om(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function nH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var St=e=>{var t=me(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Oo=e=>e.tooltip.settings.axisId;function iH(e){if(e in hl)return hl[e]();var t="scale".concat(Ou(e));if(t in hl)return hl[t]()}function iS(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function aS(e,t,r){if(typeof e=="function")return iS(e.copy().domain(t).range(r));if(e!=null){var n=iH(e);if(n!=null)return n.domain(t).range(r),iS(n)}}var TA=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!oi(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];ae(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){aH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aH(e,t,r){return(t=sH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hg=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IA=(e,t)=>e.cartesianAxis.xAxis[t],yi=(e,t)=>{var r=IA(e,t);return r??gt},yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tu},MA=(e,t)=>e.cartesianAxis.yAxis[t],xi=(e,t)=>{var r=MA(e,t);return r??yt},lH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??lH},Je=(e,t,r)=>{switch(t){case"xAxis":return yi(e,r);case"yAxis":return xi(e,r);case"zAxis":return Rx(e,r);case"angleAxis":return Ix(e,r);case"radiusAxis":return Mx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uH=(e,t,r)=>{switch(t){case"xAxis":return yi(e,r);case"yAxis":return xi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},No=(e,t,r)=>{switch(t){case"xAxis":return yi(e,r);case"yAxis":return xi(e,r);case"angleAxis":return Ix(e,r);case"radiusAxis":return Mx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $x(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var lm=e=>e.graphicalItems.cartesianItems,cH=T([He,Wu],$x),Lx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hu=T([lm,Je,cH],Lx,{memoizeOptions:{resultEqualityCheck:om}}),RA=T([Hu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(am)),$A=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),dH=T([Hu],$A),zx=e=>e.map(t=>t.data).filter(Boolean).flat(1),fH=T([Hu],zx,{memoizeOptions:{resultEqualityCheck:om}}),Fx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Bx=T([fH,uA],Fx),Ux=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:je(i,n)}))):e.map(n=>({value:n})),um=T([Bx,Je,Hu],Ux);function LA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dd(e){if(On(e)||e instanceof Date){var t=Number(e);if(ae(t))return t}}function oS(e){if(Array.isArray(e)){var t=[dd(e[0]),dd(e[1])];return oi(t)?t:void 0}var r=dd(e);if(r!=null)return[r,r]}function li(e){return e.map(dd).filter(nr)}function hH(e,t,r){return!r||typeof t!="number"||on(t)?[]:r.length?li(r.flatMap(n=>{var i=je(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ae(a)||!ae(s)))return[t-a,t+s]})):[]}var pt=e=>{var t=St(e),r=Oo(e);return No(e,t,r)},qu=T([pt],e=>e==null?void 0:e.dataKey),mH=T([RA,uA,pt],AA),zA=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=n?[...l].reverse():l,d=c.map(im);return[o,{stackedData:WB(e,d,r),graphicalItems:c}]}))},If=T([mH,RA,Uu,SA],zA),FA=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=VB(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},pH=T([Je],e=>e.allowDataOverflow),Wx=e=>{var t;if(e==null||!("domain"in e))return Hg;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=li(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Hg},Hx=T([Je],Wx),qx=T([Hx,pH],dA),vH=T([If,gi,He,qx],FA,{memoizeOptions:{resultEqualityCheck:sm}}),cm=e=>e.errorBars,gH=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>LA(r,n)),Mf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Kx=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,d,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(x=>LA(i,x)),h=je(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),p=hH(o,h,f);if(p.length>=2){var v=Math.min(...p),g=Math.max(...p);(a==null||v<a)&&(a=v),(s==null||g>s)&&(s=g)}var y=oS(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=oS(je(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),ae(a)&&ae(s))return[a,s]},yH=T([Bx,Je,dH,cm,He],Kx,{memoizeOptions:{resultEqualityCheck:sm}});function xH(e){var{value:t}=e;if(On(t)||t instanceof Date)return t}var bH=(e,t,r)=>{var n=e.map(xH).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&MO(n))?NC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},BA=e=>e.referenceElements.dots,Co=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),wH=T([BA,He,Wu],Co),UA=e=>e.referenceElements.areas,_H=T([UA,He,Wu],Co),WA=e=>e.referenceElements.lines,jH=T([WA,He,Wu],Co),HA=(e,t)=>{if(e!=null){var r=li(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},SH=T(wH,He,HA),qA=(e,t)=>{if(e!=null){var r=li(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kH=T([_H,He],qA);function EH(e){var t;if(e.x!=null)return li([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:li(r)}function PH(e){var t;if(e.y!=null)return li([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:li(r)}var KA=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?EH(n):PH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},OH=T([jH,He],KA),NH=T(SH,OH,kH,(e,t,r)=>Mf(e,r,t)),Vx=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Mf(n,a,i):Mf(a,i);return BW(t,c,e.allowDataOverflow)},CH=T([Je,Hx,qx,vH,yH,NH,me,He],Vx,{memoizeOptions:{resultEqualityCheck:sm}}),AH=[0,1],Gx=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=An(t,a);if(c&&o==null){var d;return NC(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?bH(n,e,c):i==="expand"?AH:s}},Yx=T([Je,me,Bx,um,Uu,He,CH],Gx);function TH(e){return e in hl}var VA=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Ou(n));return TH(a)?a:"point"}}},sa=T([Je,DA,Cx],VA);function Xx(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?aS(e.scale,r,n):aS(t,r,n)}var Jx=(e,t,r)=>{var n=Wx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&oi(e))return KW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&oi(e))return VW(e,t.tickCount,t.allowDecimals)}},Qx=T([Yx,No,sa],Jx),Zx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&oi(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,l=t[1],c=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,c)]}return t},IH=T([Je,Yx,Qx,He],Zx),MH=T(um,Je,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(li(e.map(f=>f.value))).sort((f,h)=>f-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],c=n[o+1];if(!(l==null||c==null)){var d=c-l;r=Math.min(r,d)}}return r/s}}),GA=T(MH,me,jA,ht,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!ae(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Lt(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),DH=(e,t,r)=>{var n=yi(e,t);return n==null||typeof n.padding!="string"?0:GA(e,"xAxis",t,r,n.padding)},RH=(e,t,r)=>{var n=xi(e,t);return n==null||typeof n.padding!="string"?0:GA(e,"yAxis",t,r,n.padding)},$H=T(yi,DH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),LH=T(xi,RH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),zH=T([ht,$H,Wh,Uh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),FH=T([ht,me,LH,Wh,Uh,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ku=(e,t,r,n)=>{var i;switch(t){case"xAxis":return zH(e,r,n);case"yAxis":return FH(e,r,n);case"zAxis":return(i=Rx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return OA(e);case"radiusAxis":return NA(e,r);default:return}},YA=T([Je,Ku],tm),BH=T([sa,IH],TA),dm=T([Je,sa,BH,YA],Xx);T([Hu,cm,He],gH);function XA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fm=(e,t)=>t,hm=(e,t,r)=>r,UH=T(Fh,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XA)),WH=T(Bh,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XA)),JA=(e,t)=>({width:e.width,height:t.height}),HH=(e,t)=>{var r=typeof t.width=="number"?t.width:Tu;return{width:r,height:e.height}},QA=T(ht,yi,JA),qH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},KH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},VH=T(pi,ht,UH,fm,hm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=JA(t,o);s==null&&(s=qH(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),GH=T(mi,ht,WH,fm,hm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=HH(t,o);s==null&&(s=KH(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),YH=(e,t)=>{var r=yi(e,t);if(r!=null)return VH(e,r.orientation,r.mirror)},XH=T([ht,yi,YH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),JH=(e,t)=>{var r=xi(e,t);if(r!=null)return GH(e,r.orientation,r.mirror)},QH=T([ht,xi,JH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),ZA=T(ht,xi,(e,t)=>{var r=typeof t.width=="number"?t.width:Tu;return{width:r,height:e.height}}),lS=(e,t,r)=>{switch(t){case"xAxis":return QA(e,r).width;case"yAxis":return ZA(e,r).height;default:return}},eT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=An(e,n),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&MO(l))return l}},eb=T([me,um,Je,He],eT),tT=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=An(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},tb=T([me,um,No,He],tT),uS=T([me,uH,sa,dm,eb,tb,Ku,Qx,He],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var c=An(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}}),ZH=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var c=An(e,l),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/p:0;v=l==="angleAxis"&&a!=null&&a.length>=2?wt(a[0]-a[1])*2*v:v;var g=f||i;return g?g.map((y,x)=>{var w=s?s.indexOf(y):y,b=n.map(w);return ae(b)?{index:x,coordinate:b+v,value:y,offset:v}:null}).filter(nr):c&&o?o.map((y,x)=>{var w=n.map(y);return ae(w)?{coordinate:w+v,value:y,index:x,offset:v}:null}).filter(nr):n.ticks?n.ticks(h).map((y,x)=>{var w=n.map(y);return ae(w)?{coordinate:w+v,value:y,index:x,offset:v}:null}).filter(nr):n.domain().map((y,x)=>{var w=n.map(y);return ae(w)?{coordinate:w+v,value:s?s[y]:y,index:x,offset:v}:null}).filter(nr)}},rT=T([me,No,sa,dm,Qx,Ku,eb,tb,He],ZH),eq=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=An(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?wt(n[0]-n[1])*2*c:c,o&&a?a.map((d,f)=>{var h=r.map(d);return ae(h)?{coordinate:h+c,value:d,index:f,offset:c}:null}).filter(nr):r.ticks?r.ticks(l).map((d,f)=>{var h=r.map(d);return ae(h)?{coordinate:h+c,value:d,index:f,offset:c}:null}).filter(nr):r.domain().map((d,f)=>{var h=r.map(d);return ae(h)?{coordinate:h+c,value:i?i[d]:d,index:f,offset:c}:null}).filter(nr)}},Xi=T([me,No,dm,Ku,eb,tb,He],eq),Ji=T(Je,dm,(e,t)=>{if(!(e==null||t==null))return Tf(Tf({},e),{},{scale:t})}),tq=T([Je,sa,Yx,YA],Xx);T((e,t,r)=>Rx(e,r),tq,(e,t)=>{if(!(e==null||t==null))return Tf(Tf({},e),{},{scale:t})});var rq=T([me,Fh,Bh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nT=e=>e.options.defaultTooltipEventType,iT=e=>e.options.validateTooltipEventTypes;function aT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function rb(e,t){var r=nT(e),n=iT(e);return aT(t,r,n)}function nq(e){return Q(t=>rb(t,e))}var sT=(e,t)=>{var r,n=Number(t);if(!(on(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},iq=e=>e.tooltip.settings,Ti={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},aq={itemInteraction:{click:Ti,hover:Ti},axisInteraction:{click:Ti,hover:Ti},keyboardInteraction:Ti,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oT=cr({name:"tooltip",initialState:aq,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:$e()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=nn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:$e()},removeTooltipEntrySettings:{reducer(e,t){var r=nn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:$e()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:sq,replaceTooltipEntrySettings:oq,removeTooltipEntrySettings:lq,setTooltipSettingsState:uq,setActiveMouseOverItemIndex:lT,mouseLeaveItem:cq,mouseLeaveChart:uT,setActiveClickItemIndex:dq,setMouseOverAxisIndex:cT,setMouseClickAxisIndex:fq,setSyncInteraction:qg,setKeyboardInteraction:Kg}=oT.actions,hq=oT.reducer;function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t,r){return(t=pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function yq(e){return e.index!=null}var dT=(e,t,r,n)=>{if(t==null)return Ti;var i=gq(e,t,r);if(i==null)return Ti;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(yq(i)){if(a)return Lc(Lc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Lc(Lc({},Ti),{},{coordinate:i.coordinate})};function xq(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function bq(e,t){var r=xq(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function wq(e,t,r){if(r==null||t==null)return!0;var n=je(e,t);return n==null||!oi(r)?!0:bq(n,r)}var nb=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ae(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||wq(c,r,n)?String(l):null},fT=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},hT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},mT=e=>e.options.tooltipPayloadSearcher,Ao=e=>e.tooltip;function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kq(e,t){return e??t}var pT=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var v,{dataDefinedOnItem:g,settings:y}=p,x=kq(g,o),w=Array.isArray(x)?HN(x,c,d):x,b=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?j=DO(w,n,i):j=a(w,t,l,_),Array.isArray(j))j.forEach(k=>{var E=fS(fS({},y),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(y_({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:je(k.payload,k.dataKey),name:k.name}))});else{var S;h.push(y_({tooltipEntrySettings:y,dataKey:b,payload:j,value:je(j,b),name:(S=je(j,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},ib=T([pt,DA,Cx],VA),Eq=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Pq=T([St,Oo],$x),To=T([Eq,pt,Pq],Lx,{memoizeOptions:{resultEqualityCheck:om}}),Oq=T([To],e=>e.filter(am)),Nq=T([To],zx,{memoizeOptions:{resultEqualityCheck:om}}),Io=T([Nq,gi],Fx),Cq=T([Oq,gi,pt],AA),ab=T([Io,pt,To],Ux),vT=T([pt],Wx),Aq=T([pt],e=>e.allowDataOverflow),gT=T([vT,Aq],dA),Tq=T([To],e=>e.filter(am)),Iq=T([Cq,Tq,Uu,SA],zA),Mq=T([Iq,gi,St,gT],FA),Dq=T([To],$A),Rq=T([Io,pt,Dq,cm,St],Kx,{memoizeOptions:{resultEqualityCheck:sm}}),$q=T([BA,St,Oo],Co),Lq=T([$q,St],HA),zq=T([UA,St,Oo],Co),Fq=T([zq,St],qA),Bq=T([WA,St,Oo],Co),Uq=T([Bq,St],KA),Wq=T([Lq,Uq,Fq],Mf),Hq=T([pt,vT,gT,Mq,Rq,Wq,me,St],Vx),Vu=T([pt,me,Io,ab,Uu,St,Hq],Gx),qq=T([Vu,pt,ib],Jx),Kq=T([pt,Vu,qq,St],Zx),yT=e=>{var t=St(e),r=Oo(e),n=!1;return Ku(e,t,r,n)},xT=T([pt,yT],tm),bT=T([pt,ib,Kq,xT],Xx),Vq=T([me,ab,pt,St],eT),Gq=T([me,ab,pt,St],tT),Yq=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,c=An(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wt(i[0]-i[1])*2*f:f,c&&s?s.map((h,p)=>{var v=n.map(h);return ae(v)?{coordinate:v+f,value:h,index:p,offset:f}:null}).filter(nr):n.domain().map((h,p)=>{var v=n.map(h);return ae(v)?{coordinate:v+f,value:a?a[h]:h,index:p,offset:f}:null}).filter(nr)}}},bi=T([me,pt,ib,bT,yT,Vq,Gq,St],Yq),sb=T([nT,iT,iq],(e,t,r)=>aT(r.shared,e,t)),wT=e=>e.tooltip.settings.trigger,ob=e=>e.tooltip.settings.defaultIndex,Gu=T([Ao,sb,wT,ob],dT),Qi=T([Gu,Io,qu,Vu],nb),_T=T([bi,Qi],sT),lb=T([Gu],e=>{if(e)return e.dataKey}),Xq=T([Gu],e=>{if(e)return e.graphicalItemId}),jT=T([Ao,sb,wT,ob],hT),Jq=T([mi,pi,me,ht,bi,ob,jT],fT),Qq=T([Gu,Jq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Zq=T([Gu],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),eK=T([jT,Qi,gi,qu,_T,mT,sb],pT),tK=T([eK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aK=()=>Q(pt),sK=()=>{var e=aK(),t=Q(bi),r=Q(bT);return so(!e||!r?void 0:mS(mS({},e),{},{scale:r}),t)};function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){oK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cK=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},dK=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return gs(gs(gs({},n),nt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return gs(gs(gs({},n),nt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function fK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var ST=(e,t,r,n,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,p=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(c=r[s-1])===null||c===void 0?void 0:c.coordinate,v=(d=r[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(p==null||v==null||g==null))if(wt(v-p)!==wt(g-v)){var x=[];if(wt(g-v)===wt(i[1]-i[0])){y=g;var w=v+i[1]-i[0];x[0]=Math.min(w,(w+p)/2),x[1]=Math.max(w,(w+p)/2)}else{y=p;var b=g+i[1]-i[0];x[0]=Math.min(v,(b+v)/2),x[1]=Math.max(v,(b+v)/2)}var _=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){var j;return(j=r[o])===null||j===void 0?void 0:j.index}}else{var S=Math.min(p,g),k=Math.max(p,g);if(e>(S+v)/2&&e<=(k+v)/2){var E;return(E=r[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var O=0;O<s;O++){var C=t[O];if(C!=null){var I=t[O+1],P=t[O-1];if(O===0&&I!=null&&e<=(C.coordinate+I.coordinate)/2||O===s-1&&P!=null&&e>(C.coordinate+P.coordinate)/2||O>0&&O<s-1&&P!=null&&I!=null&&e>(C.coordinate+P.coordinate)/2&&e<=(C.coordinate+I.coordinate)/2)return C.index}}return-1},kT=()=>Q(Cx),ub=(e,t)=>t,ET=(e,t,r)=>r,cb=(e,t,r,n)=>n,hK=T(bi,e=>Ch(e,t=>t.coordinate)),db=T([Ao,ub,ET,cb],dT),fb=T([db,Io,qu,Vu],nb),mK=(e,t,r)=>{if(t!=null){var n=Ao(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},PT=T([Ao,ub,ET,cb],hT),Df=T([mi,pi,me,ht,bi,cb,PT],fT),pK=T([db,Df],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OT=T([bi,fb],sT),vK=T([PT,fb,gi,qu,OT,mT,ub],pT),gK=T([db,fb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),yK=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&fK(e,s)){var o=GB(e,t),l=ST(o,a,i,r,n),c=cK(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},xK=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=o7(e,r);if(o){var l=YB(o,t),c=ST(l,s,a,n,i),d=dK(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},bK=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?yK(e,t,n,i,a,s,o):xK(e,t,r,n,i,a,s)},wK=T(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),_K=T(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ye)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:nH}});function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EK={},PK={zIndexMap:Object.values(Ye).reduce((e,t)=>gS(gS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),EK)},OK=new Set(Object.values(Ye));function NK(e){return OK.has(e)}var NT=cr({name:"zIndex",initialState:PK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:$e()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!NK(r)&&delete e.zIndexMap[r])},prepare:$e()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:$e()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:$e()}}}),{registerZIndexPortal:CK,unregisterZIndexPortal:AK,registerZIndexPortalElement:TK,unregisterZIndexPortalElement:IK}=NT.actions,MK=NT.reducer;function dr(e){var{zIndex:t,children:r}=e,n=_U(),i=n&&t!==void 0&&t!==0,a=Ft(),s=Ne();m.useLayoutEffect(()=>i?(s(CK({zIndex:t})),()=>{s(AK({zIndex:t}))}):Za,[s,t,i]);var o=Q(l=>wK(l,t,a));return i?o?dh.createPortal(r,o):null:r}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(null,arguments)}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function zK(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=r,h=n,p=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var v,g,y;if(d==="ScatterChart")v=f,g=w8,y=Ye.cursorLine;else if(d==="BarChart")v=_8(o,f,a,s),g=wC,y=Ye.cursorRectangle;else if(o==="radial"&&$O(f)){var{cx:x,cy:w,radius:b,startAngle:_,endAngle:j}=jC(f);v={cx:x,cy:w,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},g=kC,y=Ye.cursorLine}else v={points:d7(o,f,a)},g=Vs,y=Ye.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,k=zc(zc(zc(zc({stroke:"#ccc",pointerEvents:"none"},a),v),za(l)),{},{payload:h,payloadIndex:p,className:pe("recharts-tooltip-cursor",S)});return m.createElement(dr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},m.createElement(LK,{cursor:l,cursorComp:g,cursorProps:k}))}function FK(e){var t=sK(),r=nC(),n=es(),i=kT();return t==null||r==null||n==null||i==null?null:m.createElement(zK,Vg({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var CT=m.createContext(null),BK=()=>m.useContext(CT),AT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,v){var g=r?r+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,v),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var _=y.length,j;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];y[b].fn.apply(y[b].context,w)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(AT);var UK=AT.exports;const WK=di(UK);var du=new WK,Gg="recharts.syncEvent.tooltip",xS="recharts.syncEvent.brush",hb=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!on(r))return e[r]}},HK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},TT=cr({name:"options",initialState:HK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qK=TT.reducer,{createEventEmitter:KK}=TT.actions;function VK(e){return e.tooltip.syncInteraction}var GK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},IT=cr({name:"chartData",initialState:GK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:bS,setDataStartEndIndexes:YK,setComputedData:qre}=IT.actions,XK=IT.reducer,JK=["x","y"];function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=eV(e,"string");return typeof t=="symbol"?t:t+""}function eV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tV(e,t){if(e==null)return{};var r,n,i=rV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nV(){var e=Q(Ax),t=Q(Tx),r=Ne(),n=Q(kA),i=Q(bi),a=es(),s=Hh(),o=Q(l=>l.rootProps.className);m.useEffect(()=>{if(e==null)return Za;var l=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:v,y:g}=p,y=tV(p,JK),{x,y:w,width:b,height:_}=d.payload.sourceViewBox,j=ys(ys({},y),{},{x:s.x+(b?(v-x)/b:0)*s.width,y:s.y+(_?(g-w)/_:0)*s.height});r(ys(ys({},d),{},{payload:ys(ys({},d.payload),{},{coordinate:j})}))}else r(d);return}if(i!=null){var S;if(typeof n=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(i,k);S=i[E]}else n==="value"&&(S=i.find(q=>String(q.value)===d.payload.label));var{coordinate:O}=d.payload;if(S==null||d.payload.active===!1||O==null||s==null){r(qg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:C,y:I}=O,P=Math.min(C,s.x+s.width),z=Math.min(I,s.y+s.height),M={x:a==="horizontal"?S.coordinate:P,y:a==="horizontal"?z:S.coordinate},F=qg({active:d.payload.active,coordinate:M,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(F)}}};return du.on(Gg,l),()=>{du.off(Gg,l)}},[o,r,t,e,n,i,a,s])}function iV(){var e=Q(Ax),t=Q(Tx),r=Ne();m.useEffect(()=>{if(e==null)return Za;var n=(i,a,s)=>{t!==s&&e===i&&r(YK(a))};return du.on(xS,n),()=>{du.off(xS,n)}},[r,t,e])}function aV(){var e=Ne();m.useEffect(()=>{e(KK())},[e]),nV(),iV()}function sV(e,t,r,n,i,a){var s=Q(p=>mK(p,e,t)),o=Q(Tx),l=Q(Ax),c=Q(kA),d=Q(VK),f=d==null?void 0:d.active,h=Hh();m.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=qg({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});du.emit(Gg,l,p,o)}},[f,r,s,i,n,o,l,c,a,h])}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){oV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oV(e,t,r){return(t=lV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cV(e){return e.dataKey}function dV(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(e8,t)}var SS=[],fV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fd(e){var t,r,n=at(e,fV),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:w,trigger:b,defaultIndex:_,portal:j,axisId:S}=n,k=Ne(),E=typeof _=="number"?String(_):_;m.useEffect(()=>{k(uq({shared:w,trigger:b,axisId:S,active:i,defaultIndex:E}))},[k,w,b,S,i,E]);var O=Hh(),C=vC(),I=nq(w),{activeIndex:P,isActive:z}=(t=Q(_e=>gK(_e,I,b,E)))!==null&&t!==void 0?t:{},M=Q(_e=>vK(_e,I,b,E)),F=Q(_e=>OT(_e,I,b,E)),q=Q(_e=>pK(_e,I,b,E)),te=M,R=BK(),W=(r=i??z)!==null&&r!==void 0?r:!1,[K,J]=mN([te,W]),se=I==="axis"?F:void 0;sV(I,b,q,se,P,W);var le=j??R;if(le==null||O==null||I==null)return null;var we=te??SS;W||(we=SS),c&&we.length&&(we=rN(we.filter(_e=>_e.value!=null&&(_e.hide!==!0||n.includeHidden)),h,cV));var ue=we.length>0,Ce=m.createElement(o8,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:W,coordinate:q,hasPayload:ue,offset:f,position:p,reverseDirection:v,useTranslate3d:g,viewBox:O,wrapperStyle:y,lastBoundingBox:K,innerRef:J,hasPortalFromProps:!!j},dV(l,jS(jS({},n),{},{payload:we,label:se,active:W,activeIndex:P,coordinate:q,accessibilityLayer:C})));return m.createElement(m.Fragment,null,dh.createPortal(Ce,le),W&&m.createElement(FK,{cursor:x,tooltipEventType:I,coordinate:q,payload:we,index:P}))}var ho=e=>null;ho.displayName="Cell";function hV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vV{constructor(t){hV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){yV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yV(e,t,r){return(t=xV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wV={cacheSize:2e3,enableCache:!0},MT=gV({},wV),ES=new vV(MT.cacheSize),_V={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PS="recharts_measurement_span";function jV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var OS=(e,t)=>{try{var r=document.getElementById(PS);r||(r=document.createElement("span"),r.setAttribute("id",PS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,_V,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Du.isSsr)return{width:0,height:0};if(!MT.enableCache)return OS(t,r);var n=jV(t,r),i=ES.get(n);if(i)return i;var a=OS(t,r);return ES.set(n,a),a},DT;function SV(e,t,r){return(t=kV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CV=["cm","mm","pt","pc","in","Q","px"];function AV(e){return CV.includes(e)}var Rs="NaN";function TV(e,t){return e*NV[t]}class Ot{static parse(t){var r,[,n,i]=(r=OV.exec(t))!==null&&r!==void 0?r:[];return n==null?Ot.NaN:new Ot(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,on(t)&&(this.unit=""),r!==""&&!PV.test(r)&&(this.num=NaN,this.unit=""),AV(r)&&(this.num=TV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ot(NaN,""):new Ot(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return on(this.num)}}DT=Ot;SV(Ot,"NaN",new DT(NaN,""));function RT(e){if(e==null||e.includes(Rs))return Rs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=NS.exec(t))!==null&&r!==void 0?r:[],s=Ot.parse(n??""),o=Ot.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Rs;t=t.replace(NS,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=CS.exec(t))!==null&&c!==void 0?c:[],p=Ot.parse(d??""),v=Ot.parse(h??""),g=f==="+"?p.add(v):p.subtract(v);if(g.isNaN())return Rs;t=t.replace(CS,g.toString())}return t}var AS=/\(([^()]*)\)/;function IV(e){for(var t=e,r;(r=AS.exec(t))!=null;){var[,n]=r;t=t.replace(AS,RT(n))}return t}function MV(e){var t=e.replace(/\s+/g,"");return t=IV(t),t=RT(t),t}function DV(e){try{return MV(e)}catch{return Rs}}function Lp(e){var t=DV(e.slice(5,-1));return t===Rs?"":t}var RV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$V=["dx","dy","angle","className","breakAll"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function TS(e,t){if(e==null)return{};var r,n,i=LV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $T=/[ \f\n\r\t\v\u2028\u2029]+/,LT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Xe(t)||(r?i=t.toString().split(""):i=t.toString().split($T));var a=i.map(o=>({word:o,width:Ol(o,n).width})),s=r?0:Ol("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function zV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var zT=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var c={words:[s],width:o};i.push(c)}return i},[]),FT=e=>e.reduce((t,r)=>t.width>r.width?t:r),FV="",IS=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),c=LT({breakAll:r,style:n,children:l+FV});if(!c)return[!1,[]];var d=zT(c.wordsWithComputedWidth,a,s,o),f=d.length>i||FT(d).width>Number(a);return[f,d]},BV=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=V(a),d=String(s),f=zT(t,n,r,i);if(!c||i)return f;var h=f.length>a||FT(f).width>Number(n);if(!h)return f;for(var p=0,v=d.length-1,g=0,y;p<=v&&g<=d.length-1;){var x=Math.floor((p+v)/2),w=x-1,[b,_]=IS(d,w,l,o,a,n,r,i),[j]=IS(d,x,l,o,a,n,r,i);if(!b&&!j&&(p=x+1),b&&j&&(v=x-1),!b&&j){y=_;break}g++}return y||f},MS=e=>{var t=Xe(e)?[]:e.toString().split($T);return[{words:t,width:void 0}]},UV=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Du.isSsr){var o,l,c=LT({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return MS(n);return BV({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return MS(n)},BT="#808080",WV={angle:0,breakAll:!1,capHeight:"0.71em",fill:BT,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},mm=m.forwardRef((e,t)=>{var r=at(e,WV),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=r,f=TS(r,RV),h=m.useMemo(()=>UV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:v,angle:g,className:y,breakAll:x}=f,w=TS(f,$V);if(!On(n)||!On(i)||h.length===0)return null;var b=Number(n)+(V(p)?p:0),_=Number(i)+(V(v)?v:0);if(!ae(b)||!ae(_))return null;var j;switch(d){case"start":j=Lp("calc(".concat(s,")"));break;case"middle":j=Lp("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=Lp("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[],k=h[0];if(l&&k!=null){var E=k.width,{width:O}=f;S.push("scale(".concat(V(O)&&V(E)?O/E:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(b,", ").concat(_,")")),S.length&&(w.transform=S.join(" ")),m.createElement("text",Yg({},Vt(w),{ref:t,x:b,y:_,className:pe("recharts-text",y),textAnchor:c,fill:o.includes("url")?BT:o}),h.map((C,I)=>{var P=C.words.join(x?"":" ");return m.createElement("tspan",{x:b,dy:I===0?j:a,key:"".concat(P,"-").concat(I)},P)}))});mm.displayName="Text";function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VV=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i,clamp:a}=e,{x:s,y:o,height:l,upperWidth:c,lowerWidth:d}=Zy(t),f=s,h=s+(c-d)/2,p=(f+h)/2,v=(c+d)/2,g=f+c/2,y=l>=0?1:-1,x=y*n,w=y>0?"end":"start",b=y>0?"start":"end",_=c>=0?1:-1,j=_*n,S=_>0?"end":"start",k=_>0?"start":"end",E=i;if(r==="top"){var O={x:f+c/2,y:o-x,horizontalAnchor:"middle",verticalAnchor:w};return a&&E&&(O.height=Math.max(o-E.y,0),O.width=c),O}if(r==="bottom"){var C={x:h+d/2,y:o+l+x,horizontalAnchor:"middle",verticalAnchor:b};return a&&E&&(C.height=Math.max(E.y+E.height-(o+l),0),C.width=d),C}if(r==="left"){var I={x:p-j,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"};return a&&E&&(I.width=Math.max(I.x-E.x,0),I.height=l),I}if(r==="right"){var P={x:p+v+j,y:o+l/2,horizontalAnchor:k,verticalAnchor:"middle"};return a&&E&&(P.width=Math.max(E.x+E.width-P.x,0),P.height=l),P}var z=a&&E?{width:v,height:l}:{};return r==="insideLeft"?pn({x:p+j,y:o+l/2,horizontalAnchor:k,verticalAnchor:"middle"},z):r==="insideRight"?pn({x:p+v-j,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"},z):r==="insideTop"?pn({x:f+c/2,y:o+x,horizontalAnchor:"middle",verticalAnchor:b},z):r==="insideBottom"?pn({x:h+d/2,y:o+l-x,horizontalAnchor:"middle",verticalAnchor:w},z):r==="insideTopLeft"?pn({x:f+j,y:o+x,horizontalAnchor:k,verticalAnchor:b},z):r==="insideTopRight"?pn({x:f+c-j,y:o+x,horizontalAnchor:S,verticalAnchor:b},z):r==="insideBottomLeft"?pn({x:h+j,y:o+l-x,horizontalAnchor:k,verticalAnchor:w},z):r==="insideBottomRight"?pn({x:h+d-j,y:o+l-x,horizontalAnchor:S,verticalAnchor:w},z):r&&typeof r=="object"&&(V(r.x)||Ua(r.x))&&(V(r.y)||Ua(r.y))?pn({x:s+Lt(r.x,v),y:o+Lt(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},z):pn({x:g,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},GV=["labelRef"],YV=["content"];function RS(e,t){if(e==null)return{};var r,n,i=XV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return(t=QV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(null,arguments)}var UT=m.createContext(null),eG=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return m.createElement(UT.Provider,{value:l},o)},WT=()=>{var e=m.useContext(UT),t=Hh();return e||(t?Zy(t):void 0)},tG=m.createContext(null),rG=()=>{var e=m.useContext(tG),t=Q(CA);return e||t},nG=e=>{var{value:t,formatter:r}=e,n=Xe(e.children)?t:e.children;return typeof r=="function"?r(n):n},mb=e=>e!=null&&typeof e=="function",iG=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},aG=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=i,v=(c+d)/2,g=iG(f,h),y=g>=0?1:-1,x,w;switch(t){case"insideStart":x=f+y*a,w=p;break;case"insideEnd":x=h-y*a,w=!p;break;case"end":x=h+y*a,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var b=nt(o,l,v,x),_=nt(o,l,v,x+(w?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Xe(e.id)?Ql("recharts-radial-line-"):e.id;return m.createElement("text",Un({},n,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:S,d:j})),m.createElement("textPath",{xlinkHref:"#".concat(S)},r))},sG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:d,y:f}=nt(n,i,s+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:v}=nt(n,i,h,c);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},hd=e=>e!=null&&"cx"in e&&V(e.cx),oG={angle:0,offset:5,zIndex:Ye.label,position:"middle",textBreakAll:!1};function lG(e){if(!hd(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Oi(e){var t=at(e,oG),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:l="",textBreakAll:c,labelRef:d}=t,f=rG(),h=WT(),p=i==="center"?h:f??h,v,g,y;r==null?v=p:hd(r)?v=r:v=Zy(r);var x=lG(v);if(!v||Xe(a)&&Xe(s)&&!m.isValidElement(o)&&typeof o!="function")return null;var w=ml(ml({},t),{},{viewBox:v});if(m.isValidElement(o)){var b=RS(w,GV);return m.cloneElement(o,b)}if(typeof o=="function"){var _=RS(w,YV);if(g=m.createElement(o,_),m.isValidElement(g))return g}else g=nG(t);var j=Vt(t);if(hd(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return aG(t,i,g,j,v);y=sG(v,t.offset,t.position)}else{if(!x)return null;var S=VV({viewBox:x,position:i,offset:t.offset,parentViewBox:hd(n)?void 0:n,clamp:!0});y=ml(ml({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},S.width!==void 0?{width:S.width}:{}),S.height!==void 0?{height:S.height}:{})}return m.createElement(dr,{zIndex:t.zIndex},m.createElement(mm,Un({ref:d,className:pe("recharts-label",l)},j,y,{textAnchor:zV(j.textAnchor)?j.textAnchor:y.textAnchor,breakAll:c}),g))}Oi.displayName="Label";var uG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(Oi,Un({key:"label-implicit"},n)):On(e)?m.createElement(Oi,Un({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===Oi?m.cloneElement(e,ml({key:"label-implicit"},n)):m.createElement(Oi,Un({key:"label-implicit",content:e},n)):mb(e)?m.createElement(Oi,Un({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(Oi,Un({},e,{key:"label-implicit"},n)):null};function cG(e){var{label:t,labelRef:r}=e,n=WT();return uG(t,n,r)||null}var HT={},qT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(qT);var KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT,r=KT,n=Ph;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(HT);var dG=HT.last;const fG=di(dG);var hG=["valueAccessor"],mG=["dataKey","clockWise","id","textBreakAll","zIndex"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function LS(e,t){if(e==null)return{};var r,n,i=pG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vG=e=>Array.isArray(e.value)?fG(e.value):e.value,VT=m.createContext(void 0),GT=VT.Provider,YT=m.createContext(void 0),gG=YT.Provider;function yG(){return m.useContext(VT)}function xG(){return m.useContext(YT)}function md(e){var{valueAccessor:t=vG}=e,r=LS(e,hG),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=LS(r,mG),c=yG(),d=xG(),f=c||d;return!f||!f.length?null:m.createElement(dr,{zIndex:o??Ye.label},m.createElement(et,{className:"recharts-label-list"},f.map((h,p)=>{var v,g=Xe(n)?t(h,p):je(h.payload,n),y=Xe(a)?{}:{id:"".concat(a,"-").concat(p)};return m.createElement(Oi,Rf({key:"label-".concat(p)},Vt(h),l,y,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:p,zIndex:0}))})))}md.displayName="LabelList";function pb(e){var{label:t}=e;return t?t===!0?m.createElement(md,{key:"labelList-implicit"}):m.isValidElement(t)||mb(t)?m.createElement(md,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(md,Rf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}var XT=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=pe("recharts-dot",i);return V(t)&&V(r)&&V(n)?m.createElement("circle",Xg({},ur(e),Iy(e),{className:a,cx:t,cy:r,r:n})):null},JT=e=>e.graphicalItems.polarItems,bG=T([He,Wu],$x),pm=T([JT,Je,bG],Lx),wG=T([pm],zx),vm=T([wG,em],Fx),_G=T([vm,Je,pm],Ux);T([vm,Je,pm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=je(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:je(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var zS=()=>{},jG=T([vm,Je,pm,cm,He],Kx),SG=T([Je,Hx,qx,zS,jG,zS,me,He],Vx),QT=T([Je,me,vm,_G,Uu,He,SG],Gx),kG=T([QT,No,sa],Jx),EG=T([Je,QT,kG,He],Zx);T([sa,EG],TA);var PG={radiusAxis:{},angleAxis:{}},OG=cr({name:"polarAxis",initialState:PG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),NG=OG.reducer;function ZT(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=AG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IG=(e,t)=>t,vb=T([JT,IG],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),MG=[],gb=(e,t,r)=>(r==null?void 0:r.length)===0?MG:r,eI=T([em,vb,gb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>BS(BS({},t.presentationProps),a.props))),i!=null)return i}}),DG=T([eI,vb,gb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=je(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:So(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),RG=T([eI,vb,gb,ht],(e,t,r,n)=>{if(!(t==null||e==null))return DY({offset:n,pieSettings:t,displayedData:e,cells:r})}),tI={exports:{}},ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=Symbol.for("react.transitional.element"),xb=Symbol.for("react.portal"),gm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),bm=Symbol.for("react.consumer"),wm=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),$G=Symbol.for("react.view_transition"),LG=Symbol.for("react.client.reference");function Wr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yb:switch(e=e.type,e){case gm:case xm:case ym:case jm:case Sm:case $G:return e;default:switch(e=e&&e.$$typeof,e){case wm:case _m:case Em:case km:return e;case bm:return e;default:return t}}case xb:return t}}}ke.ContextConsumer=bm;ke.ContextProvider=wm;ke.Element=yb;ke.ForwardRef=_m;ke.Fragment=gm;ke.Lazy=Em;ke.Memo=km;ke.Portal=xb;ke.Profiler=xm;ke.StrictMode=ym;ke.Suspense=jm;ke.SuspenseList=Sm;ke.isContextConsumer=function(e){return Wr(e)===bm};ke.isContextProvider=function(e){return Wr(e)===wm};ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yb};ke.isForwardRef=function(e){return Wr(e)===_m};ke.isFragment=function(e){return Wr(e)===gm};ke.isLazy=function(e){return Wr(e)===Em};ke.isMemo=function(e){return Wr(e)===km};ke.isPortal=function(e){return Wr(e)===xb};ke.isProfiler=function(e){return Wr(e)===xm};ke.isStrictMode=function(e){return Wr(e)===ym};ke.isSuspense=function(e){return Wr(e)===jm};ke.isSuspenseList=function(e){return Wr(e)===Sm};ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gm||e===xm||e===ym||e===jm||e===Sm||typeof e=="object"&&e!==null&&(e.$$typeof===Em||e.$$typeof===km||e.$$typeof===wm||e.$$typeof===bm||e.$$typeof===_m||e.$$typeof===LG||e.getModuleId!==void 0)};ke.typeOf=Wr;tI.exports=ke;var zG=tI.exports,US=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WS=null,zp=null,rI=e=>{if(e===WS&&Array.isArray(zp))return zp;var t=[];return m.Children.forEach(e,r=>{Xe(r)||(zG.isFragment(r)?t=t.concat(rI(r.props.children)):t.push(r))}),zp=t,WS=e,t};function bb(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>US(i)):n=[US(t)],rI(e).forEach(i=>{var a=Ba(i,"type.displayName")||Ba(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var nI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,iI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(iI);var FG=iI.isPlainObject;const BG=di(FG);var HS,qS,KS,VS,GS;function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(null,arguments)}function el(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var JS=(e,t,r,n,i)=>{var a=r-n,s;return s=Ke(HS||(HS=el(["M ",",",""])),e,t),s+=Ke(qS||(qS=el(["L ",",",""])),e+r,t),s+=Ke(KS||(KS=el(["L ",",",""])),e+r-a/2,t+i),s+=Ke(VS||(VS=el(["L ",",",""])),e+r-a/2-n,t+i),s+=Ke(GS||(GS=el(["L ",","," Z"])),e,t),s},qG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KG=e=>{var t=at(e,qG),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=m.useRef(null),[p,v]=m.useState(-1),g=m.useRef(i),y=m.useRef(a),x=m.useRef(s),w=m.useRef(r),b=m.useRef(n),_=$u(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var M=h.current.getTotalLength();M&&v(M)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=pe("recharts-trapezoid",o);if(!f)return m.createElement("g",null,m.createElement("path",$f({},Vt(t),{className:j,d:JS(r,n,i,a,s)})));var S=g.current,k=y.current,E=x.current,O=w.current,C=b.current,I="0px ".concat(p===-1?1:p,"px"),P="".concat(p,"px 0px"),z=gC(["strokeDasharray"],c,l);return m.createElement(Ru,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:f,begin:d},M=>{var F=Me(S,i,M),q=Me(k,a,M),te=Me(E,s,M),R=Me(O,r,M),W=Me(C,n,M);h.current&&(g.current=F,y.current=q,x.current=te,w.current=R,b.current=W);var K=M>0?{transition:z,strokeDasharray:P}:{strokeDasharray:I};return m.createElement("path",$f({},Vt(t),{className:j,d:JS(R,W,F,q,te),ref:h,style:XS(XS({},K),t.style)}))})},VG=["option","shapeType","activeClassName"];function GG(e,t){if(e==null)return{};var r,n,i=YG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=JG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=QG(e,"string");return typeof t=="symbol"?t:t+""}function QG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){return Lf(Lf({},t),e)}function eY(e,t){return e==="symbols"}function ZS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(wC,r);case"trapezoid":return m.createElement(KG,r);case"sector":return m.createElement(kC,r);case"symbols":if(eY(t))return m.createElement(Ty,r);break;case"curve":return m.createElement(Vs,r);default:return null}}function tY(e){return m.isValidElement(e)?e.props:e}function aI(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=GG(e,VG),a;if(m.isValidElement(t))a=m.cloneElement(t,Lf(Lf({},i),tY(t)));else if(typeof t=="function")a=t(i,i.index);else if(BG(t)&&typeof t!="boolean"){var s=ZG(t,i);a=m.createElement(ZS,{shapeType:r,elementProps:s})}else{var o=i;a=m.createElement(ZS,{shapeType:r,elementProps:o})}return i.isActive?m.createElement(et,{className:n},a):a}var wb=(e,t,r)=>{var n=Ne();return(i,a)=>s=>{e==null||e(i,a,s),n(lT({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},_b=e=>{var t=Ne();return(r,n)=>i=>{e==null||e(r,n,i),t(cq())}},jb=(e,t,r)=>{var n=Ne();return(i,a)=>s=>{e==null||e(i,a,s),n(dq({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Sb(e){var{tooltipEntrySettings:t}=e,r=Ne(),n=Ft(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(sq(t)):i.current!==t&&r(oq({prev:i.current,next:t})),i.current=t)},[t,r,n]),m.useLayoutEffect(()=>()=>{i.current&&(r(lq(i.current)),i.current=null)},[r]),null}function sI(e){var{legendPayload:t}=e,r=Ne(),n=Ft(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(fC(t)):i.current!==t&&r(hC({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(mC(i.current)),i.current=null)},[r]),null}function rY(e){var{legendPayload:t}=e,r=Ne(),n=Q(me),i=m.useRef(null);return m.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(fC(t)):i.current!==t&&r(hC({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(mC(i.current)),i.current=null)},[r]),null}var Fp,nY=()=>{var[e]=m.useState(()=>Ql("uid-"));return e},iY=(Fp=kM.useId)!==null&&Fp!==void 0?Fp:nY;function aY(e,t){var r=iY();return t||(e?"".concat(e,"-").concat(r):r)}var sY=m.createContext(void 0),kb=e=>{var{id:t,type:r,children:n}=e,i=aY("recharts-".concat(r),t);return m.createElement(sY.Provider,{value:i},n(i))},oY={cartesianItems:[],polarItems:[]},oI=cr({name:"graphicalItems",initialState:oY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:$e()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=nn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:$e()},removeCartesianGraphicalItem:{reducer(e,t){var r=nn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:$e()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:$e()},removePolarGraphicalItem:{reducer(e,t){var r=nn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:$e()}}}),{addCartesianGraphicalItem:lY,replaceCartesianGraphicalItem:uY,removeCartesianGraphicalItem:cY,addPolarGraphicalItem:dY,removePolarGraphicalItem:fY}=oI.actions,hY=oI.reducer,mY=e=>{var t=Ne(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(lY(e)):r.current!==e&&t(uY({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(cY(r.current)),r.current=null)},[t]),null},lI=m.memo(mY);function pY(e){var t=Ne();return m.useLayoutEffect(()=>(t(dY(e)),()=>{t(fY(e))}),[t,e]),null}var vY=["key"],gY=["onMouseEnter","onClick","onMouseLeave"],yY=["id"],xY=["id"];function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){bY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zi.apply(null,arguments)}function Pm(e,t){if(e==null)return{};var r,n,i=jY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SY(e){var t=m.useMemo(()=>bb(e.children,ho),[e.children]),r=Q(n=>DG(n,e.id,t));return r==null?null:m.createElement(rY,{legendPayload:r})}var kY=m.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),getPosition:h=>{var p;return(p=n[Number(h)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:So(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return m.createElement(Sb,{tooltipEntrySettings:f})}),EY=(e,t)=>e>t?"start":e<t?"end":"middle",PY=(e,t,r)=>Lt(typeof t=="function"?t(e):t,r,r*.8),OY=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=_C(a,s),l=i+Lt(e.cx,a,a/2),c=n+Lt(e.cy,s,s/2),d=Lt(e.innerRadius,o,0),f=PY(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},NY=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},CY=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),n=Pm(t,vY);return m.createElement(Vs,Zi({},n,{type:"linear",className:r}))},AY=(e,t,r)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),m.isValidElement(n)))return n;var i=pe("recharts-pie-label-text",ZT(e));return m.createElement(mm,Zi({},t,{alignmentBaseline:"middle",className:i}),n)};function TY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=ur(r),l=za(i),c=za(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,p)=>{var v=(h.startAngle+h.endAngle)/2,g=nt(h.cx,h.cy,h.outerRadius+d,v),y=Ge(Ge(Ge(Ge({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:EY(g.x,h.cx)},g),x=Ge(Ge(Ge(Ge({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[nt(h.cx,h.cy,h.outerRadius,v),g],key:"line"});return m.createElement(dr,{zIndex:Ye.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},m.createElement(et,null,a&&CY(a,x),AY(i,y,je(h,s))))});return m.createElement(et,{className:"recharts-pie-labels"},f)}function IY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?m.createElement(pb,{label:i}):m.createElement(TY,{sectors:t,props:r,showLabels:n})}function MY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=Q(Qi),l=Q(lb),c=Q(Xq),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,p=Pm(i,gY),v=wb(d,i.dataKey,s),g=_b(h),y=jb(f,i.dataKey,s);return t==null||t.length===0?null:m.createElement(m.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var b=c==null||c===s,_=String(w)===o&&(l==null||i.dataKey===l)&&b,j=o?n:null,S=r&&_?r:j,k=Ge(Ge({},x),{},{stroke:x.stroke,tabIndex:-1,[YN]:w,[XN]:s});return m.createElement(et,Zi({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Nu(p,x,w),{onMouseEnter:v(x,w),onMouseLeave:g(x,w),onClick:y(x,w)}),m.createElement(aI,Zi({option:a??S,index:w,shapeType:"sector",isActive:_},k)))}))}function DY(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=NY(o,l),v=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(S=>je(S,c,0)!==0).length,x=(v>=360?y:y-1)*g,w=v-y*h-x,b=n.reduce((S,k)=>{var E=je(k,c,0);return S+(V(E)?E:0)},0),_;if(b>0){var j;_=n.map((S,k)=>{var E=je(S,c,0),O=je(S,d,k),C=OY(r,a,S),I=(V(E)?E:0)/b,P,z=Ge(Ge({},S),i&&i[k]&&i[k].props);k?P=j.endAngle+wt(p)*g*(E!==0?1:0):P=o;var M=P+wt(p)*((E!==0?h:0)+I*w),F=(P+M)/2,q=(C.innerRadius+C.outerRadius)/2,te=[{name:O,value:E,payload:z,dataKey:c,type:f,graphicalItemId:r.id}],R=nt(C.cx,C.cy,q,F);return j=Ge(Ge(Ge(Ge({},r.presentationProps),{},{percent:I,cornerRadius:typeof s=="string"?parseFloat(s):s,name:O,tooltipPayload:te,midAngle:F,middleRadius:q,tooltipPosition:R},z),C),{},{value:E,dataKey:c,startAngle:P,endAngle:M,payload:z,paddingAngle:wt(p)*g}),j})}return _}function RY(e){var{showLabels:t,sectors:r,children:n}=e,i=m.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return m.createElement(gG,{value:t?i:void 0},n)}function $Y(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,p=$u(t,"recharts-pie-"),v=r.current,[g,y]=m.useState(!1),x=m.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),w=m.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return m.createElement(RY,{showLabels:!g,sectors:i},m.createElement(Ru,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:x,key:p},b=>{var _,j=[],S=i&&i[0],k=(_=S==null?void 0:S.startAngle)!==null&&_!==void 0?_:0;return i==null||i.forEach((E,O)=>{var C=v&&v[O],I=O>0?Ba(E,"paddingAngle",0):0;if(C){var P=Me(C.endAngle-C.startAngle,E.endAngle-E.startAngle,b),z=Ge(Ge({},E),{},{startAngle:k+I,endAngle:k+P+I});j.push(z),k=z.endAngle}else{var{endAngle:M,startAngle:F}=E,q=Me(0,M-F,b),te=Ge(Ge({},E),{},{startAngle:k+I,endAngle:k+q+I});j.push(te),k=te.endAngle}}),r.current=j,m.createElement(et,null,m.createElement(MY,{sectors:j,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),m.createElement(IY,{showLabels:!g,sectors:i,props:t}),t.children)}var LY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ye.area};function zY(e){var{id:t}=e,r=Pm(e,yY),{hide:n,className:i,rootTabIndex:a}=e,s=m.useMemo(()=>bb(e.children,ho),[e.children]),o=Q(d=>RG(d,t,s)),l=m.useRef(null),c=pe("recharts-pie",i);return n||o==null?(l.current=null,m.createElement(et,{tabIndex:a,className:c})):m.createElement(dr,{zIndex:e.zIndex},m.createElement(kY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),m.createElement(et,{tabIndex:a,className:c},m.createElement($Y,{props:Ge(Ge({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function uI(e){var t=at(e,LY),{id:r}=t,n=Pm(t,xY),i=ur(n);return m.createElement(kb,{id:r,type:"pie"},a=>m.createElement(m.Fragment,null,m.createElement(pY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),m.createElement(SY,Zi({},n,{id:a})),m.createElement(zY,Zi({},n,{id:a}))))}uI.displayName="Pie";var FY=["points"];function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){BY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t,r){return(t=UY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(null,arguments)}function HY(e,t){if(e==null)return{};var r,n,i=qY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KY(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var i=pe(n,typeof t!="boolean"?t.className:""),a=r??{},s=HY(a,FY);return m.createElement(XT,zf({},s,{className:i}))}function VY(e,t){return e==null?!1:t?!0:e.length===1}function GY(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=Ye.scatter}=e;if(!VY(t,r))return null;var d=nI(r),f=Lz(r),h=t.map((v,g)=>{var y,x,w=Bp(Bp(Bp({r:3},s),f),{},{index:g,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(x=v.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return m.createElement(KY,{key:"dot-".concat(g),option:r,dotProps:w,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),m.createElement(dr,{zIndex:c},m.createElement(et,zf({className:n},p),h))}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cI=0,QY={xAxis:{},yAxis:{},zAxis:{}},dI=cr({name:"cartesianAxis",initialState:QY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:$e()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:$e()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:$e()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:$e()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:$e()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:$e()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:$e()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:$e()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:$e()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=nk(nk({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:ZY,replaceXAxis:eX,removeXAxis:tX,addYAxis:rX,replaceYAxis:nX,removeYAxis:iX,addZAxis:Kre,replaceZAxis:Vre,removeZAxis:Gre,updateYAxisWidth:aX}=dI.actions,sX=dI.reducer,oX=T([ht],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),lX=T([oX,mi,pi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Eb=()=>Q(lX),uX=()=>Q(tK);function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=dX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Up(Up(Up({},o),za(i)),Iy(i)),c;return m.isValidElement(i)?c=m.cloneElement(i,l):typeof i=="function"?c=i(l):c=m.createElement(XT,l),m.createElement(et,{className:"recharts-active-dot",clipPath:s},c)};function ak(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Ye.activeDot}=e,o=Q(Qi),l=uX();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Xe(c)?null:m.createElement(dr,{zIndex:s},m.createElement(hX,{point:c,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var sk=(e,t,r)=>{var n=r??e;if(!Xe(n))return Lt(n,t,0)},mX=(e,t,r)=>{var n={},i=e.filter(am),a=e.filter(c=>c.stackId==null),s=i.reduce((c,d)=>{var f=c[d.stackId];return f==null&&(f=[]),f.push(d),c[d.stackId]=f,c},n),o=Object.entries(s).map(c=>{var d,[f,h]=c,p=h.map(g=>g.dataKey),v=sk(t,r,(d=h[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:p,barSize:v}}),l=a.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=sk(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]};function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yX(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o=Lt(e,r,0,!0),l,c=[];if(ae((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,f=r/s,h=n.reduce((w,b)=>w+(b.barSize||0),0);h+=(s-1)*o,h>=r&&(h-=(s-1)*o,o=0),h>=r&&f>0&&(d=!0,f*=.9,h=s*f);var p=(r-h)/2>>0,v={offset:p-o,size:0};l=n.reduce((w,b)=>{var _,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:v.offset+v.size+o,size:d?f:(_=b.barSize)!==null&&_!==void 0?_:0}},S=[...w,j];return v=j.position,S},c)}else{var g=Lt(t,r,0,!0);r-2*g-(s-1)*o<=0&&(o=0);var y=(r-2*g-(s-1)*o)/s;y>1&&(y>>=0);var x=ae(i)?Math.min(y,i):y;l=n.reduce((w,b,_)=>[...w,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(y+o)*_+(y-x)/2,size:x}}],c)}return l}}var xX=(e,t,r,n,i,a,s)=>{var o=Xe(s)?t:s,l=yX(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(c=>Fc(Fc({},c),{},{position:Fc(Fc({},c.position),{},{offset:c.position.offset-i/2})}))),l},bX=(e,t)=>{var r=im(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},wX=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function _X(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ae(e.zIndex)?e.zIndex:t}var fI=e=>{var{chartData:t}=e,r=Ne(),n=Ft();return m.useEffect(()=>n?()=>{}:(r(bS(t)),()=>{r(bS(void 0))}),[t,r,n]),null},lk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},jX=cr({name:"brush",initialState:lk,reducers:{setBrushSettings(e,t){return t.payload==null?lk:t.payload}}}),SX=jX.reducer;function kX(e){return(e%180+180)%180}var EX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kX(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},PX={dots:[],areas:[],lines:[]},OX=cr({name:"referenceElements",initialState:PX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=nn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=nn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=nn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),NX=OX.reducer,CX=m.createContext(void 0),AX=e=>{var{children:t}=e,[r]=m.useState("".concat(Ql("recharts"),"-clip")),n=Eb();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return m.createElement(CX.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function hI(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function TX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return EX(n,r)}function IX(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function fu(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function MX(e,t){return hI(e,t+1)}function DX(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:hI(n,c)};var g=l,y,x=()=>(y===void 0&&(y=r(v,g)),y),w=v.coordinate,b=l===0||fu(e,w,x,d,o);b||(l=0,d=s,c+=1),b&&(d=w+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function RX(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,p=function(){var _=n[g];if(_==null)return 0;var j=g,S,k=()=>(S===void 0&&(S=r(_,j)),S),E=_.coordinate,O=g===d||fu(e,E,k,f,l);if(!O)return h=!1,1;O&&(f=E+e*(k()/2+i))},v,g=d;g<s&&(v=p(),!(v!==0&&v===1));g+=c);if(h){for(var y=[],x=d;x<s;x+=c){var w=n[x];w!=null&&y.push(w)}return y}}return[]}function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){$X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t,r){return(t=LX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FX(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var p=a[h];if(p==null)return 1;var v=p,g,y=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var x=e*(v.coordinate+e*y()/2-l);a[h]=v=Mt(Mt({},v),{},{tickCoord:x>0?v.coordinate-x*e:v.coordinate})}else a[h]=v=Mt(Mt({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var w=fu(e,v.tickCoord,y,o,l);w&&(l=v.tickCoord-e*(y()/2+i),a[h]=Mt(Mt({},v),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function BX(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=n[o-1];if(d!=null){var f=r(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=Mt(Mt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var p=fu(e,d.tickCoord,()=>f,l,c);p&&(c=d.tickCoord-e*(f/2+i),s[o-1]=Mt(Mt({},d),{},{isShow:!0}))}}}for(var v=a?o-1:o,g=function(w){var b=s[w];if(b==null)return 1;var _=b,j,S=()=>(j===void 0&&(j=r(b,w)),j);if(w===0){var k=e*(_.coordinate-e*S()/2-l);s[w]=_=Mt(Mt({},_),{},{tickCoord:k<0?_.coordinate-k*e:_.coordinate})}else s[w]=_=Mt(Mt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var E=fu(e,_.tickCoord,S,l,c);E&&(l=_.tickCoord+e*(S()/2+i),s[w]=Mt(Mt({},_),{},{isShow:!0}))}},y=0;y<v;y++)g(y);return s}function Pb(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(V(l)||Du.isSsr){var h;return(h=MX(i,V(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],v=o==="top"||o==="bottom"?"width":"height",g=d&&v==="width"?Ol(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(j,S)=>{var k=typeof c=="function"?c(j.value,S):j.value;return v==="width"?TX(Ol(k,{fontSize:t,letterSpacing:r}),g,f):Ol(k,{fontSize:t,letterSpacing:r})[v]},x=i[0],w=i[1],b=i.length>=2&&x!=null&&w!=null?wt(w.coordinate-x.coordinate):1,_=IX(a,b,v);return l==="equidistantPreserveStart"?DX(b,_,y,i,s):l==="equidistantPreserveEnd"?RX(b,_,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=BX(b,_,y,i,s,l==="preserveStartEnd"):p=FX(b,_,y,i,s),p.filter(j=>j.isShow))}var UX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(r?n:0);return Math.round(c)}return 0},WX=["axisLine","width","height","className","hide","ticks","axisType"];function HX(e,t){if(e==null)return{};var r,n,i=qX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(null,arguments)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ye.axis};function YX(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=qe(qe(qe({},l),ur(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=qe(qe({},c),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=qe(qe({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return m.createElement("line",Va({},c,{className:pe("recharts-cartesian-axis-line",Ba(o,"className"))}))}function XX(e,t,r,n,i,a,s,o,l){var c,d,f,h,p,v,g=o?-1:1,y=e.tickSize||s,x=V(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=r+ +!o*i,f=h-g*y,v=f-g*l,p=x;break;case"left":f=h=e.coordinate,d=t+ +!o*n,c=d-g*y,p=c-g*l,v=x;break;case"right":f=h=e.coordinate,d=t+ +o*n,c=d+g*y,p=c+g*l,v=x;break;default:c=d=e.coordinate,h=r+ +o*i,f=h+g*y,v=f+g*l,p=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:p,y:v}}}function JX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function QX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ZX(e){var{option:t,tickProps:r,value:n}=e,i,a=pe(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))i=m.cloneElement(t,qe(qe({},r),{},{className:a}));else if(typeof t=="function")i=t(qe(qe({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=pe(s,ZT(t))),i=m.createElement(mm,Va({},r,{className:s}),n)}return i}var eJ=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:p,width:v,height:g,tickSize:y,tickMargin:x,fontSize:w,letterSpacing:b,getTicksConfig:_,events:j,axisType:S}=e,k=Pb(qe(qe({},_),{},{ticks:r}),w,b),E=JX(d,f),O=QX(d,f),C=ur(_),I=za(n),P={};typeof i=="object"&&(P=i);var z=qe(qe({},C),{},{fill:"none"},P),M=k.map(te=>qe({entry:te},XX(te,h,p,v,g,d,y,f,x))),F=M.map(te=>{var{entry:R,line:W}=te;return m.createElement(et,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},i&&m.createElement("line",Va({},z,W,{className:pe("recharts-cartesian-axis-tick-line",Ba(i,"className"))})))}),q=M.map((te,R)=>{var W,K,{entry:J,tick:se}=te,le=qe(qe(qe(qe({verticalAnchor:O},C),{},{textAnchor:E,stroke:"none",fill:a},se),{},{index:R,payload:J,visibleTicksCount:k.length,tickFormatter:s,padding:l},c),{},{angle:(W=(K=c==null?void 0:c.angle)!==null&&K!==void 0?K:C.angle)!==null&&W!==void 0?W:0}),we=qe(qe({},le),I);return m.createElement(et,Va({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Nu(j,J,R)),n&&m.createElement(ZX,{option:n,tickProps:we,value:"".concat(typeof s=="function"?s(J.value,R):J.value).concat(o||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},q.length>0&&m.createElement(dr,{zIndex:Ye.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},q)),F.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},F))}),tJ=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=HX(e,WX),[d,f]=m.useState(""),[h,p]=m.useState(""),v=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return UX({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=m.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=x;var w=x[0];if(w){var b=window.getComputedStyle(w),_=b.fontSize,j=b.letterSpacing;(_!==d||j!==h)&&(f(_),p(j))}}},[d,h]);return s||n!=null&&n<=0||i!=null&&i<=0?null:m.createElement(dr,{zIndex:e.zIndex},m.createElement(et,{className:pe("recharts-cartesian-axis",a)},m.createElement(YX,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ur(e)}),m.createElement(eJ,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(eG,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(cG,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ob=m.forwardRef((e,t)=>{var r=at(e,Jn);return m.createElement(tJ,Va({},r,{ref:t}))});Ob.displayName="CartesianAxis";var rJ=["x1","y1","x2","y2","key"],nJ=["offset"],iJ=["xAxisId","yAxisId"],aJ=["xAxisId","yAxisId"];function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(null,arguments)}function Ff(e,t){if(e==null)return{};var r,n,i=uJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return m.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function mI(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=r,d=Ff(r,rJ),f=(i=ur(d))!==null&&i!==void 0?i:{},h=Ff(f,nJ);n=m.createElement("line",ka({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return n}function dJ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=Ff(e,iJ),s=i.map((o,l)=>{var c=Rt(Rt({},a),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return m.createElement(mI,{key:"line-".concat(l),option:n,lineItemProps:c})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function fJ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=Ff(e,aJ),s=i.map((o,l)=>{var c=Rt(Rt({},a),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return m.createElement(mI,{option:n,lineItemProps:c,key:"line-".concat(l)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function hJ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=c[h+1],v=p==null,g=v?i+s-f:p-f;if(g<=0)return null;var y=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function mJ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=c[h+1],v=p==null,g=v?i+s-f:p-f;if(g<=0)return null;var y=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var pJ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return qN(Pb(Rt(Rt(Rt({},Jn),r),{},{ticks:KN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},vJ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return qN(Pb(Rt(Rt(Rt({},Jn),r),{},{ticks:KN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},gJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ye.grid};function Bf(e){var t=ex(),r=tx(),n=nC(),i=Rt(Rt({},at(e,gJ)),{},{x:V(e.x)?e.x:n.left,y:V(e.y)?e.y:n.top,width:V(e.width)?e.width:n.width,height:V(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,v=Ft(),g=Q(O=>uS(O,"xAxis",a,v)),y=Q(O=>uS(O,"yAxis",s,v));if(!Nn(c)||!Nn(d)||!V(o)||!V(l))return null;var x=i.verticalCoordinatesGenerator||pJ,w=i.horizontalCoordinatesGenerator||vJ,{horizontalPoints:b,verticalPoints:_}=i;if((!b||!b.length)&&typeof w=="function"){var j=h&&h.length,S=w({yAxis:y?Rt(Rt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??c,height:r??d,offset:n},j?!0:f);df(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!_||!_.length)&&typeof x=="function"){var k=p&&p.length,E=x({xAxis:g?Rt(Rt({},g),{},{ticks:k?p:g.ticks}):void 0,width:t??c,height:r??d,offset:n},k?!0:f);df(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return m.createElement(dr,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(cJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(hJ,ka({},i,{horizontalPoints:b})),m.createElement(mJ,ka({},i,{verticalPoints:_})),m.createElement(dJ,ka({},i,{offset:n,horizontalPoints:b,xAxis:g,yAxis:y})),m.createElement(fJ,ka({},i,{offset:n,verticalPoints:_,xAxis:g,yAxis:y}))))}Bf.displayName="CartesianGrid";var yJ={},xJ=cr({name:"errorBars",initialState:yJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),bJ=xJ.reducer,wJ=["children"];function _J(e,t){if(e==null)return{};var r,n,i=jJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kJ=m.createContext(SJ);function EJ(e){var{children:t}=e,r=_J(e,wJ);return m.createElement(kJ.Provider,{value:r},t)}function Nb(e,t){var r,n,i=Q(c=>yi(c,e)),a=Q(c=>xi(c,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:gt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:yt.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function pI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Eb(),{needClipX:a,needClipY:s,needClip:o}=Nb(t,r);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}function PJ(e){var t=za(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var OJ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=m;function NJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CJ=typeof Object.is=="function"?Object.is:NJ,AJ=Yu.useSyncExternalStore,TJ=Yu.useRef,IJ=Yu.useEffect,MJ=Yu.useMemo,DJ=Yu.useDebugValue;OJ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=TJ(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=MJ(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,CJ(d,p))return v;var g=n(p);return i!==void 0&&i(v,g)?(d=p,v):(d=p,f=g)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=AJ(e,a[0],a[1]);return IJ(function(){s.hasValue=!0,s.value=o},[o]),DJ(o),o};function RJ(e){e()}function $J(){let e=null,t=null;return{clear(){e=null,t=null},notify(){RJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var fk={notify(){},get:()=>[]};function LJ(e,t){let r,n=fk,i=0,a=!1;function s(g){d();const y=n.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,r||(r=e.subscribe(l),n=$J())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=fk)}function h(){a||(a=!0,d())}function p(){a&&(a=!1,f())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return v}var zJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FJ=zJ(),BJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UJ=BJ(),WJ=()=>FJ||UJ?m.useLayoutEffect:m.useEffect,HJ=WJ();function hk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function qJ(e,t){if(hk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!hk(e[r[i]],t[r[i]]))return!1;return!0}var Wp=Symbol.for("react-redux-context"),Hp=typeof globalThis<"u"?globalThis:{};function KJ(){if(!m.createContext)return{};const e=Hp[Wp]??(Hp[Wp]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var VJ=KJ();function GJ(e){const{children:t,context:r,serverState:n,store:i}=e,a=m.useMemo(()=>{const l=LJ(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=m.useMemo(()=>i.getState(),[i]);HJ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||VJ;return m.createElement(o.Provider,{value:a},t)}var YJ=GJ,XJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function JJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Om(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(XJ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!qJ(e[n],t[n]))return!1}else if(!JJ(e[n],t[n]))return!1;return!0}function Tn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:cI}function In(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:cI}var vI=(e,t,r)=>Ji(e,"xAxis",Tn(e,t),r),gI=(e,t,r)=>Xi(e,"xAxis",Tn(e,t),r),yI=(e,t,r)=>Ji(e,"yAxis",In(e,t),r),xI=(e,t,r)=>Xi(e,"yAxis",In(e,t),r),QJ=T([me,vI,yI,gI,xI],(e,t,r,n,i)=>An(e,"xAxis")?so(t,n,!1):so(r,i,!1)),ZJ=(e,t)=>t,bI=T([lm,ZJ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),wI=e=>{var t=me(e),r=An(t,"xAxis");return r?"yAxis":"xAxis"},eQ=(e,t)=>{var r=wI(e);return r==="yAxis"?In(e,t):Tn(e,t)},tQ=(e,t,r)=>If(e,wI(e),eQ(e,t),r),rQ=T([bI,tQ],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=im(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),nQ=T([me,vI,yI,gI,xI,rQ,cA,QJ,bI,XW],(e,t,r,n,i,a,s,o,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:p}=l,v;if(p&&p.length>0?v=p:v=d==null?void 0:d.slice(f,h+1),v!=null)return _Q({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:c,bandSize:o})}}),iQ=["id"],aQ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function _I(e,t){if(e==null)return{};var r,n,i=sQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uf(e,t){return e&&e!=="none"?e:t}var cQ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:Uf(n,i),value:So(r,t),payload:e}]},dQ=m.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r,getPosition:Za,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:So(s,t),hide:o,type:c,color:Uf(n,a),unit:l,graphicalItemId:d}};return m.createElement(Sb,{tooltipEntrySettings:f})});function fQ(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=ur(n);return m.createElement(GY,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function hQ(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $s($s({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return m.createElement(GT,{value:t?i:void 0},r)}function pk(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:c,isRange:d}=a,{id:f}=a,h=_I(a,iQ),p=ur(h),v=Vt(h);return m.createElement(m.Fragment,null,(t==null?void 0:t.length)>1&&m.createElement(et,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},m.createElement(Vs,Aa({},v,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&m.createElement(Vs,Aa({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&d&&m.createElement(Vs,Aa({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:r}))),m.createElement(fQ,{points:t,props:h,clipPathId:i}))}function mQ(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,l=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!ae(o)||!ae(l))return null;var c=n*Math.abs(o-l),d=Math.max(...a.map(f=>f.x||0));return V(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(f=>f.x||0),d)),V(d)?m.createElement("rect",{x:0,y:o<l?o:o-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}function pQ(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,l=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!ae(o)||!ae(l))return null;var c=n*Math.abs(o-l),d=Math.max(...a.map(f=>f.y||0));return V(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(f=>f.y||0),d)),V(d)?m.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function vQ(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?m.createElement(mQ,{alpha:t,points:n,baseLine:i,strokeWidth:a}):m.createElement(pQ,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function gQ(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,v=m.useMemo(()=>({points:s,baseLine:o}),[s,o]),g=$u(v,"recharts-area-"),y=rx(),[x,w]=m.useState(!1),b=!x,_=m.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),j=m.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);if(y==null)return null;var S=i.current,k=a.current;return m.createElement(hQ,{showLabels:b,points:s},n.children,m.createElement(Ru,{animationId:g,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:j,key:g},E=>{if(S){var O=S.length/s.length,C=E===1?s:s.map((P,z)=>{var M=Math.floor(z*O);if(S[M]){var F=S[M];return $s($s({},P),{},{x:Me(F.x,P.x,E),y:Me(F.y,P.y,E)})}return P}),I;return V(o)?I=Me(k,o,E):Xe(o)||on(o)?I=Me(k,0,E):I=o.map((P,z)=>{var M=Math.floor(z*O);if(Array.isArray(k)&&k[M]){var F=k[M];return $s($s({},P),{},{x:Me(F.x,P.x,E),y:Me(F.y,P.y,E)})}return P}),E>0&&(i.current=C,a.current=I),m.createElement(pk,{points:C,baseLine:I,needClip:t,clipPathId:r,props:n})}return E>0&&(i.current=s,a.current=o),m.createElement(et,null,l&&m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(r)},m.createElement(vQ,{alpha:E,points:s,baseLine:o,layout:y,strokeWidth:n.strokeWidth}))),m.createElement(et,{clipPath:"url(#animationClipPath-".concat(r,")")},m.createElement(pk,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),m.createElement(pb,{label:n.label}))}function yQ(e){var{needClip:t,clipPathId:r,props:n}=e,i=m.useRef(null),a=m.useRef();return m.createElement(gQ,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class xQ extends m.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:c,width:d,height:f,id:h,baseLine:p,zIndex:v}=this.props;if(t)return null;var g=pe("recharts-area",i),y=h,{r:x,strokeWidth:w}=PJ(r),b=nI(r),_=x*2+w,j=o?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return m.createElement(dr,{zIndex:v},m.createElement(et,{className:g},o&&m.createElement("defs",null,m.createElement(pI,{clipPathId:y,xAxisId:l,yAxisId:c}),!b&&m.createElement("clipPath",{id:"clipPath-dots-".concat(y)},m.createElement("rect",{x:s-_/2,y:a-_/2,width:d+_,height:f+_}))),m.createElement(yQ,{needClip:o,clipPathId:y,props:this.props})),m.createElement(ak,{points:n,mainColor:Uf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(p)&&m.createElement(ak,{points:p,mainColor:Uf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var jI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ye.area};function bQ(e){var t,r=at(e,jI),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:d,hide:f,isAnimationActive:h,legendType:p,stroke:v,xAxisId:g,yAxisId:y}=r,x=_I(r,aQ),w=es(),b=kT(),{needClip:_}=Nb(g,y),j=Ft(),{points:S,isRange:k,baseLine:E}=(t=Q(M=>nQ(M,e.id,j)))!==null&&t!==void 0?t:{},O=Eb();if(w!=="horizontal"&&w!=="vertical"||O==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:C,width:I,x:P,y:z}=O;return!S||!S.length?null:m.createElement(xQ,Aa({},x,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:E,connectNulls:o,dot:l,fill:c,fillOpacity:d,height:C,hide:f,layout:w,isAnimationActive:h==="auto"?!Du.isSsr:h,isRange:k,legendType:p,needClip:_,points:S,stroke:v,width:I,left:P,top:z,xAxisId:g,yAxisId:y}))}var wQ=(e,t,r,n,i)=>{var a=r??t;if(V(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function _Q(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,v=i&&i.length,g=wQ(a,s,r,o,l),y=a==="horizontal",x=!1,w=c.map((_,j)=>{var S,k,E,O;if(v)O=i[d+j];else{var C=je(_,n);Array.isArray(C)?(O=C,x=!0):O=[g,C]}var I=(S=(k=O)===null||k===void 0?void 0:k[1])!==null&&S!==void 0?S:null,P=I==null||v&&!t&&je(_,n)==null;if(y){var z;return{x:m_({axis:o,ticks:f,bandSize:p,entry:_,index:j}),y:P?null:(z=l.scale.map(I))!==null&&z!==void 0?z:null,value:O,payload:_}}return{x:P?null:(E=o.scale.map(I))!==null&&E!==void 0?E:null,y:m_({axis:l,ticks:h,bandSize:p,entry:_,index:j}),value:O,payload:_}}),b;return v||x?b=w.map(_=>{var j,S=Array.isArray(_.value)?_.value[0]:null;if(y){var k;return{x:_.x,y:S!=null&&_.y!=null&&(k=l.scale.map(S))!==null&&k!==void 0?k:null,payload:_.payload}}return{x:S!=null&&(j=o.scale.map(S))!==null&&j!==void 0?j:null,y:_.y,payload:_.payload}}):b=y?l.scale.map(g):o.scale.map(g),{points:w,baseLine:b??0,isRange:x}}function jQ(e){var t=at(e,jI),r=Ft();return m.createElement(kb,{id:t.id,type:"area"},n=>m.createElement(m.Fragment,null,m.createElement(sI,{legendPayload:cQ(t)}),m.createElement(dQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),m.createElement(lI,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:VN(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),m.createElement(bQ,Aa({},t,{id:n}))))}var Jg=m.memo(jQ,Om);Jg.displayName="Area";var SQ="Invariant failed";function kQ(e,t){throw new Error(SQ)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(null,arguments)}function Wf(e){return m.createElement(aI,Qg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var EQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(V(t))return t;var a=V(n)||Xe(n);return a?t(n,i):(a||kQ(),r)}},PQ=(e,t,r)=>r,OQ=(e,t)=>t,Xu=T([lm,OQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),NQ=T([Xu],e=>e==null?void 0:e.maxBarSize),CQ=(e,t,r,n)=>n,AQ=T([me,lm,Tn,In,PQ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),TQ=(e,t,r)=>{var n=me(e),i=Tn(e,t),a=In(e,t);if(!(i==null||a==null))return n==="horizontal"?If(e,"yAxis",a,r):If(e,"xAxis",i,r)},IQ=(e,t)=>{var r=me(e),n=Tn(e,t),i=In(e,t);if(!(n==null||i==null))return r==="horizontal"?lS(e,"xAxis",n):lS(e,"yAxis",i)},MQ=T([AQ,YW,IQ],mX),DQ=(e,t,r)=>{var n,i,a=Xu(e,t);if(a==null)return 0;var s=Tn(e,t),o=In(e,t);if(s==null||o==null)return 0;var l=me(e),c=_A(e),{maxBarSize:d}=a,f=Xe(d)?c:d,h,p;return l==="horizontal"?(h=Ji(e,"xAxis",s,r),p=Xi(e,"xAxis",s,r)):(h=Ji(e,"yAxis",o,r),p=Xi(e,"yAxis",o,r)),(n=(i=so(h,p,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},SI=(e,t,r)=>{var n=me(e),i=Tn(e,t),a=In(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=Ji(e,"xAxis",i,r),o=Xi(e,"xAxis",i,r)):(s=Ji(e,"yAxis",a,r),o=Xi(e,"yAxis",a,r)),so(s,o)}},RQ=T([MQ,_A,GW,jA,DQ,SI,NQ],xX),$Q=(e,t,r)=>{var n=Tn(e,t);if(n!=null)return Ji(e,"xAxis",n,r)},LQ=(e,t,r)=>{var n=In(e,t);if(n!=null)return Ji(e,"yAxis",n,r)},zQ=(e,t,r)=>{var n=Tn(e,t);if(n!=null)return Xi(e,"xAxis",n,r)},FQ=(e,t,r)=>{var n=In(e,t);if(n!=null)return Xi(e,"yAxis",n,r)},BQ=T([RQ,Xu],wX),UQ=T([TQ,Xu],bX),WQ=T([ht,Jy,$Q,LQ,zQ,FQ,BQ,me,cA,SI,UQ,Xu,CQ],(e,t,r,n,i,a,s,o,l,c,d,f,h)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:y}=f,x;if(y!=null&&y.length>0?x=y:x=p==null?void 0:p.slice(v,g+1),x!=null)return gZ({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:v})}}),HQ=["index"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}function qQ(e,t){if(e==null)return{};var r,n,i=KQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kI=m.createContext(void 0),VQ=e=>{var t=m.useContext(kI);if(t!=null)return t.stackId;if(e!=null)return VN(e)},GQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),YQ=e=>{var t=m.useContext(kI);if(t!=null){var{stackId:r}=t;return"url(#".concat(GQ(r,e),")")}},EI=e=>{var{index:t}=e,r=qQ(e,HQ),n=YQ(t);return m.createElement(et,Zg({className:"recharts-bar-stack-layer",clipPath:n},r))},XQ=["onMouseEnter","onMouseLeave","onClick"],JQ=["value","background","tooltipPosition"],QQ=["id"],ZQ=["onMouseEnter","onClick","onMouseLeave"];function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(e,t){if(e==null)return{};var r,n,i=nZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:So(r,t),payload:e}]},aZ=m.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l,id:c}=e,d={dataDefinedOnItem:void 0,getPosition:Za,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:So(a,t),hide:s,type:l,color:i,unit:o,graphicalItemId:c}};return m.createElement(Sb,{tooltipEntrySettings:d})});function sZ(e){var t=Q(Qi),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=Hf(a,XQ),d=wb(s,n,a.id),f=_b(o),h=jb(l,n,a.id);if(!i||r==null)return null;var p=za(i);return m.createElement(dr,{zIndex:_X(i,Ye.barBackground)},r.map((v,g)=>{var{value:y,background:x,tooltipPosition:w}=v,b=Hf(v,JQ);if(!x)return null;var _=d(v,g),j=f(v,g),S=h(v,g),k=Ht(Ht(Ht(Ht(Ht({option:i,isActive:String(g)===t},b),{},{fill:"#eee"},x),p),Nu(c,v,g)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return m.createElement(Wf,ui({key:"background-bar-".concat(g)},k))}))}function oZ(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Ht(Ht({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return m.createElement(GT,{value:t?i:void 0},r)}function lZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=Q(Qi),l=Q(lb),c=r&&String(a)===o&&(l==null||s===l),d=c?r:t;return c?m.createElement(dr,{zIndex:Ye.activeBar},m.createElement(EI,{index:a},m.createElement(Wf,ui({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:s})))):m.createElement(Wf,ui({},n,{name:String(n.name)},i,{isActive:c,option:d,index:a,dataKey:s}))}function uZ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return m.createElement(Wf,ui({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function cZ(e){var t,{data:r,props:n}=e,i=(t=ur(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Hf(i,QQ),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=Hf(n,ZQ),v=wb(d,l,a),g=_b(h),y=jb(f,l,a);return r?m.createElement(m.Fragment,null,r.map((x,w)=>m.createElement(EI,ui({index:w,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w),className:"recharts-bar-rectangle"},Nu(p,x,w),{onMouseEnter:v(x,w),onMouseLeave:g(x,w),onClick:y(x,w)}),c?m.createElement(lZ,{shape:o,activeBar:c,baseProps:s,entry:x,index:w,dataKey:l}):m.createElement(uZ,{shape:o,baseProps:s,entry:x,index:w,dataKey:l})))):null}function dZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=$u(t,"recharts-bar-"),[p,v]=m.useState(!1),g=!p,y=m.useCallback(()=>{typeof c=="function"&&c(),v(!1)},[c]),x=m.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return m.createElement(oZ,{showLabels:g,rects:n},m.createElement(Ru,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:x,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Ht(Ht({},_),{},{x:Me(S.x,_.x,w),y:Me(S.y,_.y,w),width:Me(S.width,_.width,w),height:Me(S.height,_.height,w)});if(i==="horizontal"){var k=Me(0,_.height,w),E=Me(_.stackedBarStart,_.y,w);return Ht(Ht({},_),{},{y:E,height:k})}var O=Me(0,_.width,w),C=Me(_.stackedBarStart,_.x,w);return Ht(Ht({},_),{},{width:O,x:C})});return w>0&&(r.current=b??null),b==null?null:m.createElement(et,null,m.createElement(cZ,{props:t,data:b}))}),m.createElement(pb,{label:t.label}),t.children)}function fZ(e){var t=m.useRef(null);return m.createElement(dZ,{previousRectanglesRef:t,props:e})}var PI=0,hZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:je(e,t)}};class mZ extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var d=pe("recharts-bar",i),f=c;return m.createElement(et,{className:d,id:c},o&&m.createElement("defs",null,m.createElement(pI,{clipPathId:f,xAxisId:a,yAxisId:s})),m.createElement(et,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},m.createElement(sZ,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),m.createElement(fZ,this.props)))}}var pZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:PI,xAxisId:0,yAxisId:0,zIndex:Ye.bar};function vZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=Nb(t,r),h=es(),p=Ft(),v=bb(e.children,ho),g=Q(w=>WQ(w,e.id,p,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,x=g==null?void 0:g[0];return x==null||x.height==null||x.width==null?y=0:y=h==="vertical"?x.height/2:x.width/2,m.createElement(EJ,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:hZ,errorBarOffset:y},m.createElement(mZ,ui({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function gZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:v,dataStartIndex:g}=e,y=t==="horizontal"?o:s,x=d?y.scale.domain():null,w=HB({numericAxis:y}),b=y.scale.map(w);return f.map((_,j)=>{var S,k,E,O,C,I;if(d){var P=d[j+g];if(P==null)return null;S=zB(P,x)}else S=je(_,r),Array.isArray(S)||(S=[w,S]);var z=EQ(n,PI)(S[1],j);if(t==="horizontal"){var M,F=o.scale.map(S[0]),q=o.scale.map(S[1]);if(F==null||q==null)return null;k=p_({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:_,index:j}),E=(M=q??F)!==null&&M!==void 0?M:void 0,O=i.size;var te=F-q;if(C=on(te)?0:te,I={x:k,y:h.top,width:O,height:h.height},Math.abs(z)>0&&Math.abs(C)<Math.abs(z)){var R=wt(C||z)*(Math.abs(z)-Math.abs(C));E-=R,C+=R}}else{var W=s.scale.map(S[0]),K=s.scale.map(S[1]);if(W==null||K==null)return null;if(k=W,E=p_({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:_,index:j}),O=K-W,C=i.size,I={x:h.left,y:E,width:h.width,height:C},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var J=wt(O||z)*(Math.abs(z)-Math.abs(O));O+=J}}if(k==null||E==null||O==null||C==null)return null;var se=Ht(Ht({},_),{},{stackedBarStart:b,x:k,y:E,width:O,height:C,value:d?S:S[1],payload:_,background:I,tooltipPosition:{x:k+O/2,y:E+C/2},parentViewBox:v},p&&p[j]&&p[j].props);return se}).filter(Boolean)}function yZ(e){var t=at(e,pZ),r=VQ(t.stackId),n=Ft();return m.createElement(kb,{id:t.id,type:"bar"},i=>m.createElement(m.Fragment,null,m.createElement(sI,{legendPayload:iZ(t)}),m.createElement(aZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),m.createElement(lI,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),m.createElement(dr,{zIndex:t.zIndex},m.createElement(vZ,ui({},t,{id:i})))))}var e0=m.memo(yZ,Om);e0.displayName="Bar";var xZ=["domain","range"],bZ=["domain","range"];function gk(e,t){if(e==null)return{};var r,n,i=wZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function OI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=gk(e,xZ),{domain:a,range:s}=t,o=gk(t,bZ);return!yk(r,a)||!yk(n,s)?!1:Om(i,o)}var _Z=["type"],jZ=["dangerouslySetInnerHTML","ticks","scale"],SZ=["id","scale"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){kZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t,r){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r0(e,t){if(e==null)return{};var r,n,i=OZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NZ(e){var t=Ne(),r=m.useRef(null),n=rx(),{type:i}=e,a=r0(e,_Z),s=rm(n,"xAxis",i),o=m.useMemo(()=>{if(s!=null)return bk(bk({},a),{},{type:s})},[a,s]);return m.useLayoutEffect(()=>{o!=null&&(r.current===null?t(ZY(o)):r.current!==o&&t(eX({prev:r.current,next:o})),r.current=o)},[o,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(tX(r.current)),r.current=null)},[t]),null}var CZ=e=>{var{xAxisId:t,className:r}=e,n=Q(Jy),i=Ft(),a="xAxis",s=Q(h=>rT(h,a,t,i)),o=Q(h=>QA(h,t)),l=Q(h=>XH(h,t)),c=Q(h=>IA(h,t));if(o==null||l==null||c==null)return null;var d=r0(e,jZ),f=r0(c,SZ);return m.createElement(Ob,t0({},d,f,{x:l.x,y:l.y,width:o.width,height:o.height,className:pe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},AZ={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:Jn.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,label:!1,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:Jn.tickLine,tickSize:Jn.tickSize,type:gt.type,xAxisId:0},TZ=e=>{var t=at(e,AZ);return m.createElement(m.Fragment,null,m.createElement(NZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),m.createElement(CZ,t))},qf=m.memo(TZ,OI);qf.displayName="XAxis";var IZ=["type"],MZ=["dangerouslySetInnerHTML","ticks","scale"],DZ=["id","scale"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){RZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i0(e,t){if(e==null)return{};var r,n,i=zZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FZ(e){var t=Ne(),r=m.useRef(null),n=rx(),{type:i}=e,a=i0(e,IZ),s=rm(n,"yAxis",i),o=m.useMemo(()=>{if(s!=null)return _k(_k({},a),{},{type:s})},[s,a]);return m.useLayoutEffect(()=>{o!=null&&(r.current===null?t(rX(o)):r.current!==o&&t(nX({prev:r.current,next:o})),r.current=o)},[o,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(iX(r.current)),r.current=null)},[t]),null}function BZ(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=m.useRef(null),s=m.useRef(null),o=Q(Jy),l=Ft(),c=Ne(),d="yAxis",f=Q(x=>ZA(x,t)),h=Q(x=>QH(x,t)),p=Q(x=>rT(x,d,t,l)),v=Q(x=>MA(x,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!f||mb(i)||m.isValidElement(i)||v==null)){var x=a.current;if(x){var w=x.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&c(aX({id:t,width:w}))}}},[p,f,c,i,t,n,v]),f==null||h==null||v==null)return null;var g=i0(e,MZ),y=i0(v,DZ);return m.createElement(Ob,n0({},g,y,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:pe("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p,axisType:d}))}var UZ={allowDataOverflow:yt.allowDataOverflow,allowDecimals:yt.allowDecimals,allowDuplicatedCategory:yt.allowDuplicatedCategory,angle:yt.angle,axisLine:Jn.axisLine,hide:!1,includeHidden:yt.includeHidden,interval:yt.interval,label:!1,minTickGap:yt.minTickGap,mirror:yt.mirror,orientation:yt.orientation,padding:yt.padding,reversed:yt.reversed,scale:yt.scale,tick:yt.tick,tickCount:yt.tickCount,tickLine:Jn.tickLine,tickSize:Jn.tickSize,type:yt.type,width:yt.width,yAxisId:0},WZ=e=>{var t=at(e,UZ);return m.createElement(m.Fragment,null,m.createElement(FZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),m.createElement(BZ,t))},Kf=m.memo(WZ,OI);Kf.displayName="YAxis";var HZ=(e,t)=>t,Cb=T([HZ,me,CA,St,xT,bi,hK,ht],bK),Ab=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},NI=Lr("mouseClick"),CI=Au();CI.startListening({actionCreator:NI,effect:(e,t)=>{var r=e.payload,n=Cb(t.getState(),Ab(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(fq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var a0=Lr("mouseMove"),AI=Au(),Bc=null;AI.startListening({actionCreator:a0,effect:(e,t)=>{var r=e.payload;Bc!==null&&cancelAnimationFrame(Bc);var n=Ab(r);Bc=requestAnimationFrame(()=>{var i=t.getState(),a=rb(i,i.tooltip.settings.shared);if(a==="axis"){var s=Cb(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(cT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(uT())}Bc=null})}});function qZ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var jk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},TI=cr({name:"rootProps",initialState:jk,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:jk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),KZ=TI.reducer,{updateOptions:VZ}=TI.actions,GZ=null,YZ={updatePolarOptions:(e,t)=>t.payload},II=cr({name:"polarOptions",initialState:GZ,reducers:YZ}),{updatePolarOptions:XZ}=II.actions,JZ=II.reducer,MI=Lr("keyDown"),DI=Lr("focus"),Tb=Au();Tb.startListening({actionCreator:MI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=nb(i,Io(r),qu(r),Vu(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=bi(r);if(a==="Enter"){var c=Df(r,"axis","hover",String(i.index));t.dispatch(Kg({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=rq(r),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var v=Df(r,"axis","hover",String(p));t.dispatch(Kg({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});Tb.startListening({actionCreator:DI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Df(r,"axis","hover",String(a));t.dispatch(Kg({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Pr=Lr("externalEvent"),RI=Au(),qp=new Map;RI.startListening({actionCreator:Pr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=qp.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:Qq(o),activeDataKey:lb(o),activeIndex:Qi(o),activeLabel:_T(o),activeTooltipIndex:Qi(o),isTooltipActive:Zq(o)};r(l,n)}finally{qp.delete(i)}});qp.set(i,s)}}});var QZ=T([Ao],e=>e.tooltipItemPayloads),ZZ=T([QZ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),$I=Lr("touchMove"),LI=Au();LI.startListening({actionCreator:$I,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=rb(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=Cb(n,Ab({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(cT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(YN),f=(o=c.getAttribute(XN))!==null&&o!==void 0?o:void 0,h=To(n).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:p}=h,v=ZZ(n,d,f);t.dispatch(lT({activeDataKey:p,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var eee=vN({brush:SX,cartesianAxis:sX,chartData:XK,errorBars:bJ,graphicalItems:hY,layout:MB,legend:RU,options:qK,polarAxis:NG,polarOptions:JZ,referenceElements:NX,rootProps:KZ,tooltip:hq,zIndex:MK}),tee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aB({reducer:eee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([CI.middleware,AI.middleware,Tb.middleware,RI.middleware,LI.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(AN({type:"raf"}))},devTools:{serialize:{replacer:qZ},name:"recharts-".concat(r)}})};function zI(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ft(),a=m.useRef(null);if(i)return r;a.current==null&&(a.current=tee(t,n));var s=Uy;return m.createElement(YJ,{context:s,store:a.current},r)}function ree(e){var{layout:t,margin:r}=e,n=Ne(),i=Ft();return m.useEffect(()=>{i||(n(AB(t)),n(CB(r)))},[n,i,t,r]),null}var FI=m.memo(ree,Om);function BI(e){var t=Ne();return m.useEffect(()=>{t(VZ(e))},[t,e]),null}function Sk(e){var{zIndex:t,isPanorama:r}=e,n=m.useRef(null),i=Ne();return m.useLayoutEffect(()=>(n.current&&i(TK({zIndex:t,element:n.current,isPanorama:r})),()=>{i(IK({zIndex:t,isPanorama:r}))}),[i,t,r]),m.createElement("g",{tabIndex:-1,ref:n})}function kk(e){var{children:t,isPanorama:r}=e,n=Q(_K);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return m.createElement(m.Fragment,null,i.map(s=>m.createElement(Sk,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>m.createElement(Sk,{key:s,zIndex:s,isPanorama:r})))}var nee=["children"];function iee(e,t){if(e==null)return{};var r,n,i=aee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(null,arguments)}var see={width:"100%",height:"100%",display:"block"},oee=m.forwardRef((e,t)=>{var r=ex(),n=tx(),i=vC();if(!Nn(r)||!Nn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),m.createElement(Py,Vf({},s,{title:o,desc:l,role:d,tabIndex:c,width:r,height:n,style:see,ref:t}),a)}),lee=e=>{var{children:t}=e,r=Q(Wh);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return m.createElement(Py,{width:n,height:i,x:s,y:a},t)},Ek=m.forwardRef((e,t)=>{var{children:r}=e,n=iee(e,nee),i=Ft();return i?m.createElement(lee,null,m.createElement(kk,{isPanorama:!0},r)):m.createElement(oee,Vf({ref:t},n),m.createElement(kk,{isPanorama:!1},r))});function uee(){var e=Ne(),[t,r]=m.useState(null),n=Q(XB);return m.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ae(a)&&a!==n&&e(IB(a))}},[t,e,n]),r}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(null,arguments)}var mee=()=>(aV(),null);function Gf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var pee=m.forwardRef((e,t)=>{var r,n,i=m.useRef(null),[a,s]=m.useState({containerWidth:Gf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Gf((n=e.style)===null||n===void 0?void 0:n.height)}),o=m.useCallback((c,d)=>{s(f=>{var h=Math.round(c),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=m.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=v=>{var g=v[0];if(g!=null){var{width:y,height:x}=g.contentRect;o(y,x)}},p=new ResizeObserver(h);p.observe(c),i.current=p}},[t,o]);return m.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),m.createElement(m.Fragment,null,m.createElement(Iu,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",Ki({ref:l},e)))}),vee=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=m.useState({containerWidth:Gf(r),containerHeight:Gf(n)}),s=m.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=m.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return m.createElement(m.Fragment,null,m.createElement(Iu,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",Ki({ref:o},e)))}),gee=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(Iu,{width:r,height:n}),m.createElement("div",Ki({ref:t},e)))}),yee=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?m.createElement(vee,Ki({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?m.createElement(gee,Ki({},e,{width:r,height:n,ref:t})):m.createElement(m.Fragment,null,m.createElement(Iu,{width:r,height:n}),m.createElement("div",Ki({ref:t},e)))});function xee(e){return e?pee:yee}var bee=m.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:v,onTouchStart:g,style:y,width:x,responsive:w,dispatchTouchEvents:b=!0}=e,_=m.useRef(null),j=Ne(),[S,k]=m.useState(null),[E,O]=m.useState(null),C=uee(),I=Qy(),P=(I==null?void 0:I.width)>0?I.width:x,z=(I==null?void 0:I.height)>0?I.height:i,M=m.useCallback(D=>{C(D),typeof t=="function"&&t(D),k(D),O(D),D!=null&&(_.current=D)},[C,t,k,O]),F=m.useCallback(D=>{j(NI(D)),j(Pr({handler:a,reactEvent:D}))},[j,a]),q=m.useCallback(D=>{j(a0(D)),j(Pr({handler:c,reactEvent:D}))},[j,c]),te=m.useCallback(D=>{j(uT()),j(Pr({handler:d,reactEvent:D}))},[j,d]),R=m.useCallback(D=>{j(a0(D)),j(Pr({handler:f,reactEvent:D}))},[j,f]),W=m.useCallback(()=>{j(DI())},[j]),K=m.useCallback(D=>{j(MI(D.key))},[j]),J=m.useCallback(D=>{j(Pr({handler:s,reactEvent:D}))},[j,s]),se=m.useCallback(D=>{j(Pr({handler:o,reactEvent:D}))},[j,o]),le=m.useCallback(D=>{j(Pr({handler:l,reactEvent:D}))},[j,l]),we=m.useCallback(D=>{j(Pr({handler:h,reactEvent:D}))},[j,h]),ue=m.useCallback(D=>{j(Pr({handler:g,reactEvent:D}))},[j,g]),Ce=m.useCallback(D=>{b&&j($I(D)),j(Pr({handler:v,reactEvent:D}))},[j,b,v]),_e=m.useCallback(D=>{j(Pr({handler:p,reactEvent:D}))},[j,p]),A=xee(w);return m.createElement(CT.Provider,{value:S},m.createElement(pO.Provider,{value:E},m.createElement(A,{width:P??(y==null?void 0:y.width),height:z??(y==null?void 0:y.height),className:pe("recharts-wrapper",n),style:cee({position:"relative",cursor:"default",width:P,height:z},y),onClick:F,onContextMenu:J,onDoubleClick:se,onFocus:W,onKeyDown:K,onMouseDown:le,onMouseEnter:q,onMouseLeave:te,onMouseMove:R,onMouseUp:we,onTouchEnd:_e,onTouchMove:Ce,onTouchStart:ue,ref:M},m.createElement(mee,null),r)))}),wee=["width","height","responsive","children","className","style","compact","title","desc"];function _ee(e,t){if(e==null)return{};var r,n,i=jee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UI=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=_ee(e,wee),h=ur(f);return l?m.createElement(m.Fragment,null,m.createElement(Iu,{width:r,height:n}),m.createElement(Ek,{otherAttributes:h,title:c,desc:d},a)):m.createElement(bee,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(Ek,{otherAttributes:h,title:c,desc:d,ref:t},m.createElement(AX,null,a)))});function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}var See={top:5,right:5,bottom:5,left:5},kee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:See,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},WI=m.forwardRef(function(t,r){var n,i=at(t.categoricalChartProps,kee),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return m.createElement(zI,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},m.createElement(fI,{chartData:c.data}),m.createElement(FI,{layout:i.layout,margin:i.margin}),m.createElement(BI,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(UI,s0({},i,{ref:r})))}),Eee=["axis","item"],Ok=m.forwardRef((e,t)=>m.createElement(WI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eee,tooltipPayloadSearcher:hb,categoricalChartProps:e,ref:t}));function Pee(e){var t=Ne();return m.useEffect(()=>{t(XZ(e))},[t,e]),null}var Oee=["layout"];function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function Nee(e,t){if(e==null)return{};var r,n,i=Cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Aee={top:5,right:5,bottom:5,left:5},HI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Aee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Tee=m.forwardRef(function(t,r){var n,i=at(t.categoricalChartProps,HI),{layout:a}=i,s=Nee(i,Oee),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return m.createElement(zI,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},m.createElement(fI,{chartData:i.data}),m.createElement(FI,{layout:a,margin:i.margin}),m.createElement(BI,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(Pee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),m.createElement(UI,o0({},s,{ref:r})))});function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){Iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ree=["item"],$ee=Ck(Ck({},HI),{},{layout:"centric",startAngle:0,endAngle:360}),Lee=m.forwardRef((e,t)=>{var r=at(e,$ee);return m.createElement(Tee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ree,tooltipPayloadSearcher:hb,categoricalChartProps:r,ref:t})}),zee=["axis"],Fee=m.forwardRef((e,t)=>m.createElement(WI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zee,tooltipPayloadSearcher:hb,categoricalChartProps:e,ref:t}));const Bee=[{date:"Mon",tickets:24,resolved:18},{date:"Tue",tickets:31,resolved:25},{date:"Wed",tickets:28,resolved:22},{date:"Thu",tickets:35,resolved:30},{date:"Fri",tickets:42,resolved:35},{date:"Sat",tickets:15,resolved:14},{date:"Sun",tickets:12,resolved:10}];function Uee(){return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Volume de tickets"}),u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Nouveaux vs rsolus cette semaine"})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-cyan-500"}),u.jsx("span",{className:"text-slate-500",children:"Nouveaux"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"}),u.jsx("span",{className:"text-slate-500",children:"Rsolus"})]})]})]}),u.jsx("div",{className:"h-64",children:u.jsx(cd,{width:"100%",height:"100%",minWidth:300,minHeight:200,children:u.jsxs(Fee,{data:Bee,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"ticketGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#0891B2",stopOpacity:.15}),u.jsx("stop",{offset:"95%",stopColor:"#0891B2",stopOpacity:0})]}),u.jsxs("linearGradient",{id:"resolvedGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.15}),u.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),u.jsx(Bf,{strokeDasharray:"3 3",stroke:"#E2E8F0",vertical:!1}),u.jsx(qf,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94A3B8"}}),u.jsx(Kf,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#94A3B8"}}),u.jsx(fd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}}),u.jsx(Jg,{type:"monotone",dataKey:"tickets",stroke:"#0891B2",strokeWidth:2,fill:"url(#ticketGrad)"}),u.jsx(Jg,{type:"monotone",dataKey:"resolved",stroke:"#10B981",strokeWidth:2,fill:"url(#resolvedGrad)"})]})})})]})}function lr({label:e,color:t="#6B7280",size:r="sm"}){return u.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${r==="sm"?"px-2 py-0.5 text-xs":"px-2.5 py-1 text-xs"}`,style:{backgroundColor:`${t}15`,color:t,border:`1px solid ${t}30`},children:e})}const hu=[{value:"new",label:"Nouveau",color:"#0EA5E9"},{value:"qualify",label:" qualifier",color:"#F59E0B"},{value:"assigned",label:"Assign",color:"#8B5CF6"},{value:"in_progress",label:"En cours",color:"#3B82F6"},{value:"waiting",label:"En attente",color:"#F97316"},{value:"replied",label:"Rpondu",color:"#10B981"},{value:"closed",label:"Ferm",color:"#6B7280"}],mu=[{value:"low",label:"Basse",color:"#6B7280"},{value:"medium",label:"Moyenne",color:"#3B82F6"},{value:"high",label:"Haute",color:"#F59E0B"},{value:"urgent",label:"Urgente",color:"#EF4444"}],Ak={positive:"#10B981",neutral:"#6B7280",negative:"#EF4444",mixed:"#F59E0B"};function Ib(e){return e?hu.find(t=>t.value===e)??{value:e,label:e,color:"#6B7280"}:{value:"",label:"Aucun statut",color:"#CBD5E1"}}function Mb(e){return e?mu.find(t=>t.value===e)??{value:e,label:e,color:"#6B7280"}:{value:"",label:"Aucune priorit",color:"#CBD5E1"}}function Db(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(1))} ${r[n]}`}function pu(e){const t=e.match(/\{\{(\w+)\}\}/g);return t?[...new Set(t.map(r=>r.replace(/\{\{|\}\}/g,"")))]:[]}function Tk(e,t){return e.replace(/\{\{(\w+)\}\}/g,(r,n)=>t[n]??r)}function Wee(){const e=Xa(),[t,r]=m.useState([]),[n,i]=m.useState({total:0,open:0,waiting:0,urgent:0});m.useEffect(()=>{a()},[]);async function a(){const{data:o}=await L.from("tickets").select("*, category:categories(name, color), assignee:profiles!tickets_assignee_id_fkey(full_name)").order("last_message_at",{ascending:!1}).limit(8);o&&r(o);const{count:l}=await L.from("tickets").select("*",{count:"exact",head:!0}),{count:c}=await L.from("tickets").select("*",{count:"exact",head:!0}).in("status",["new","qualify","assigned","in_progress"]),{count:d}=await L.from("tickets").select("*",{count:"exact",head:!0}).eq("status","waiting"),{count:f}=await L.from("tickets").select("*",{count:"exact",head:!0}).eq("priority","urgent");i({total:l??0,open:c??0,waiting:d??0,urgent:f??0})}const s=[{label:"Total des tickets",value:n.total,icon:wy,color:"#0891B2",change:12},{label:"Tickets ouverts",value:n.open,icon:UL,color:"#3B82F6",change:-5},{label:"En attente de rponse",value:n.waiting,icon:Pl,color:"#F59E0B",change:3},{label:"Urgent",value:n.urgent,icon:yy,color:"#EF4444",change:-8}];return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(La,{title:"Dashboard",subtitle:yr(new Date,"EEEE, MMMM d, yyyy")}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx(Mz,{stats:s}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[u.jsx("div",{className:"xl:col-span-2",children:u.jsx(Uee,{})}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Rpartition par statut"})}),u.jsx("div",{className:"space-y-3",children:[{label:"Nouveau",count:n.total>0?Math.ceil(n.open*.3):0,color:"#0EA5E9"},{label:"En cours",count:n.total>0?Math.ceil(n.open*.4):0,color:"#3B82F6"},{label:"En attente",count:n.waiting,color:"#F97316"},{label:"Rpondu",count:n.total>0?Math.ceil(n.total*.2):0,color:"#10B981"},{label:"Ferm",count:n.total>0?Math.floor(n.total*.15):0,color:"#6B7280"}].map(o=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:o.color}}),u.jsx("span",{className:"text-sm text-slate-600 flex-1",children:o.label}),u.jsx("span",{className:"text-sm font-medium text-slate-900",children:o.count})]},o.label))})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-100",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Tickets rcents"}),u.jsxs("button",{onClick:()=>e("/inbox"),className:"flex items-center gap-1 text-xs font-medium text-cyan-600 hover:text-cyan-700 transition",children:["Voir tout ",u.jsx(q2,{className:"w-3 h-3"})]})]}),u.jsxs("div",{className:"divide-y divide-slate-100",children:[t.length===0&&u.jsx("div",{className:"px-5 py-10 text-center text-sm text-slate-500",children:"Aucun ticket pour le moment. Ils apparatront ici une fois les emails traits."}),t.map(o=>{const l=Ib(o.status),c=Mb(o.priority);return u.jsxs("div",{onClick:()=>e(`/inbox/${o.id}`),className:"flex items-center gap-4 px-5 py-3.5 hover:bg-slate-50 cursor-pointer transition",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:o.subject}),u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[o.contact_name||o.contact_email,o.assignee&&`  assign  ${o.assignee.full_name}`]})]}),u.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.category&&u.jsx(lr,{label:o.category.name,color:o.category.color}),o.priority&&u.jsx(lr,{label:c.label,color:c.color}),o.status&&u.jsx(lr,{label:l.label,color:l.color})]})]},o.id)})]})]})]})]})}function Hee({filters:e,onChange:t,categories:r,mailboxes:n}){const i=e.status||e.priority||e.mailbox_id||e.category_id||e.due_date_filter,a=()=>{t({search:e.search,status:"",priority:"",mailbox_id:"",category_id:"",due_date_filter:""})};return u.jsxs("div",{className:"bg-white border-b border-slate-200 px-5 py-3 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Rechercher par sujet, expditeur ou mot-cl...",value:e.search,onChange:s=>t({...e,search:s.target.value}),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[u.jsx(GL,{className:"w-3.5 h-3.5"}),u.jsx("span",{children:"Filtres"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("select",{value:e.status,onChange:s=>t({...e,status:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Tous les statuts"}),u.jsx("option",{value:"null",children:"Sans statut"}),hu.map(s=>u.jsx("option",{value:s.value,children:s.label},s.value))]}),u.jsxs("select",{value:e.priority,onChange:s=>t({...e,priority:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les priorits"}),u.jsx("option",{value:"null",children:"Sans priorit"}),mu.map(s=>u.jsx("option",{value:s.value,children:s.label},s.value))]}),n.length>0&&u.jsxs("select",{value:e.mailbox_id,onChange:s=>t({...e,mailbox_id:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les botes mail"}),[...n].sort((s,o)=>s.name.localeCompare(o.name)).map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]}),r.length>0&&u.jsxs("select",{value:e.category_id,onChange:s=>t({...e,category_id:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les catgories"}),r.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]}),u.jsxs("select",{value:e.due_date_filter,onChange:s=>t({...e,due_date_filter:s.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les chances"}),u.jsx("option",{value:"overdue",children:"En retard"}),u.jsx("option",{value:"today",children:"Aujourd'hui"}),u.jsx("option",{value:"upcoming",children:" venir (7 jours)"}),u.jsx("option",{value:"no_due_date",children:"Sans chance"})]}),i&&u.jsxs("button",{onClick:a,className:"flex items-center gap-1 px-2 py-1.5 text-xs text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition",children:[u.jsx(Qa,{className:"w-3 h-3"}),"Effacer"]})]})]})}const qee=[25,50,100];function Kee({currentPage:e,totalItems:t,pageSize:r,onPageChange:n,onPageSizeChange:i}){const a=Math.max(1,Math.ceil(t/r)),s=t===0?0:(e-1)*r+1,o=Math.min(e*r,t),l=Vee(e,a);return u.jsxs("div",{className:"bg-white border-t border-slate-200 px-5 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs text-slate-500",children:t===0?"Aucun resultat":`${s}-${o} sur ${t}`}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("span",{className:"text-xs text-slate-400",children:"Afficher"}),u.jsx("select",{value:r,onChange:c=>i(Number(c.target.value)),className:"px-2 py-1 bg-slate-50 border border-slate-200 rounded-md text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:qee.map(c=>u.jsx("option",{value:c,children:c},c))}),u.jsx("span",{className:"text-xs text-slate-400",children:"par page"})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Uc,{onClick:()=>n(1),disabled:e<=1,label:"Premiere page",children:u.jsx(WL,{className:"w-3.5 h-3.5"})}),u.jsx(Uc,{onClick:()=>n(e-1),disabled:e<=1,label:"Page precedente",children:u.jsx(xy,{className:"w-3.5 h-3.5"})}),l.map((c,d)=>c==="..."?u.jsx("span",{className:"w-8 text-center text-xs text-slate-400",children:"..."},`ellipsis-${d}`):u.jsx("button",{onClick:()=>n(c),className:`w-8 h-8 rounded-lg text-xs font-medium transition ${c===e?"bg-cyan-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-100"}`,children:c},c)),u.jsx(Uc,{onClick:()=>n(e+1),disabled:e>=a,label:"Page suivante",children:u.jsx(by,{className:"w-3.5 h-3.5"})}),u.jsx(Uc,{onClick:()=>n(a),disabled:e>=a,label:"Derniere page",children:u.jsx(HL,{className:"w-3.5 h-3.5"})})]})]})}function Uc({onClick:e,disabled:t,label:r,children:n}){return u.jsx("button",{onClick:e,disabled:t,title:r,className:"w-8 h-8 flex items-center justify-center rounded-lg text-slate-500 hover:bg-slate-100 transition disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:n})}function Vee(e,t){if(t<=7)return Array.from({length:t},(a,s)=>s+1);const r=[1];e>3&&r.push("...");const n=Math.max(2,e-1),i=Math.min(t-1,e+1);for(let a=n;a<=i;a++)r.push(a);return e<t-2&&r.push("..."),r.push(t),r}function Ju({message:e="Loading..."}){return u.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[u.jsx($t,{className:"w-8 h-8 text-cyan-500 animate-spin mb-3"}),u.jsx("p",{className:"text-sm text-slate-500",children:e})]})}function qI({icon:e,title:t,description:r,action:n}){return u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-100 flex items-center justify-center mb-4",children:u.jsx(e,{className:"w-7 h-7 text-slate-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:t}),u.jsx("p",{className:"text-sm text-slate-500 text-center max-w-sm mb-4",children:r}),n&&u.jsx("button",{onClick:n.onClick,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:n.label})]})}function Gee({onClose:e,onSent:t}){const[r,n]=m.useState([]),[i,a]=m.useState(""),[s,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState(!1),[v,g]=m.useState(""),[y,x]=m.useState(!1);m.useEffect(()=>{async function _(){const{data:j}=await L.from("mailboxes").select("*").eq("is_active",!0).order("name");j&&(n(j),j.length>0&&a(j[0].id))}_()},[]);async function w(){if(!v.trim()){alert("Veuillez entrer une ide pour le message");return}x(!0);try{const _=r.find(E=>E.id===i),S=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-email-from-idea",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({idea:v,tone:(_==null?void 0:_.tone)||"professional",signature:(_==null?void 0:_.signature)||""})}),k=await S.json();if(!S.ok){console.error("Erreur gnration email:",k),alert(`Erreur: ${k.error||"Erreur lors de la gnration de l'email"}`);return}c(k.subject||""),f(k.body||"")}catch(_){console.error("Exception gnration email:",_),alert(`Erreur: ${_ instanceof Error?_.message:"Erreur lors de la gnration de l'email"}`)}finally{x(!1)}}async function b(){if(!s||!l||!d||!i){alert("Veuillez remplir tous les champs");return}p(!0);try{const _="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/send-email",{data:{session:j}}=await L.auth.getSession();if(!j){alert("Session expire. Veuillez vous reconnecter.");return}const S=await fetch(_,{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({mailboxId:i,to:s,subject:l,body:d})}),k=await S.json();if(!S.ok){console.error("Erreur envoi email:",k),alert(`Erreur: ${k.error||"Erreur lors de l'envoi de l'email"}`);return}console.log("Email envoy:",k),alert("Email envoy avec succs"),t(),e()}catch(_){console.error("Exception envoi email:",_),alert(`Erreur: ${_ instanceof Error?_.message:"Erreur lors de l'envoi de l'email"}`)}finally{p(!1)}}return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nouveau message"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:u.jsx(Qa,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Bote mail d'envoi"}),u.jsx("select",{value:i,onChange:_=>a(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:r.map(_=>u.jsxs("option",{value:_.id,children:[_.name," (",_.email_address,")"]},_.id))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-fuchsia-50 border border-violet-200 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-semibold text-violet-900",children:"Idee pour l'IA"}),u.jsx("button",{onClick:w,disabled:y||!v.trim(),className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 text-white text-xs font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:y?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}),"Generation..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Yn,{className:"w-3.5 h-3.5"}),"Generer le brouillon"]})})]}),u.jsx("textarea",{value:v,onChange:_=>g(_.target.value),className:"w-full px-3 py-2 bg-white border border-violet-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 font-sans resize-none",placeholder:"Decrivez brievement l'idee du message que vous souhaitez envoyer, l'IA generera un brouillon complet...",rows:3}),u.jsx("p",{className:"text-xs text-violet-700 mt-2",children:'Exemple: "Confirmer la visite prevue demain a 14h" ou "Expliquer les documents manquants"'})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Destinataire"}),u.jsx("input",{type:"email",value:s,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"destinataire@exemple.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Objet"}),u.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet de l'email"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Message"}),u.jsx("textarea",{value:d,onChange:_=>f(_.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 font-sans",placeholder:"Tapez votre message ici...",rows:14})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-slate-200 bg-slate-50",children:[u.jsx("button",{onClick:e,disabled:h,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-900 transition disabled:opacity-50",children:"Annuler"}),u.jsx("button",{onClick:b,disabled:h||!s||!l||!d||!i,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-4 h-4 animate-spin"}),"Envoi..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Eu,{className:"w-4 h-4"}),"Envoyer"]})})]})]})})}const Yee=25;function Xee(){const e=Xa(),[t]=x2(),[r,n]=m.useState([]),[i,a]=m.useState([]),[s,o]=m.useState([]),[l,c]=m.useState(new Set),[d,f]=m.useState(!0),[h,p]=m.useState(!1),[v,g]=m.useState(new Set),[y,x]=m.useState(!1),[w,b]=m.useState(1),[_,j]=m.useState(Yee),[S,k]=m.useState(!1),[E,O]=m.useState(!1),[C,I]=m.useState(null),[P,z]=m.useState({search:"",status:"",priority:"",mailbox_id:"",category_id:"",due_date_filter:""}),M=m.useCallback(async(A=!1)=>{var $,ce,ne;A&&p(!0);const[D,G,Z]=await Promise.all([L.from("tickets").select("*, category:categories(name, color), assignee:profiles!tickets_assignee_id_fkey(full_name, avatar_color), mailbox:mailboxes(name, email_address)").eq("archived",!1).order("last_message_at",{ascending:!1}),L.from("categories").select("*").order("name"),L.from("mailboxes").select("*").order("name")]);if(console.log("[InboxView] Load results:",{tickets:(($=D.data)==null?void 0:$.length)||0,ticketsError:D.error,categories:((ce=G.data)==null?void 0:ce.length)||0,categoriesError:G.error,mailboxes:((ne=Z.data)==null?void 0:ne.length)||0,mailboxesError:Z.error}),D.data){n(D.data);const Ae=D.data.map(st=>st.id),{data:ge}=await L.from("attachments").select("email_id");if(ge&&ge.length>0){const st=ge.map(fr=>fr.email_id),{data:vt}=await L.from("emails").select("ticket_id").in("ticket_id",Ae).in("id",st);if(vt){const fr=[...new Set(vt.map(ns=>ns.ticket_id).filter(Boolean))];c(new Set(fr))}}else c(new Set)}G.data&&a(G.data),Z.data&&o(Z.data),f(!1),p(!1),g(new Set)},[]);m.useEffect(()=>{M()},[M]),m.useEffect(()=>{const A=t.get("mailbox");A!==P.mailbox_id&&(z(D=>({...D,mailbox_id:A||""})),b(1))},[t]);const F=m.useMemo(()=>{let A=r;if(P.status&&(P.status==="null"?A=A.filter(D=>!D.status):A=A.filter(D=>D.status===P.status)),P.priority&&(P.priority==="null"?A=A.filter(D=>!D.priority):A=A.filter(D=>D.priority===P.priority)),P.mailbox_id&&(A=A.filter(D=>D.mailbox_id===P.mailbox_id)),P.category_id&&(A=A.filter(D=>D.category_id===P.category_id)),P.due_date_filter){const D=new Date,G=new Date(D.getFullYear(),D.getMonth(),D.getDate());A=A.filter(Z=>{if(P.due_date_filter==="no_due_date")return!Z.due_date;if(!Z.due_date)return!1;const $=new Date(Z.due_date),ce=new Date($.getFullYear(),$.getMonth(),$.getDate());if(P.due_date_filter==="overdue")return ce<G;if(P.due_date_filter==="today")return ce.getTime()===G.getTime();if(P.due_date_filter==="upcoming"){const ne=new Date(G);return ne.setDate(ne.getDate()+7),ce>=G&&ce<=ne}return!0})}if(P.search){const D=P.search.toLowerCase();A=A.filter(G=>G.subject.toLowerCase().includes(D)||G.contact_email.toLowerCase().includes(D)||G.contact_name.toLowerCase().includes(D))}return A},[r,P]);m.useEffect(()=>{b(1),g(new Set)},[P,_]);const q=Math.max(1,Math.ceil(F.length/_)),te=Math.min(w,q),R=m.useMemo(()=>{const A=(te-1)*_;return F.slice(A,A+_)},[F,te,_]);function W(A,D){D.stopPropagation(),g(G=>{const Z=new Set(G);return Z.has(A)?Z.delete(A):Z.add(A),Z})}function K(){const A=R.map(G=>G.id),D=A.length>0&&A.every(G=>v.has(G));g(D?G=>{const Z=new Set(G);return A.forEach($=>Z.delete($)),Z}:G=>{const Z=new Set(G);return A.forEach($=>Z.add($)),Z})}async function J(){if(v.size===0)return;const A=v.size;if(!confirm(`Supprimer ${A} ticket${A>1?"s":""} et tous les emails associes ?`))return;x(!0);const D=Array.from(v);await L.from("ai_classifications").delete().in("ticket_id",D),await L.from("internal_notes").delete().in("ticket_id",D),await L.from("ticket_tags").delete().in("ticket_id",D),await L.from("emails").delete().in("ticket_id",D),await L.from("tickets").delete().in("id",D),x(!1),M()}async function se(){var A;O(!0),I(null);try{const Z=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/sync-mailbox",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({})})).json();if((A=Z.results)!=null&&A.length){const $=Z.results.reduce((ce,ne)=>ce+(ne.synced||0),0);I({msg:`${$} email${$!==1?"s":""} synchronis${$!==1?"s":""}`,ok:!0}),M()}else Z.error&&I({msg:Z.error,ok:!1})}catch(D){I({msg:D.message||"Erreur rseau",ok:!1})}O(!1)}function le(A){b(A),g(new Set)}function we(A){j(A),b(1),g(new Set)}const ue=R.map(A=>A.id),Ce=ue.length>0&&ue.every(A=>v.has(A)),_e=ue.some(A=>v.has(A))&&!Ce;return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(La,{title:"Inbox",subtitle:`${F.length} ticket${F.length!==1?"s":""}`}),u.jsxs("div",{className:"bg-white border-b border-slate-200 px-5 py-2 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[R.length>0&&u.jsx("button",{onClick:K,className:"p-1 rounded text-slate-400 hover:text-slate-600 transition",title:Ce?"Tout dslectionner":"Tout slectionner",children:Ce?u.jsx(A1,{className:"w-4.5 h-4.5 text-cyan-600"}):_e?u.jsx(t3,{className:"w-4.5 h-4.5 text-cyan-600"}):u.jsx(I1,{className:"w-4.5 h-4.5"})}),s.length>1&&u.jsxs("select",{value:P.mailbox_id,onChange:A=>z({...P,mailbox_id:A.target.value}),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les botes mail"}),s.map(A=>u.jsx("option",{value:A.id,children:A.name},A.id))]}),v.size>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs font-medium text-slate-600",children:[v.size," slectionn",v.size>1?"s":""]}),u.jsxs("button",{onClick:J,disabled:y,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-600 hover:bg-red-100 text-xs font-medium rounded-lg transition disabled:opacity-50",children:[u.jsx(Yi,{className:"w-3.5 h-3.5"}),y?"Suppression...":"Supprimer"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[C&&u.jsx("span",{className:`text-xs font-medium ${C.ok?"text-emerald-600":"text-red-500"}`,children:C.msg}),u.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition",children:[u.jsx(Z2,{className:"w-3.5 h-3.5"}),"Nouveau message"]}),u.jsxs("button",{onClick:se,disabled:E,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-cyan-600 hover:bg-cyan-700 rounded-lg transition disabled:opacity-50",children:[E?u.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}):u.jsx(xh,{className:"w-3.5 h-3.5"}),E?"Synchronisation...":"Synchroniser"]}),u.jsxs("button",{onClick:()=>M(!0),disabled:h,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-600 hover:text-cyan-700 hover:bg-cyan-50 rounded-lg transition disabled:opacity-50",children:[u.jsx(Hs,{className:`w-3.5 h-3.5 ${h?"animate-spin":""}`}),"Actualiser"]})]})]}),u.jsx(Hee,{filters:P,onChange:z,categories:i,mailboxes:s}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:d?u.jsx(Ju,{}):F.length===0?u.jsx(qI,{icon:r.length===0?wy:Hi,title:r.length===0?"Aucun ticket":"Aucun rsultat",description:r.length===0?"Les tickets apparatront ici lorsque les emails seront reus.":"Essayez de modifier vos filtres."}):u.jsx("div",{className:"divide-y divide-slate-100",children:R.map(A=>{const D=Ib(A.status),G=Mb(A.priority),Z=A.mailbox,$=A.category,ce=A.assignee,ne=v.has(A.id),Ae=!A.is_read;return u.jsxs("div",{onClick:()=>e(`/inbox/${A.id}`),className:`flex items-center gap-3 px-5 py-4 cursor-pointer transition group ${ne?"bg-cyan-50/60":"bg-white hover:bg-slate-50"}`,children:[u.jsx("button",{onClick:ge=>W(A.id,ge),className:"p-0.5 rounded text-slate-400 hover:text-cyan-600 transition shrink-0",children:ne?u.jsx(A1,{className:"w-4 h-4 text-cyan-600"}):u.jsx(I1,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})}),ce?u.jsx("div",{className:"w-2.5 h-2.5 rounded shrink-0",style:{backgroundColor:ce.avatar_color||"#0891B2"},title:`Assign  ${ce.full_name}`}):u.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:D.color}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:`text-sm text-slate-900 truncate group-hover:text-cyan-700 transition ${Ae?"font-bold":"font-semibold"}`,children:A.subject}),l.has(A.id)&&u.jsx(no,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),A.priority==="urgent"&&u.jsx("span",{className:"shrink-0 w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[u.jsx("span",{className:"font-medium text-slate-700",children:A.contact_name||A.contact_email}),Z&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-slate-300",children:"|"}),u.jsx("span",{children:Z.name})]}),ce&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-slate-300",children:"|"}),u.jsxs("span",{children:["Assign : ",ce.full_name]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[$&&u.jsx(lr,{label:$.name,color:$.color}),A.priority&&u.jsx(lr,{label:G.label,color:G.color}),A.status&&u.jsx(lr,{label:D.label,color:D.color}),A.due_date&&(()=>{const ge=new Date(A.due_date),st=yr(ge,"dd/MM");let vt="#64748B",fr=st;return dO(ge)&&!Vd(ge)?(vt="#EF4444",fr=`En retard (${st})`):Vd(ge)?(vt="#F59E0B",fr="Aujourd'hui"):Az(ge)&&(vt="#10B981",fr=`chance ${st}`),u.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${vt}15`,color:vt},children:[u.jsx(Wd,{className:"w-3 h-3"}),fr]})})(),u.jsx("span",{className:"text-xs text-slate-400 w-20 text-right",children:ky(new Date(A.last_message_at),{addSuffix:!0})})]})]},A.id)})})}),F.length>0&&u.jsx(Kee,{currentPage:te,totalItems:F.length,pageSize:_,onPageChange:le,onPageSizeChange:we}),S&&u.jsx(Gee,{onClose:()=>k(!1),onSent:()=>{k(!1),M()}})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:KI,setPrototypeOf:Ik,isFrozen:Jee,getPrototypeOf:Qee,getOwnPropertyDescriptor:Zee}=Object;let{freeze:Yt,seal:Fr,create:l0}=Object,{apply:u0,construct:c0}=typeof Reflect<"u"&&Reflect;Yt||(Yt=function(t){return t});Fr||(Fr=function(t){return t});u0||(u0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return t.apply(r,i)});c0||(c0=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const Wc=Xt(Array.prototype.forEach),ete=Xt(Array.prototype.lastIndexOf),Mk=Xt(Array.prototype.pop),tl=Xt(Array.prototype.push),tte=Xt(Array.prototype.splice),pd=Xt(String.prototype.toLowerCase),Kp=Xt(String.prototype.toString),Vp=Xt(String.prototype.match),rl=Xt(String.prototype.replace),rte=Xt(String.prototype.indexOf),nte=Xt(String.prototype.trim),Vr=Xt(Object.prototype.hasOwnProperty),Ut=Xt(RegExp.prototype.test),nl=ite(TypeError);function Xt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return u0(e,t,n)}}function ite(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return c0(e,r)}}function oe(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pd;Ik&&Ik(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&(Jee(t)||(t[n]=a),i=a)}e[i]=!0}return e}function ate(e){for(let t=0;t<e.length;t++)Vr(e,t)||(e[t]=null);return e}function vn(e){const t=l0(null);for(const[r,n]of KI(e))Vr(e,r)&&(Array.isArray(n)?t[r]=ate(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=vn(n):t[r]=n);return t}function il(e,t){for(;e!==null;){const n=Zee(e,t);if(n){if(n.get)return Xt(n.get);if(typeof n.value=="function")return Xt(n.value)}e=Qee(e)}function r(){return null}return r}const Dk=Yt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gp=Yt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yp=Yt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ste=Yt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xp=Yt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ote=Yt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rk=Yt(["#text"]),$k=Yt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Jp=Yt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lk=Yt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hc=Yt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lte=Fr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ute=Fr(/<%[\w\W]*|[\w\W]*%>/gm),cte=Fr(/\$\{[\w\W]*/gm),dte=Fr(/^data-[\-\w.\u00B7-\uFFFF]+$/),fte=Fr(/^aria-[\-\w]+$/),VI=Fr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hte=Fr(/^(?:\w+script|data):/i),mte=Fr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),GI=Fr(/^html$/i),pte=Fr(/^[a-z][.\w]*(-[.\w]+)+$/i);var zk=Object.freeze({__proto__:null,ARIA_ATTR:fte,ATTR_WHITESPACE:mte,CUSTOM_ELEMENT:pte,DATA_ATTR:dte,DOCTYPE_NAME:GI,ERB_EXPR:ute,IS_ALLOWED_URI:VI,IS_SCRIPT_OR_DATA:hte,MUSTACHE_EXPR:lte,TMPLIT_EXPR:cte});const al={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},vte=function(){return typeof window>"u"?null:window},gte=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Fk=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function YI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vte();const t=re=>YI(re);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==al.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:c,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=e,v=l.prototype,g=il(v,"cloneNode"),y=il(v,"remove"),x=il(v,"nextSibling"),w=il(v,"childNodes"),b=il(v,"parentNode");if(typeof s=="function"){const re=r.createElement("template");re.content&&re.content.ownerDocument&&(r=re.content.ownerDocument)}let _,j="";const{implementation:S,createNodeIterator:k,createDocumentFragment:E,getElementsByTagName:O}=r,{importNode:C}=n;let I=Fk();t.isSupported=typeof KI=="function"&&typeof b=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:z,TMPLIT_EXPR:M,DATA_ATTR:F,ARIA_ATTR:q,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:W}=zk;let{IS_ALLOWED_URI:K}=zk,J=null;const se=oe({},[...Dk,...Gp,...Yp,...Xp,...Rk]);let le=null;const we=oe({},[...$k,...Jp,...Lk,...Hc]);let ue=Object.seal(l0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,_e=null;const A=Object.seal(l0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let D=!0,G=!0,Z=!1,$=!0,ce=!1,ne=!0,Ae=!1,ge=!1,st=!1,vt=!1,fr=!1,ns=!1,Rb=!0,$b=!1;const JI="user-content-";let Nm=!0,Mo=!1,is={},cn=null;const Cm=oe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Lb=null;const zb=oe({},["audio","video","img","source","image","track"]);let Am=null;const Fb=oe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qu="http://www.w3.org/1998/Math/MathML",Zu="http://www.w3.org/2000/svg",Mn="http://www.w3.org/1999/xhtml";let as=Mn,Tm=!1,Im=null;const QI=oe({},[Qu,Zu,Mn],Kp);let ec=oe({},["mi","mo","mn","ms","mtext"]),tc=oe({},["annotation-xml"]);const ZI=oe({},["title","style","font","a","script"]);let Do=null;const eM=["application/xhtml+xml","text/html"],tM="text/html";let ot=null,ss=null;const rM=r.createElement("form"),Bb=function(N){return N instanceof RegExp||N instanceof Function},Mm=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ss&&ss===N)){if((!N||typeof N!="object")&&(N={}),N=vn(N),Do=eM.indexOf(N.PARSER_MEDIA_TYPE)===-1?tM:N.PARSER_MEDIA_TYPE,ot=Do==="application/xhtml+xml"?Kp:pd,J=Vr(N,"ALLOWED_TAGS")?oe({},N.ALLOWED_TAGS,ot):se,le=Vr(N,"ALLOWED_ATTR")?oe({},N.ALLOWED_ATTR,ot):we,Im=Vr(N,"ALLOWED_NAMESPACES")?oe({},N.ALLOWED_NAMESPACES,Kp):QI,Am=Vr(N,"ADD_URI_SAFE_ATTR")?oe(vn(Fb),N.ADD_URI_SAFE_ATTR,ot):Fb,Lb=Vr(N,"ADD_DATA_URI_TAGS")?oe(vn(zb),N.ADD_DATA_URI_TAGS,ot):zb,cn=Vr(N,"FORBID_CONTENTS")?oe({},N.FORBID_CONTENTS,ot):Cm,Ce=Vr(N,"FORBID_TAGS")?oe({},N.FORBID_TAGS,ot):vn({}),_e=Vr(N,"FORBID_ATTR")?oe({},N.FORBID_ATTR,ot):vn({}),is=Vr(N,"USE_PROFILES")?N.USE_PROFILES:!1,D=N.ALLOW_ARIA_ATTR!==!1,G=N.ALLOW_DATA_ATTR!==!1,Z=N.ALLOW_UNKNOWN_PROTOCOLS||!1,$=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ce=N.SAFE_FOR_TEMPLATES||!1,ne=N.SAFE_FOR_XML!==!1,Ae=N.WHOLE_DOCUMENT||!1,vt=N.RETURN_DOM||!1,fr=N.RETURN_DOM_FRAGMENT||!1,ns=N.RETURN_TRUSTED_TYPE||!1,st=N.FORCE_BODY||!1,Rb=N.SANITIZE_DOM!==!1,$b=N.SANITIZE_NAMED_PROPS||!1,Nm=N.KEEP_CONTENT!==!1,Mo=N.IN_PLACE||!1,K=N.ALLOWED_URI_REGEXP||VI,as=N.NAMESPACE||Mn,ec=N.MATHML_TEXT_INTEGRATION_POINTS||ec,tc=N.HTML_INTEGRATION_POINTS||tc,ue=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Bb(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Bb(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ce&&(G=!1),fr&&(vt=!0),is&&(J=oe({},Rk),le=[],is.html===!0&&(oe(J,Dk),oe(le,$k)),is.svg===!0&&(oe(J,Gp),oe(le,Jp),oe(le,Hc)),is.svgFilters===!0&&(oe(J,Yp),oe(le,Jp),oe(le,Hc)),is.mathMl===!0&&(oe(J,Xp),oe(le,Lk),oe(le,Hc))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?A.tagCheck=N.ADD_TAGS:(J===se&&(J=vn(J)),oe(J,N.ADD_TAGS,ot))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?A.attributeCheck=N.ADD_ATTR:(le===we&&(le=vn(le)),oe(le,N.ADD_ATTR,ot))),N.ADD_URI_SAFE_ATTR&&oe(Am,N.ADD_URI_SAFE_ATTR,ot),N.FORBID_CONTENTS&&(cn===Cm&&(cn=vn(cn)),oe(cn,N.FORBID_CONTENTS,ot)),N.ADD_FORBID_CONTENTS&&(cn===Cm&&(cn=vn(cn)),oe(cn,N.ADD_FORBID_CONTENTS,ot)),Nm&&(J["#text"]=!0),Ae&&oe(J,["html","head","body"]),J.table&&(oe(J,["tbody"]),delete Ce.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw nl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw nl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=N.TRUSTED_TYPES_POLICY,j=_.createHTML("")}else _===void 0&&(_=gte(p,i)),_!==null&&typeof j=="string"&&(j=_.createHTML(""));Yt&&Yt(N),ss=N}},Ub=oe({},[...Gp,...Yp,...ste]),Wb=oe({},[...Xp,...ote]),nM=function(N){let U=b(N);(!U||!U.tagName)&&(U={namespaceURI:as,tagName:"template"});const ee=pd(N.tagName),Re=pd(U.tagName);return Im[N.namespaceURI]?N.namespaceURI===Zu?U.namespaceURI===Mn?ee==="svg":U.namespaceURI===Qu?ee==="svg"&&(Re==="annotation-xml"||ec[Re]):!!Ub[ee]:N.namespaceURI===Qu?U.namespaceURI===Mn?ee==="math":U.namespaceURI===Zu?ee==="math"&&tc[Re]:!!Wb[ee]:N.namespaceURI===Mn?U.namespaceURI===Zu&&!tc[Re]||U.namespaceURI===Qu&&!ec[Re]?!1:!Wb[ee]&&(ZI[ee]||!Ub[ee]):!!(Do==="application/xhtml+xml"&&Im[N.namespaceURI]):!1},dn=function(N){tl(t.removed,{element:N});try{b(N).removeChild(N)}catch{y(N)}},oa=function(N,U){try{tl(t.removed,{attribute:U.getAttributeNode(N),from:U})}catch{tl(t.removed,{attribute:null,from:U})}if(U.removeAttribute(N),N==="is")if(vt||fr)try{dn(U)}catch{}else try{U.setAttribute(N,"")}catch{}},Hb=function(N){let U=null,ee=null;if(st)N="<remove></remove>"+N;else{const tt=Vp(N,/^[\r\n\t ]+/);ee=tt&&tt[0]}Do==="application/xhtml+xml"&&as===Mn&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const Re=_?_.createHTML(N):N;if(as===Mn)try{U=new h().parseFromString(Re,Do)}catch{}if(!U||!U.documentElement){U=S.createDocument(as,"template",null);try{U.documentElement.innerHTML=Tm?j:Re}catch{}}const At=U.body||U.documentElement;return N&&ee&&At.insertBefore(r.createTextNode(ee),At.childNodes[0]||null),as===Mn?O.call(U,Ae?"html":"body")[0]:Ae?U.documentElement:At},qb=function(N){return k.call(N.ownerDocument||N,N,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Dm=function(N){return N instanceof f&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof d)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},Kb=function(N){return typeof o=="function"&&N instanceof o};function Dn(re,N,U){Wc(re,ee=>{ee.call(t,N,U,ss)})}const Vb=function(N){let U=null;if(Dn(I.beforeSanitizeElements,N,null),Dm(N))return dn(N),!0;const ee=ot(N.nodeName);if(Dn(I.uponSanitizeElement,N,{tagName:ee,allowedTags:J}),ne&&N.hasChildNodes()&&!Kb(N.firstElementChild)&&Ut(/<[/\w!]/g,N.innerHTML)&&Ut(/<[/\w!]/g,N.textContent)||N.nodeType===al.progressingInstruction||ne&&N.nodeType===al.comment&&Ut(/<[/\w]/g,N.data))return dn(N),!0;if(!(A.tagCheck instanceof Function&&A.tagCheck(ee))&&(!J[ee]||Ce[ee])){if(!Ce[ee]&&Yb(ee)&&(ue.tagNameCheck instanceof RegExp&&Ut(ue.tagNameCheck,ee)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(ee)))return!1;if(Nm&&!cn[ee]){const Re=b(N)||N.parentNode,At=w(N)||N.childNodes;if(At&&Re){const tt=At.length;for(let Zt=tt-1;Zt>=0;--Zt){const Rn=g(At[Zt],!0);Rn.__removalCount=(N.__removalCount||0)+1,Re.insertBefore(Rn,x(N))}}}return dn(N),!0}return N instanceof l&&!nM(N)||(ee==="noscript"||ee==="noembed"||ee==="noframes")&&Ut(/<\/no(script|embed|frames)/i,N.innerHTML)?(dn(N),!0):(ce&&N.nodeType===al.text&&(U=N.textContent,Wc([P,z,M],Re=>{U=rl(U,Re," ")}),N.textContent!==U&&(tl(t.removed,{element:N.cloneNode()}),N.textContent=U)),Dn(I.afterSanitizeElements,N,null),!1)},Gb=function(N,U,ee){if(Rb&&(U==="id"||U==="name")&&(ee in r||ee in rM))return!1;if(!(G&&!_e[U]&&Ut(F,U))){if(!(D&&Ut(q,U))){if(!(A.attributeCheck instanceof Function&&A.attributeCheck(U,N))){if(!le[U]||_e[U]){if(!(Yb(N)&&(ue.tagNameCheck instanceof RegExp&&Ut(ue.tagNameCheck,N)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(N))&&(ue.attributeNameCheck instanceof RegExp&&Ut(ue.attributeNameCheck,U)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(U,N))||U==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&Ut(ue.tagNameCheck,ee)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(ee))))return!1}else if(!Am[U]){if(!Ut(K,rl(ee,R,""))){if(!((U==="src"||U==="xlink:href"||U==="href")&&N!=="script"&&rte(ee,"data:")===0&&Lb[N])){if(!(Z&&!Ut(te,rl(ee,R,"")))){if(ee)return!1}}}}}}}return!0},Yb=function(N){return N!=="annotation-xml"&&Vp(N,W)},Xb=function(N){Dn(I.beforeSanitizeAttributes,N,null);const{attributes:U}=N;if(!U||Dm(N))return;const ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Re=U.length;for(;Re--;){const At=U[Re],{name:tt,namespaceURI:Zt,value:Rn}=At,os=ot(tt),Rm=Rn;let kt=tt==="value"?Rm:nte(Rm);if(ee.attrName=os,ee.attrValue=kt,ee.keepAttr=!0,ee.forceKeepAttr=void 0,Dn(I.uponSanitizeAttribute,N,ee),kt=ee.attrValue,$b&&(os==="id"||os==="name")&&(oa(tt,N),kt=JI+kt),ne&&Ut(/((--!?|])>)|<\/(style|title|textarea)/i,kt)){oa(tt,N);continue}if(os==="attributename"&&Vp(kt,"href")){oa(tt,N);continue}if(ee.forceKeepAttr)continue;if(!ee.keepAttr){oa(tt,N);continue}if(!$&&Ut(/\/>/i,kt)){oa(tt,N);continue}ce&&Wc([P,z,M],Qb=>{kt=rl(kt,Qb," ")});const Jb=ot(N.nodeName);if(!Gb(Jb,os,kt)){oa(tt,N);continue}if(_&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Zt)switch(p.getAttributeType(Jb,os)){case"TrustedHTML":{kt=_.createHTML(kt);break}case"TrustedScriptURL":{kt=_.createScriptURL(kt);break}}if(kt!==Rm)try{Zt?N.setAttributeNS(Zt,tt,kt):N.setAttribute(tt,kt),Dm(N)?dn(N):Mk(t.removed)}catch{oa(tt,N)}}Dn(I.afterSanitizeAttributes,N,null)},iM=function re(N){let U=null;const ee=qb(N);for(Dn(I.beforeSanitizeShadowDOM,N,null);U=ee.nextNode();)Dn(I.uponSanitizeShadowNode,U,null),Vb(U),Xb(U),U.content instanceof a&&re(U.content);Dn(I.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(re){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=null,ee=null,Re=null,At=null;if(Tm=!re,Tm&&(re="<!-->"),typeof re!="string"&&!Kb(re))if(typeof re.toString=="function"){if(re=re.toString(),typeof re!="string")throw nl("dirty is not a string, aborting")}else throw nl("toString is not a function");if(!t.isSupported)return re;if(ge||Mm(N),t.removed=[],typeof re=="string"&&(Mo=!1),Mo){if(re.nodeName){const Rn=ot(re.nodeName);if(!J[Rn]||Ce[Rn])throw nl("root node is forbidden and cannot be sanitized in-place")}}else if(re instanceof o)U=Hb("<!---->"),ee=U.ownerDocument.importNode(re,!0),ee.nodeType===al.element&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?U=ee:U.appendChild(ee);else{if(!vt&&!ce&&!Ae&&re.indexOf("<")===-1)return _&&ns?_.createHTML(re):re;if(U=Hb(re),!U)return vt?null:ns?j:""}U&&st&&dn(U.firstChild);const tt=qb(Mo?re:U);for(;Re=tt.nextNode();)Vb(Re),Xb(Re),Re.content instanceof a&&iM(Re.content);if(Mo)return re;if(vt){if(fr)for(At=E.call(U.ownerDocument);U.firstChild;)At.appendChild(U.firstChild);else At=U;return(le.shadowroot||le.shadowrootmode)&&(At=C.call(n,At,!0)),At}let Zt=Ae?U.outerHTML:U.innerHTML;return Ae&&J["!doctype"]&&U.ownerDocument&&U.ownerDocument.doctype&&U.ownerDocument.doctype.name&&Ut(GI,U.ownerDocument.doctype.name)&&(Zt="<!DOCTYPE "+U.ownerDocument.doctype.name+`>
`+Zt),ce&&Wc([P,z,M],Rn=>{Zt=rl(Zt,Rn," ")}),_&&ns?_.createHTML(Zt):Zt},t.setConfig=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mm(re),ge=!0},t.clearConfig=function(){ss=null,ge=!1},t.isValidAttribute=function(re,N,U){ss||Mm({});const ee=ot(re),Re=ot(N);return Gb(ee,Re,U)},t.addHook=function(re,N){typeof N=="function"&&tl(I[re],N)},t.removeHook=function(re,N){if(N!==void 0){const U=ete(I[re],N);return U===-1?void 0:tte(I[re],U,1)[0]}return Mk(I[re])},t.removeHooks=function(re){I[re]=[]},t.removeAllHooks=function(){I=Fk()},t}var yte=YI();function XI(e){if(!e)return"";const t=[["",""],["",""],["",""],["",""],[" ",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],['"',""],["",""],["",""],["",""],["",""],["",""],["","'"],["","'"],["",'"'],["",'"'],['"',""],['"',""],["","..."],["",""],["",""],["",""],["",""]];let r=e;for(const[n,i]of t)r=r.replace(new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i);return r}function xte(e){if(!e)return"";let t=e;if(t=t.replace(/<!DOCTYPE[^>]*>/gi,""),t.includes("<html")&&t.includes("</html>")){const i=t.match(/<body[^>]*>([\s\S]*)<\/body>/i);if(i&&i[1])t=i[1];else{const a=t.match(/<html[^>]*>([\s\S]*)<\/html>/i);a&&a[1]&&(t=a[1])}}if(t.includes("xmlns:o=")||t.includes("xmlns:w=")||t.includes("schemas-microsoft")){const i=t.match(/<body[^>]*>([\s\S]*)<\/body>/i);i&&(t=i[1]),t=t.replace(/<\?xml[^>]*\?>/gi,""),t=t.replace(/<\/?(o|w|m|v|st1):[^>]*>/gi,""),t=t.replace(/\s*xmlns:[^=]*="[^"]*"/gi,""),t=t.replace(/\s*xml:[^=]*="[^"]*"/gi,""),t=t.replace(/<head[\s\S]*?<\/head>/gi,""),t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<meta[^>]*>/gi,""),t=t.replace(/<link[^>]*>/gi,""),t=t.replace(/<!--[\s\S]*?-->/g,""),t=t.replace(/\sclass="[^"]*Mso[^"]*"/gi,""),t=t.replace(/\sstyle="[^"]*"/gi,""),t=t.replace(/<html[^>]*>/gi,"<html>"),t=t.replace(/<\/html>/gi,"</html>"),t=t.replace(/<p[^>]*>\s*(&nbsp;|\s)*<\/p>/gi,""),t=t.replace(/=0A=/g,""),t=t.replace(/=\r?\n/g,""),t=t.replace(/<span[^>]*>\s*<\/span>/gi,"");const a=t.match(/<div[^>]*class="[^"]*WordSection[^"]*"[^>]*>([\s\S]*?)<\/div>/i)||t.match(/<div[^>]*>([\s\S]*?)<\/div>/i)||t.match(/<p[^>]*>([\s\S]*?)<\/p>/i);a&&(t=a[1])}t=t.replace(/<head[\s\S]*?<\/head>/gi,""),t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<!--[\s\S]*?-->/g,""),t=t.replace(/<\/?html[^>]*>/gi,""),t=t.replace(/<\/?body[^>]*>/gi,"");let r=0;for(;t.length!==r;)r=t.length,t=t.replace(/<(\w+)[^>]*>\s*<\/\1>/gi,"");t=XI(t);const n=yte.sanitize(t,{ALLOWED_TAGS:["p","br","strong","em","u","b","i","s","strike","a","ul","ol","li","h1","h2","h3","h4","h5","h6","blockquote","pre","code","div","span","img","table","thead","tbody","tr","th","td","hr"],ALLOWED_ATTR:["href","target","rel","src","alt","title"],ALLOW_DATA_ATTR:!1});return!n.trim()||n.length<10?"<p>Contenu non disponible</p>":n}function bte(e){if(!e)return"";let t=e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"");t=t.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),t=t.replace(/<br\s*\/?>/gi,`
`),t=t.replace(/<\/p>/gi,`

`),t=t.replace(/<[^>]+>/g,"");const r=document.createElement("textarea");return r.innerHTML=t,t=r.value,t=XI(t),t=t.replace(/\n\s*\n\s*\n/g,`

`),t=t.trim(),t}function wte({emails:e,notes:t=[]}){const[r,n]=m.useState({}),i=m.useMemo(()=>[...e.map(o=>({type:"email",data:o,timestamp:o.received_at})),...t.map(o=>({type:"note",data:o,timestamp:o.created_at}))].sort((o,l)=>new Date(o.timestamp).getTime()-new Date(l.timestamp).getTime()),[e,t]);function a(s){n(o=>{const l=o[s]||"html",c=l==="html"?"text":l==="text"?"raw":"html";return{...o,[s]:c}})}return u.jsx("div",{className:"space-y-4",children:i.map((s,o)=>{var h,p;if(s.type==="note"){const v=s.data,g=v.author;return u.jsxs("div",{className:"bg-amber-50 rounded-xl border border-amber-200 overflow-hidden",children:[u.jsxs("div",{className:"flex items-start gap-3 px-5 py-3.5 border-b border-amber-100 bg-amber-100/50",children:[u.jsx("div",{className:"mt-0.5 w-7 h-7 rounded-lg flex items-center justify-center shrink-0 bg-amber-200",children:u.jsx(eO,{className:"w-3.5 h-3.5 text-amber-700"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-amber-900",children:(g==null?void 0:g.full_name)||"Utilisateur"}),u.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium bg-amber-200 text-amber-700",children:"Note interne"})]}),u.jsx("p",{className:"text-xs text-amber-600 mt-0.5",children:"Visible uniquement par l'quipe"})]}),u.jsx("span",{className:"text-xs text-amber-500 shrink-0",children:yr(new Date(v.created_at),"MMM d, yyyy HH:mm")})]}),u.jsx("div",{className:"px-5 py-4",children:u.jsx("pre",{className:"text-sm text-amber-900 whitespace-pre-wrap font-sans leading-relaxed",children:v.content})})]},`note-${v.id}`)}const l=s.data,c=l.direction==="inbound",d=c?RL:LL,f=r[l.id]||"html";return u.jsxs("div",{className:`bg-white rounded-xl border ${c?"border-slate-200":"border-cyan-200 bg-cyan-50/30"} overflow-hidden`,children:[u.jsxs("div",{className:"flex items-start gap-3 px-5 py-3.5 border-b border-slate-100",children:[u.jsx("div",{className:`mt-0.5 w-7 h-7 rounded-lg flex items-center justify-center shrink-0 ${c?"bg-slate-100":"bg-cyan-100"}`,children:u.jsx(d,{className:`w-3.5 h-3.5 ${c?"text-slate-500":"text-cyan-600"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-900",children:l.from_name||l.from_address}),u.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${c?"bg-slate-100 text-slate-500":"bg-cyan-100 text-cyan-600"}`,children:c?"Reu":"Envoy"})]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["To: ",(h=l.to_addresses)==null?void 0:h.join(", "),((p=l.cc_addresses)==null?void 0:p.length)>0&&` | CC: ${l.cc_addresses.join(", ")}`]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-slate-400 shrink-0",children:yr(new Date(l.received_at),"MMM d, yyyy HH:mm")}),l.body_html&&u.jsx("button",{onClick:()=>a(l.id),className:"flex items-center gap-1 px-2 py-1 text-xs text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded transition",title:f==="html"?"Voir le texte brut":f==="text"?"Voir le HTML brut":"Voir le HTML nettoy",children:f==="html"?u.jsxs(u.Fragment,{children:[u.jsx(Pn,{className:"w-3 h-3"}),u.jsx("span",{children:"Texte"})]}):f==="text"?u.jsxs(u.Fragment,{children:[u.jsx(qL,{className:"w-3 h-3"}),u.jsx("span",{children:"HTML"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pn,{className:"w-3 h-3"}),u.jsx("span",{children:"Propre"})]})})]})]}),u.jsx("div",{className:"px-5 py-4",children:f==="raw"&&l.body_html?u.jsx("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap font-mono bg-slate-50 p-3 rounded border border-slate-200 overflow-x-auto",children:l.body_html}):f==="text"&&l.body_html?u.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap font-sans leading-relaxed",children:bte(l.body_html)||l.body_text||"Aucun contenu"}):l.body_html?u.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 prose-headings:text-slate-900 prose-a:text-cyan-600 prose-p:my-2",dangerouslySetInnerHTML:{__html:xte(l.body_html)}}):u.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap font-sans leading-relaxed",children:l.body_text||"Aucun contenu"})}),l.attachments&&l.attachments.length>0&&u.jsxs("div",{className:"px-5 py-3 border-t border-slate-100 bg-slate-50/50",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 mb-2",children:[u.jsx(no,{className:"w-3 h-3"}),u.jsxs("span",{children:[l.attachments.length," pice",l.attachments.length>1?"s":""," jointe",l.attachments.length>1?"s":""]})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:l.attachments.map(v=>u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs hover:border-cyan-300 transition cursor-pointer",children:[u.jsx(no,{className:"w-3 h-3 text-slate-400"}),u.jsx("span",{className:"text-slate-700 font-medium",children:v.filename}),u.jsx("span",{className:"text-slate-400",children:Db(v.size_bytes)})]},v.id))})]})]},`email-${l.id}`)})})}const _te={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},jte=(e,t,r)=>{let n;const i=_te[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},Ste={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},kte={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ete={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pte={date:qs({formats:Ste,defaultWidth:"full"}),time:qs({formats:kte,defaultWidth:"full"}),dateTime:qs({formats:Ete,defaultWidth:"full"})},Ote={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},Nte=(e,t,r,n)=>Ote[e],Cte={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},Ate={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},Tte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},Ite={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Mte={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},Dte=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"re":"er":a="me",r+a},Rte=["MMM","MMMM"],$te={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&Rte.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:Dte,era:bn({values:Cte,defaultWidth:"wide"}),quarter:bn({values:Ate,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bn({values:Tte,defaultWidth:"wide"}),day:bn({values:Ite,defaultWidth:"wide"}),dayPeriod:bn({values:Mte,defaultWidth:"wide"})},Lte=/^(\d+)(ime|re|me|er|e)?/i,zte=/\d+/i,Fte={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},Bte={any:[/^av/i,/^ap/i]},Ute={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},Wte={any:[/1/i,/2/i,/3/i,/4/i]},Hte={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},qte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kte={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Vte={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Gte={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},Yte={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Xte={ordinalNumber:oO({matchPattern:Lte,parsePattern:zte,valueCallback:e=>parseInt(e)}),era:wn({matchPatterns:Fte,defaultMatchWidth:"wide",parsePatterns:Bte,defaultParseWidth:"any"}),quarter:wn({matchPatterns:Ute,defaultMatchWidth:"wide",parsePatterns:Wte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wn({matchPatterns:Hte,defaultMatchWidth:"wide",parsePatterns:qte,defaultParseWidth:"any"}),day:wn({matchPatterns:Kte,defaultMatchWidth:"wide",parsePatterns:Vte,defaultParseWidth:"any"}),dayPeriod:wn({matchPatterns:Gte,defaultMatchWidth:"any",parsePatterns:Yte,defaultParseWidth:"any"})},Jte={code:"fr",formatDistance:jte,formatLong:Pte,formatRelative:Nte,localize:$te,match:Xte,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Qte({dueDate:e,onUpdate:t}){const[r,n]=m.useState(!1),[i,a]=m.useState(e?yr(new Date(e),"yyyy-MM-dd"):"");function s(f){if(!f)return null;const h=new Date(f),p=new Date;if(dO(h)&&!Vd(h))return{status:"overdue",label:"En retard",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",icon:ig};if(Vd(h))return{status:"today",label:"Aujourd'hui",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:Pl};if(Tz(h))return{status:"tomorrow",label:"Demain",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:Pl};const v=k3(h,p);return v<=3?{status:"soon",label:`Dans ${v} jour${v>1?"s":""}`,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:Pl}:{status:"ok",label:`Dans ${v} jours`,color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",icon:ag}}function o(){t(i?new Date(i).toISOString():null),n(!1)}function l(){a(""),t(null),n(!1)}const c=s(e);if(r)return u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Date d'chance"}),u.jsx("input",{type:"date",value:i,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:o,className:"flex-1 px-3 py-1.5 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition text-xs font-medium",children:"Enregistrer"}),e&&u.jsx("button",{onClick:l,className:"px-3 py-1.5 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition text-xs font-medium",children:"Supprimer"}),u.jsx("button",{onClick:()=>n(!1),className:"px-3 py-1.5 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition text-xs font-medium",children:"Annuler"})]})]});if(!e)return u.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center gap-2 px-3 py-2 border border-dashed border-slate-300 text-slate-600 rounded-lg hover:border-cyan-500 hover:text-cyan-600 hover:bg-cyan-50 transition text-sm",children:[u.jsx(Wd,{className:"w-4 h-4"}),"Dfinir une chance"]});const d=(c==null?void 0:c.icon)||Wd;return u.jsxs("button",{onClick:()=>n(!0),className:`w-full flex items-center gap-2 px-3 py-2 border rounded-lg transition text-sm ${c==null?void 0:c.bgColor} ${c==null?void 0:c.borderColor} ${c==null?void 0:c.color}`,children:[u.jsx(d,{className:"w-4 h-4"}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("div",{className:"font-medium",children:c==null?void 0:c.label}),u.jsx("div",{className:"text-xs opacity-75",children:yr(new Date(e),"dd MMMM yyyy",{locale:Jte})})]})]})}function Zte({ticket:e,agents:t,categories:r,onUpdate:n}){const[i,a]=m.useState(!1),[s,o]=m.useState([]),l=Ib(e.status),c=Mb(e.priority);m.useEffect(()=>{d()},[e.id]);async function d(){const{data:h}=await L.from("emails").select("id").eq("ticket_id",e.id);if(!h||h.length===0){o([]);return}const p=h.map(g=>g.id),{data:v}=await L.from("attachments").select("*").in("email_id",p).order("created_at",{ascending:!1});v&&o(v)}async function f(h,p){a(!0),await L.from("tickets").update({[h]:p,updated_at:new Date().toISOString()}).eq("id",e.id),n(),a(!1)}return u.jsxs("div",{className:`space-y-4 ${i?"opacity-70 pointer-events-none":""}`,children:[s.length>0&&u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(no,{className:"w-4 h-4 text-slate-400"}),u.jsxs("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:["Pices jointes (",s.length,")"]})]}),u.jsx("div",{className:"space-y-2",children:s.map(h=>u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg hover:border-cyan-300 transition group",children:[u.jsx(no,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",children:h.filename}),u.jsx("p",{className:"text-xs text-slate-500",children:Db(h.size_bytes)})]}),u.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-cyan-100 text-cyan-600 transition",title:"Tlcharger",children:u.jsx(xh,{className:"w-3.5 h-3.5"})})]},h.id))})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:[u.jsxs("div",{className:"px-4 py-3",children:[u.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Statut"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:e.status??"",onChange:h=>f("status",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Aucun statut"}),hu.map(h=>u.jsx("option",{value:h.value,children:h.label},h.value))]}),u.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),e.status&&u.jsx("div",{className:"mt-1.5",children:u.jsx(lr,{label:l.label,color:l.color})})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Priorit"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:e.priority??"",onChange:h=>f("priority",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Aucune priorit"}),mu.map(h=>u.jsx("option",{value:h.value,children:h.label},h.value))]}),u.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),e.priority&&u.jsx("div",{className:"mt-1.5",children:u.jsx(lr,{label:c.label,color:c.color})})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Assign "}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:e.assignee_id??"",onChange:h=>f("assignee_id",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Non assign"}),t.map(h=>u.jsx("option",{value:h.id,children:h.full_name||h.email},h.id))]}),u.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"Catgorie"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:e.category_id??"",onChange:h=>f("category_id",h.target.value||null),className:"w-full appearance-none bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 pr-8 text-sm text-slate-900 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Aucune catgorie"}),r.map(h=>u.jsx("option",{value:h.id,children:h.name},h.id))]}),u.jsx(Ms,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1.5 block",children:"chance"}),u.jsx(Qte,{dueDate:e.due_date,onUpdate:h=>f("due_date",h)})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 space-y-3",children:[u.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Dtails"}),u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(f3,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-slate-500",children:"Contact :"}),u.jsx("span",{className:"text-slate-900 font-medium",children:e.contact_name||e.contact_email})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(tO,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-slate-500",children:"Email :"}),u.jsx("span",{className:"text-slate-700",children:e.contact_email})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Y2,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-slate-500",children:"Cr le :"}),u.jsx("span",{className:"text-slate-700",children:yr(new Date(e.created_at),"MMM d, yyyy HH:mm")})]}),e.sla_deadline&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(yy,{className:"w-4 h-4 text-amber-500"}),u.jsx("span",{className:"text-slate-500",children:"SLA :"}),u.jsx("span",{className:"text-amber-600 font-medium",children:yr(new Date(e.sla_deadline),"MMM d, HH:mm")})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Pl,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-slate-500",children:"Mis  jour :"}),u.jsx("span",{className:"text-slate-700",children:yr(new Date(e.updated_at),"MMM d, yyyy HH:mm")})]})]})]})]})}function ere({classification:e,loading:t,onRequestClassify:r}){if(!e&&!t)return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(ad,{className:"w-4 h-4 text-cyan-600"}),u.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Analyse IA"})]}),u.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"Aucune analyse IA disponible pour ce ticket."}),r&&u.jsx("button",{onClick:r,className:"w-full px-3 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:"Analyser avec l'IA"})]});if(t)return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ad,{className:"w-4 h-4 text-cyan-600 animate-pulse"}),u.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Analyse IA"})]}),u.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(o=>u.jsx("div",{className:"h-4 bg-slate-100 rounded animate-pulse",style:{width:`${70+o*5}%`}},o))})]});if(!e)return null;const n=e.entities,i=Ak[e.sentiment]??Ak.neutral,a={positive:"Positif",neutral:"Neutre",negative:"Negatif",mixed:"Mixte"},s={low:"Faible",medium:"Moyen",high:"Haute",urgent:"Urgent"};return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:[u.jsxs("div",{className:"px-5 py-3.5 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ad,{className:"w-4 h-4 text-cyan-600"}),u.jsx("h4",{className:"text-xs font-semibold text-slate-900 uppercase tracking-wider",children:"Analyse IA"})]}),u.jsxs("span",{className:"text-xs text-slate-400",children:[Math.round(e.confidence*100),"% confiance"]})]}),u.jsxs("div",{className:"px-5 py-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(s3,{className:"w-3.5 h-3.5 text-slate-400"}),u.jsx("span",{className:"text-slate-500",children:"Categorie :"}),u.jsx("span",{className:"text-slate-900 font-medium",children:e.category}),e.subcategory&&u.jsxs("span",{className:"text-slate-400",children:["/ ",e.subcategory]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(h3,{className:"w-3.5 h-3.5 text-slate-400"}),u.jsx("span",{className:"text-slate-500",children:"Intention :"}),u.jsx("span",{className:"text-slate-900",children:e.intent})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-500 ml-5",children:"Sentiment :"}),u.jsx(lr,{label:a[e.sentiment]||e.sentiment,color:i})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-500 ml-5",children:"Priorite :"}),u.jsx(lr,{label:s[e.priority]||e.priority,color:e.priority==="urgent"?"#EF4444":"#3B82F6"})]})]}),n&&Object.keys(n).length>0&&u.jsxs("div",{className:"px-5 py-3",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"Entites detectees"}),u.jsxs("div",{className:"space-y-1.5",children:[n.name&&u.jsx(sl,{icon:rO,label:"Nom",value:String(n.name)}),n.email&&u.jsx(sl,{icon:Hi,label:"Email",value:String(n.email)}),n.phone&&u.jsx(sl,{icon:n3,label:"Telephone",value:String(n.phone)}),n.address&&u.jsx(sl,{icon:e3,label:"Adresse",value:String(n.address)}),n.property&&u.jsx(sl,{icon:BL,label:"Bien",value:String(n.property)})]})]}),e.recommended_actions.length>0&&u.jsxs("div",{className:"px-5 py-3",children:[u.jsx("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"Actions recommandees"}),u.jsx("ul",{className:"space-y-1",children:e.recommended_actions.map((o,l)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[u.jsx("span",{className:"w-4 h-4 rounded-full bg-cyan-100 text-cyan-600 flex items-center justify-center text-xs font-medium shrink-0 mt-0.5",children:l+1}),u.jsx("span",{className:"text-slate-700",children:o})]},l))})]})]})}function sl({icon:e,label:t,value:r}){return u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(e,{className:"w-3.5 h-3.5 text-slate-400"}),u.jsxs("span",{className:"text-slate-500 text-xs",children:[t," :"]}),u.jsx("span",{className:"text-slate-800",children:r})]})}function tre(e){var r;const t=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(t||"")?JL:["zip","rar","7z","tar","gz"].includes(t||"")?KL:["pdf","doc","docx","txt","odt"].includes(t||"")?Pn:VL}function rre({attachments:e}){if(e.length===0)return null;async function t(r){try{if(!r.storage_path){console.error("Aucun chemin de stockage pour cette pice jointe");return}const{data:n,error:i}=await L.storage.from("attachments").download(r.storage_path);if(i)throw i;const a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=r.filename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}catch(n){console.error("Erreur lors du tlchargement:",n),alert("Impossible de tlcharger la pice jointe")}}return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3 border-b border-slate-200 bg-slate-50/50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(no,{className:"w-4 h-4 text-slate-400"}),u.jsxs("h3",{className:"text-sm font-semibold text-slate-900",children:["Pices jointes (",e.length,")"]})]})}),u.jsx("div",{className:"p-4",children:u.jsx("div",{className:"space-y-2",children:e.map(r=>{var i;const n=tre(r.filename);return u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-lg border border-slate-200 hover:border-slate-300 transition group",children:[u.jsx("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center",children:u.jsx(n,{className:"w-4 h-4 text-slate-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:r.filename}),u.jsxs("p",{className:"text-xs text-slate-500",children:[Db(r.size_bytes),r.content_type&&u.jsx("span",{className:"ml-2 text-slate-400",children:(i=r.content_type.split("/")[1])==null?void 0:i.toUpperCase()})]})]}),u.jsx("button",{onClick:()=>t(r),className:"shrink-0 p-2 text-slate-400 hover:text-cyan-600 hover:bg-white rounded-lg transition opacity-0 group-hover:opacity-100",title:"Tlcharger",children:u.jsx(xh,{className:"w-4 h-4"})})]},r.id)})})})]})}function nre({ticketId:e,notes:t,onNoteAdded:r}){const[n,i]=m.useState(""),[a,s]=m.useState(!1);async function o(l){l.preventDefault(),n.trim()&&(s(!0),await L.from("internal_notes").insert({ticket_id:e,content:n.trim()}),i(""),s(!1),r())}return u.jsxs("div",{className:"bg-amber-50/50 rounded-xl border border-amber-200/60",children:[u.jsxs("div",{className:"flex items-center gap-2 px-5 py-3 border-b border-amber-200/60",children:[u.jsx(eO,{className:"w-4 h-4 text-amber-600"}),u.jsx("h4",{className:"text-xs font-semibold text-amber-900 uppercase tracking-wider",children:"Notes Internes"}),u.jsx("span",{className:"text-xs text-amber-600",children:"(equipe uniquement)"})]}),t.length>0&&u.jsx("div",{className:"divide-y divide-amber-200/40",children:t.map(l=>{const c=l.author;return u.jsxs("div",{className:"px-5 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-xs font-medium text-amber-800",children:(c==null?void 0:c.full_name)??"Admin"}),u.jsx("span",{className:"text-xs text-amber-500",children:yr(new Date(l.created_at),"dd/MM/yyyy HH:mm")})]}),u.jsx("p",{className:"text-sm text-amber-900",children:l.content})]},l.id)})}),u.jsx("form",{onSubmit:o,className:"px-5 py-3 border-t border-amber-200/60",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:n,onChange:l=>i(l.target.value),placeholder:"Ajouter une note interne...",className:"flex-1 px-3 py-2 bg-white border border-amber-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400"}),u.jsx("button",{type:"submit",disabled:!n.trim()||a,className:"px-3 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg transition disabled:opacity-50",children:u.jsx(Eu,{className:"w-4 h-4"})})]})})]})}function ire({ticket:e,emails:t,templates:r,onSent:n}){const[i,a]=m.useState(""),[s,o]=m.useState(`Re: ${e.subject}`),[l,c]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[v,g]=m.useState([]),[y,x]=m.useState("");async function w(){if(!i.trim())return;const j=pu(i);if(j.length>0){g(j);return}c(!0),await L.from("emails").insert({ticket_id:e.id,mailbox_id:e.mailbox_id,from_address:"agent@company.com",from_name:"Support Agent",to_addresses:[e.contact_email],subject:s,body_text:i,direction:"outbound",sent_at:new Date().toISOString()}),await L.from("tickets").update({status:"replied",last_message_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e.id),a(""),c(!1),n()}async function b(){f(!0),x("");try{const j=t.map(O=>({direction:O.direction,from_name:O.from_name,body_text:O.body_text,received_at:O.received_at})),k=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-draft",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_subject:e.subject,contact_name:e.contact_name,contact_email:e.contact_email,conversation:j})}),E=await k.json();k.ok&&E.draft?a(E.draft):x(E.error||"Erreur lors de la generation")}catch{x("Impossible de contacter le service IA")}f(!1)}function _(j){const S={client_name:e.contact_name||e.contact_email,date:new Date().toLocaleDateString("fr-FR")},k=Tk(j.body,S);a(k),j.subject&&o(Tk(j.subject,S)),p(!1);const E=pu(k);E.length>0&&g(E)}return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-100",children:[u.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Repondre"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>p(!h),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-600 hover:text-slate-900 bg-slate-50 hover:bg-slate-100 rounded-lg transition",children:[u.jsx(Pn,{className:"w-3.5 h-3.5"}),"Modeles"]}),u.jsxs("button",{onClick:b,disabled:d,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-cyan-600 hover:text-cyan-700 bg-cyan-50 hover:bg-cyan-100 rounded-lg transition disabled:opacity-50",children:[d?u.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}):u.jsx(Yn,{className:"w-3.5 h-3.5"}),"Reponse IA"]})]})]}),h&&r.length>0&&u.jsxs("div",{className:"px-5 py-3 border-b border-slate-100 bg-slate-50",children:[u.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Choisir un modele :"}),u.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:r.map(j=>u.jsxs("button",{onClick:()=>_(j),className:"w-full text-left px-3 py-2 rounded-lg text-sm text-slate-700 hover:bg-white hover:shadow-sm transition",children:[u.jsx("span",{className:"font-medium",children:j.name}),j.description&&u.jsxs("span",{className:"text-slate-400 ml-2",children:["- ",j.description]})]},j.id))})]}),v.length>0&&u.jsxs("div",{className:"px-5 py-2 bg-amber-50 border-b border-amber-200 text-xs text-amber-700",children:["Variables manquantes : ",v.map(j=>`{{${j}}}`).join(", "),". Veuillez les remplir avant d'envoyer."]}),y&&u.jsx("div",{className:"px-5 py-2 bg-red-50 border-b border-red-200 text-xs text-red-700",children:y}),u.jsxs("div",{className:"px-5 py-3",children:[u.jsx("input",{type:"text",value:s,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 mb-3 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet"}),u.jsx("textarea",{value:i,onChange:j=>{a(j.target.value),g([]),x("")},rows:8,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-900 resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Redigez votre reponse..."})]}),u.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-slate-100",children:[u.jsxs("p",{className:"text-xs text-slate-400",children:["A : ",e.contact_email]}),u.jsxs("button",{onClick:w,disabled:!i.trim()||l,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[l?u.jsx($t,{className:"w-4 h-4 animate-spin"}):u.jsx(Eu,{className:"w-4 h-4"}),"Envoyer"]})]})]})}function are({ticket:e,emails:t,onClose:r,onSent:n}){const[i,a]=m.useState(e.contact_email),[s,o]=m.useState(`Re: ${e.subject}`),[l,c]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState(!1),[v,g]=m.useState(!1),[y,x]=m.useState(!1),[w,b]=m.useState(null);m.useEffect(()=>{_()},[]);async function _(){x(!0),b(null);try{const k=t.filter(I=>I.direction==="inbound").sort((I,P)=>new Date(P.received_at).getTime()-new Date(I.received_at).getTime())[0],O=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/suggest-response",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_id:e.id,ticket_subject:e.subject,ticket_body:(k==null?void 0:k.body_text)||"",contact_email:e.contact_email,contact_name:e.contact_name,category_id:e.category_id,mailbox_id:e.mailbox_id})}),C=await O.json();if(!O.ok){alert(C.error||"Erreur lors de la suggestion de rponse");return}c(C.suggested_response||""),b({reasoning:C.reasoning,key_points:C.key_points,alternative_approaches:C.alternative_approaches,confidence:C.confidence})}catch(k){alert("Erreur lors de la suggestion de rponse"),console.error(k)}finally{x(!1)}}async function j(){if(!d.trim()){alert("Veuillez entrer une ide pour gnrer le brouillon");return}g(!0);try{const k="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-draft",E=t.sort((I,P)=>new Date(I.received_at).getTime()-new Date(P.received_at).getTime()).map(I=>{var P;return{direction:I.direction,from_name:I.from_name,body_text:I.body_text||((P=I.body_html)==null?void 0:P.replace(/<[^>]*>/g,""))||"",received_at:I.received_at}}),O=await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticket_subject:e.subject,contact_name:e.contact_name,contact_email:e.contact_email,conversation:E,tone:"professional",user_instruction:d})}),C=await O.json();if(!O.ok){alert(C.error||"Erreur lors de la gnration du brouillon");return}c(C.draft||""),f("")}catch(k){alert("Erreur lors de la gnration du brouillon"),console.error(k)}finally{g(!1)}}async function S(){if(!i||!s||!l){alert("Veuillez remplir tous les champs");return}p(!0);try{const k="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/send-email",{data:{session:E}}=await L.auth.getSession();if(!E){alert("Session expire. Veuillez vous reconnecter.");return}const O=t.filter(P=>P.direction==="inbound").sort((P,z)=>new Date(z.received_at).getTime()-new Date(P.received_at).getTime())[0],C=await fetch(k,{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({mailboxId:e.mailbox_id,to:i,subject:s,body:l,ticketId:e.id,inReplyToMessageId:O==null?void 0:O.message_id})}),I=await C.json();if(!C.ok){console.error("Erreur envoi email:",I),alert(`Erreur: ${I.error||"Erreur lors de l'envoi de l'email"}`);return}console.log("Email envoy:",I),alert("Email envoy avec succs"),n(),r()}catch(k){console.error("Exception envoi email:",k),alert(`Erreur: ${k instanceof Error?k.message:"Erreur lors de l'envoi de l'email"}`)}finally{p(!1)}}return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Composer un email"}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:u.jsx(Qa,{className:"w-5 h-5 text-slate-500"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-200 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-emerald-900 mb-1",children:"Suggestion intelligente par IA"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"L'IA analyse la conversation, l'historique du contact et les modeles pour suggerer une reponse"})]}),u.jsx("button",{onClick:_,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:y?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-4 h-4 animate-spin"}),"Analyse..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ad,{className:"w-4 h-4"}),"Suggerer"]})})]}),w&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-emerald-200 space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-emerald-900 mb-1",children:"Raisonnement:"}),u.jsx("p",{className:"text-xs text-emerald-700",children:w.reasoning})]}),w.key_points&&w.key_points.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-emerald-900 mb-1",children:"Points cles:"}),u.jsx("ul",{className:"text-xs text-emerald-700 list-disc list-inside space-y-0.5",children:w.key_points.map((k,E)=>u.jsx("li",{children:k},E))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-xs font-medium text-emerald-900",children:"Confiance:"}),u.jsx("div",{className:"flex-1 bg-emerald-200 h-2 rounded-full overflow-hidden",children:u.jsx("div",{className:"bg-emerald-600 h-full",style:{width:`${(w.confidence||0)*100}%`}})}),u.jsxs("span",{className:"text-xs text-emerald-700",children:[Math.round((w.confidence||0)*100),"%"]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Destinataire"}),u.jsx("input",{type:"email",value:i,onChange:k=>a(k.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"destinataire@exemple.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Objet"}),u.jsx("input",{type:"text",value:s,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet de l'email"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Ide pour l'IA"}),u.jsx("button",{onClick:j,disabled:v||!d.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-xs font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:v?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-3.5 h-3.5 animate-spin"}),"Gnration..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Yn,{className:"w-3.5 h-3.5"}),"Gnrer le brouillon"]})})]}),u.jsx("textarea",{value:d,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",placeholder:"Dcrivez brivement l'ide du message que vous souhaitez envoyer, l'IA gnrera un brouillon complet...",rows:2}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'Exemple: "Confirmer la visite prvue demain  14h" ou "Expliquer les documents manquants"'})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Message"}),u.jsx("textarea",{value:l,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 font-sans",placeholder:"Tapez votre message ici...",rows:12})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-slate-200 bg-slate-50",children:[u.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-900 transition disabled:opacity-50",children:"Annuler"}),u.jsx("button",{onClick:S,disabled:h||!i||!s||!l,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-4 h-4 animate-spin"}),"Envoi..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Eu,{className:"w-4 h-4"}),"Envoyer"]})})]})]})})}function sre({ticketId:e,onAccept:t,onRegenerate:r}){const[n,i]=m.useState(null),[a,s]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{p();const b=L.channel(`drafts:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"drafts",filter:`ticket_id=eq.${e}`},()=>{p()}).subscribe();return()=>{L.removeChannel(b)}},[e]);async function p(){const{data:b}=await L.from("drafts").select("*").eq("ticket_id",e).maybeSingle();b&&i(b),s(!1)}async function v(){if(!n)return;const b=c?f:n.body;t(b),await L.from("drafts").delete().eq("id",n.id),i(null),d(!1)}async function g(){n&&(await L.from("drafts").delete().eq("id",n.id),i(null))}function y(){n&&(d(!0),h(n.body))}function x(){d(!1),h("")}async function w(){l(!0);try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/auto-generate-draft",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_id:e})}),await p()}catch(b){console.error("Failed to regenerate:",b)}finally{l(!1)}}return a?u.jsxs("div",{className:"flex items-center justify-center py-8 text-sm text-slate-500",children:[u.jsx(Hs,{className:"w-4 h-4 animate-spin mr-2"}),"Chargement du brouillon automatique..."]}):n?u.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border-2 border-cyan-200 p-5",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yn,{className:"w-5 h-5 text-cyan-600"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Brouillon de rponse IA"})]}),u.jsxs("button",{onClick:w,disabled:o,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-600 hover:text-cyan-700 hover:bg-white/50 disabled:text-slate-400 disabled:cursor-not-allowed rounded-lg transition",children:[u.jsx(Hs,{className:`w-3.5 h-3.5 ${o?"animate-spin":""}`}),o?"Gnration...":"Rgnrer"]})]}),n.notes&&u.jsxs("div",{className:"mb-3 flex items-start gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[u.jsx(Pn,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-amber-900 mb-0.5",children:"Notes pour l'agent"}),u.jsx("p",{className:"text-xs text-amber-700",children:n.notes})]})]}),c?u.jsxs("div",{className:"space-y-3",children:[u.jsx("textarea",{value:f,onChange:b=>h(b.target.value),rows:10,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 bg-white"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition text-sm font-medium",children:[u.jsx(Gl,{className:"w-4 h-4"}),"Valider et envoyer"]}),u.jsx("button",{onClick:x,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-white transition text-sm font-medium",children:"Annuler"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white rounded-lg p-4 mb-4 text-sm text-slate-700",dangerouslySetInnerHTML:{__html:n.body}}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:v,className:"flex items-center gap-1.5 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition text-sm font-medium",children:[u.jsx(Gl,{className:"w-4 h-4"}),"Valider et envoyer"]}),u.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-white transition text-sm font-medium",children:[u.jsx(Z2,{className:"w-4 h-4"}),"Modifier"]}),u.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition text-sm font-medium",children:[u.jsx(Qa,{className:"w-4 h-4"}),"Supprimer"]})]})]})]}):u.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border-2 border-cyan-200 p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Yn,{className:"w-5 h-5 text-cyan-600"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Brouillon de rponse IA"})]}),u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Un brouillon de rponse est automatiquement gnr aprs la rception d'un email. Si aucun brouillon n'apparat, vous pouvez en gnrer un manuellement."}),u.jsx("button",{onClick:w,disabled:o,className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg shadow-sm transition",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Hs,{className:"w-4 h-4 animate-spin"}),"Gnration en cours..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Yn,{className:"w-4 h-4"}),"Gnrer un brouillon"]})})]})}function ore(){const{id:e}=bR(),t=Xa(),[r,n]=m.useState(null),[i,a]=m.useState([]),[s,o]=m.useState(null),[l,c]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState([]),[v,g]=m.useState([]),[y,x]=m.useState(!0),[w,b]=m.useState(!1),[_,j]=m.useState(!1),S=m.useCallback(async()=>{if(!e)return;const[O,C,I,P,z,M,F]=await Promise.all([L.from("tickets").select("*, category:categories(*), assignee:profiles!tickets_assignee_id_fkey(*)").eq("id",e).maybeSingle(),L.from("emails").select("*, attachments(*)").eq("ticket_id",e).order("received_at",{ascending:!0}),L.from("ai_classifications").select("*").eq("ticket_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle(),L.from("internal_notes").select("*, author:profiles(full_name)").eq("ticket_id",e).order("created_at",{ascending:!0}),L.from("profiles").select("*").in("role",["admin","manager","agent"]).eq("is_active",!0),L.from("categories").select("*").order("name"),L.from("email_templates").select("*").eq("is_active",!0).order("name")]);O.data&&n(O.data),C.data&&a(C.data),I.data&&o(I.data),P.data&&c(P.data),z.data&&f(z.data),M.data&&p(M.data),F.data&&g(F.data),x(!1);const{data:{user:q}}=await L.auth.getUser();q&&O.data&&!O.data.is_read&&await L.from("tickets").update({is_read:!0,last_read_at:new Date().toISOString(),last_read_by:q.id}).eq("id",e)},[e]);m.useEffect(()=>{S()},[S]);const k=m.useMemo(()=>{const O=[];return i.forEach(C=>{C.attachments&&C.attachments.length>0&&O.push(...C.attachments)}),O},[i]);async function E(){if(!(!r||i.length===0)){b(!0);try{const O=i[i.length-1];(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/classify-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({email_id:O.id,ticket_id:r.id,subject:O.subject,body:O.body_text||"",from_address:O.from_address,from_name:O.from_name})})).ok&&await S()}catch{}b(!1)}}return y?u.jsx(Ju,{}):r?u.jsxs("div",{className:"min-h-screen",children:[u.jsx(La,{title:r.subject,subtitle:`Ticket ${r.id.slice(0,8)}`}),u.jsxs("div",{className:"p-6",children:[u.jsxs("button",{onClick:()=>t("/inbox"),className:"flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 mb-4 transition",children:[u.jsx($L,{className:"w-4 h-4"}),"Retour  la bote de rception"]}),u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx(YL,{className:"w-4 h-4 text-slate-400"}),u.jsx("span",{className:"text-xs text-slate-400 font-mono",children:r.id.slice(0,8)})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[u.jsx(wte,{emails:i,notes:l}),i.length>0&&u.jsx(sre,{ticketId:r.id,onAccept:O=>{j(!0)},onRegenerate:async()=>{const O=i[i.length-1];try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/auto-generate-response",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({ticket_id:r.id,email_id:O.id,email_content:O.body_plain||O.body_html})}),await S()}catch(C){console.error("Failed to regenerate responses:",C)}}}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg shadow-sm transition",children:[u.jsx(Hi,{className:"w-4 h-4"}),"Envoyer un email"]})}),u.jsx(ire,{ticket:r,emails:i,templates:v,onSent:S}),u.jsx(nre,{ticketId:r.id,notes:l,onNoteAdded:S})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Zte,{ticket:r,agents:d,categories:h,onUpdate:S}),u.jsx(rre,{attachments:k}),u.jsx(ere,{classification:s,loading:w,onRequestClassify:E})]})]})]}),_&&u.jsx(are,{ticket:r,emails:i,onClose:()=>j(!1),onSent:S})]}):u.jsxs("div",{className:"min-h-screen",children:[u.jsx(La,{title:"Ticket introuvable"}),u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("p",{className:"text-slate-500",children:"Ce ticket n'existe pas ou vous n'y avez pas accs."}),u.jsx("button",{onClick:()=>t("/inbox"),className:"mt-4 text-cyan-600 hover:text-cyan-700 text-sm font-medium",children:"Retour  la bote de rception"})]})]})}function lre({template:e,onEdit:t,onViewHistory:r,onDelete:n,canManage:i}){const a=pu(e.body+" "+e.subject);return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 hover:shadow-md transition-shadow group",children:[u.jsxs("div",{className:"p-5",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-cyan-50 flex items-center justify-center",children:u.jsx(Pn,{className:"w-4 h-4 text-cyan-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:e.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:["v",e.version]})]})]}),!e.is_active&&u.jsx(lr,{label:"Inactif",color:"#EF4444"})]}),e.description&&u.jsx("p",{className:"text-sm text-slate-500 mb-3 line-clamp-2",children:e.description}),e.subject&&u.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Objet : ",u.jsx("span",{className:"text-slate-600",children:e.subject})]}),u.jsx("div",{className:"bg-slate-50 rounded-lg p-3 mb-3",children:u.jsx("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap line-clamp-4 font-sans",children:e.body})}),a.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:a.map(s=>u.jsx("span",{className:"px-1.5 py-0.5 bg-cyan-50 text-cyan-700 text-xs rounded font-mono",children:`{{${s}}}`},s))}),e.category&&u.jsx(lr,{label:e.category.name,color:e.category.color})]}),u.jsxs("div",{className:"flex items-center border-t border-slate-100 divide-x divide-slate-100",children:[u.jsxs("button",{onClick:t,className:"flex-1 flex items-center justify-center gap-1.5 py-2.5 text-xs font-medium text-slate-500 hover:text-cyan-600 hover:bg-cyan-50/50 transition",children:[u.jsx(Yl,{className:"w-3.5 h-3.5"}),"Modifier"]}),u.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-1.5 py-2.5 text-xs font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-50 transition",children:[u.jsx(XL,{className:"w-3.5 h-3.5"}),"Historique"]}),i&&n&&u.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-1.5 py-2.5 text-xs font-medium text-slate-500 hover:text-red-600 hover:bg-red-50/50 transition",children:[u.jsx(Yi,{className:"w-3.5 h-3.5"}),"Supprimer"]})]})]})}const ure={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function ci({open:e,onClose:t,title:r,children:n,size:i="md"}){return m.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:t}),u.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl w-full ${ure[i]} mx-4 max-h-[90vh] flex flex-col animate-in fade-in zoom-in-95 duration-200`,children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 shrink-0",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:r}),u.jsx("button",{onClick:t,className:"p-1 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition",children:u.jsx(Qa,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:n})]})]}):null}function cre({open:e,onClose:t,template:r,categories:n,onSaved:i}){const[a,s]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState(""),[f,h]=m.useState(""),[p,v]=m.useState(""),[g,y]=m.useState(""),[x,w]=m.useState(!1),[b,_]=m.useState(!1),[j,S]=m.useState("");m.useEffect(()=>{r?(s(r.name),l(r.description),d(r.subject),h(r.body),v(r.category_id??""),y("")):(s(""),l(""),d(""),h(""),v(""),y(""))},[r,e]);async function k(){if(!a.trim()||!f.trim())return;w(!0);const O=pu(f+" "+c);if(r){const C=r.version+1;await L.from("template_versions").insert({template_id:r.id,version:r.version,name:r.name,subject:r.subject,body:r.body,variables:r.variables,change_note:g}),await L.from("email_templates").update({name:a,description:o,subject:c,body:f,category_id:p||null,variables:O,version:C,updated_at:new Date().toISOString()}).eq("id",r.id)}else await L.from("email_templates").insert({name:a,description:o,subject:c,body:f,category_id:p||null,variables:O});w(!1),i(),t()}async function E(){if(j.trim()){_(!0);try{const C=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/generate-template",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({prompt:j})});if(C.ok){const I=await C.json();I.name&&s(I.name),I.subject&&d(I.subject),I.body&&h(I.body),I.description&&l(I.description)}}catch{}_(!1)}}return u.jsx(ci,{open:e,onClose:t,title:r?"Modifier le modle":"Nouveau modle",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Yn,{className:"w-4 h-4 text-cyan-600"}),u.jsx("span",{className:"text-sm font-medium text-cyan-800",children:"Gnrateur de modles IA"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:j,onChange:O=>S(O.target.value),placeholder:"Dcrivez le modle dont vous avez besoin (ex: 'Email de bienvenue pour nouveaux locataires')",className:"flex-1 px-3 py-2 bg-white border border-cyan-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20"}),u.jsx("button",{onClick:E,disabled:b||!j.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:b?u.jsx($t,{className:"w-4 h-4 animate-spin"}):"Gnrer"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom du modle"}),u.jsx("input",{type:"text",value:a,onChange:O=>s(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"ex: Email de bienvenue"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Catgorie"}),u.jsxs("select",{value:p,onChange:O=>v(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Aucune catgorie"}),n.map(O=>u.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),u.jsx("input",{type:"text",value:o,onChange:O=>l(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Brve description de l'objectif de ce modle"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Ligne d'objet"}),u.jsx("input",{type:"text",value:c,onChange:O=>d(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Objet de l'email (supporte les {{variables}})"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Corps"}),u.jsx("textarea",{value:f,onChange:O=>h(O.target.value),rows:10,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 font-mono",placeholder:"Corps du modle. Utilisez {{nom_variable}} pour les valeurs dynamiques."}),f&&u.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:pu(f+" "+c).map(O=>u.jsx("span",{className:"px-1.5 py-0.5 bg-cyan-50 text-cyan-700 text-xs rounded font-mono",children:`{{${O}}}`},O))})]}),r&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Note de modification"}),u.jsx("input",{type:"text",value:g,onChange:O=>y(O.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Dcrivez ce qui a chang (pour l'historique des versions)"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition",children:"Annuler"}),u.jsx("button",{onClick:k,disabled:x||!a.trim()||!f.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:x?u.jsx($t,{className:"w-4 h-4 animate-spin"}):r?"Enregistrer les modifications":"Crer le modle"})]})]})})}function dre({open:e,onClose:t,template:r,onRollback:n}){const[i,a]=m.useState([]),[s,o]=m.useState(!1),[l,c]=m.useState(null);m.useEffect(()=>{e&&r&&d()},[e,r]);async function d(){if(!r)return;o(!0);const{data:h}=await L.from("template_versions").select("*").eq("template_id",r.id).order("version",{ascending:!1});h&&a(h),o(!1)}async function f(h){r&&(c(h.id),await L.from("template_versions").insert({template_id:r.id,version:r.version,name:r.name,subject:r.subject,body:r.body,variables:r.variables,change_note:`Rolled back to version ${h.version}`}),await L.from("email_templates").update({name:h.name,subject:h.subject,body:h.body,variables:h.variables,version:r.version+1,updated_at:new Date().toISOString()}).eq("id",r.id),c(null),n(),t())}return u.jsx(ci,{open:e,onClose:t,title:`Historique des versions : ${(r==null?void 0:r.name)??""}`,size:"lg",children:s?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx($t,{className:"w-6 h-6 animate-spin text-cyan-500"})}):i.length===0?u.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"Aucun historique de versions disponible."}):u.jsx("div",{className:"space-y-3",children:i.map(h=>u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs font-semibold text-slate-900 bg-slate-100 px-2 py-0.5 rounded",children:["v",h.version]}),u.jsx("span",{className:"text-xs text-slate-500",children:yr(new Date(h.created_at),"MMM d, yyyy HH:mm")})]}),u.jsxs("button",{onClick:()=>f(h),disabled:l!==null,className:"flex items-center gap-1 px-2 py-1 text-xs text-cyan-600 hover:text-cyan-700 hover:bg-cyan-50 rounded transition disabled:opacity-50",children:[l===h.id?u.jsx($t,{className:"w-3 h-3 animate-spin"}):u.jsx(i3,{className:"w-3 h-3"}),"Restaurer"]})]}),h.change_note&&u.jsx("p",{className:"text-xs text-slate-500 mb-2",children:h.change_note}),u.jsxs("div",{className:"bg-slate-50 rounded p-3",children:[u.jsxs("p",{className:"text-xs text-slate-400 mb-1",children:["Objet : ",h.subject||"(aucun)"]}),u.jsx("pre",{className:"text-xs text-slate-600 whitespace-pre-wrap font-sans line-clamp-4",children:h.body})]})]},h.id))})})}function fre(){const{canManage:e}=_o(),[t,r]=m.useState([]),[n,i]=m.useState([]),[a,s]=m.useState(!0),[o,l]=m.useState(""),[c,d]=m.useState(""),[f,h]=m.useState(!1),[p,v]=m.useState(!1),[g,y]=m.useState(null);m.useEffect(()=>{x()},[]);async function x(){const[k,E]=await Promise.all([L.from("email_templates").select("*, category:categories(name, color)").order("name"),L.from("categories").select("*").order("name")]);k.data&&r(k.data),E.data&&i(E.data),s(!1)}const w=t.filter(k=>{if(o){const E=o.toLowerCase();if(!k.name.toLowerCase().includes(E)&&!k.description.toLowerCase().includes(E)&&!k.body.toLowerCase().includes(E))return!1}return!(c&&k.category_id!==c)});function b(k){y(k),h(!0)}function _(k){y(k),v(!0)}async function j(k){confirm(`Supprimer le modle "${k.name}" ?`)&&(await L.from("email_templates").delete().eq("id",k.id),x())}function S(){y(null),h(!0)}return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(La,{title:"Bibliothque de modles",subtitle:`${w.length} modle${w.length!==1?"s":""}`}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Rechercher des modles...",value:o,onChange:k=>l(k.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 transition"})]}),u.jsxs("select",{value:c,onChange:k=>d(k.target.value),className:"px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les catgories"}),n.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))]}),u.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition shrink-0",children:[u.jsx($a,{className:"w-4 h-4"}),"Nouveau modle"]})]}),a?u.jsx(Ju,{}):w.length===0?u.jsx(qI,{icon:Pn,title:"Aucun modle",description:"Crez des modles d'email rutilisables pour acclrer votre flux de travail.",action:{label:"Crer un modle",onClick:S}}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:w.map(k=>u.jsx(lre,{template:k,onEdit:()=>b(k),onViewHistory:()=>_(k),onDelete:()=>j(k),canManage:e},k.id))})]}),u.jsx(cre,{open:f,onClose:()=>h(!1),template:g,categories:n,onSaved:x}),u.jsx(dre,{open:p,onClose:()=>v(!1),template:g,onRollback:x})]})}function hre(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[i,a]=m.useState(!1),[s,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState("");m.useEffect(()=>{h()},[]);async function h(){const{data:w,error:b}=await L.from("knowledge_base_items").select("*").order("created_at",{ascending:!1});b&&console.error("Erreur lors du chargement des ressources:",b),w&&t(w),n(!1)}async function p(w,b){await L.from("knowledge_base_items").update({is_active:!b}).eq("id",w),t(_=>_.map(j=>j.id===w?{...j,is_active:!b}:j))}async function v(w){confirm("Supprimer cet lment de la base de connaissances ?")&&(await L.from("knowledge_base_items").delete().eq("id",w),t(b=>b.filter(_=>_.id!==w)))}const g=e.filter(w=>{const b=!s||w.title.toLowerCase().includes(s.toLowerCase())||w.content.toLowerCase().includes(s.toLowerCase()),_=!l||w.category===l,j=!d||w.type===d;return b&&_&&j}),y=[...new Set(e.map(w=>w.category))],x=[...new Set(e.map(w=>w.type))];return u.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50",children:[u.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Base de connaissances"}),u.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Documents et ressources utiliss par l'IA pour gnrer les rponses"})]}),u.jsxs("button",{onClick:()=>{console.log("Bouton cliqu - Ouverture du modal"),a(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition text-sm font-medium",children:[u.jsx($a,{className:"w-4 h-4"}),"Ajouter une ressource"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(bh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("select",{value:l,onChange:w=>c(w.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Toutes les catgories"}),y.map(w=>u.jsx("option",{value:w,children:w},w))]}),u.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"Tous les types"}),x.map(w=>u.jsx("option",{value:w,children:w},w))]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?u.jsx("div",{className:"text-center py-12 text-slate-500",children:"Chargement..."}):g.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(K2,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),u.jsx("p",{className:"text-slate-600 font-medium",children:"Aucun lment trouv"}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:s||l||d?"Essayez de modifier vos filtres":"Ajoutez des documents et ressources pour enrichir la base de connaissances"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:g.map(w=>u.jsxs("div",{className:`bg-white rounded-xl border border-slate-200 p-5 transition ${w.is_active?"":"opacity-60"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[w.type==="url"?u.jsx(J2,{className:"w-4 h-4 text-blue-500"}):u.jsx(Pn,{className:"w-4 h-4 text-emerald-500"}),u.jsx(lr,{label:w.category,color:"#64748b"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>p(w.id,w.is_active),className:"p-1.5 text-slate-400 hover:text-cyan-600 rounded transition",title:w.is_active?"Dsactiver":"Activer",children:w.is_active?u.jsx(G2,{className:"w-4 h-4"}):u.jsx(V2,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>v(w.id),className:"p-1.5 text-slate-400 hover:text-red-600 rounded transition",title:"Supprimer",children:u.jsx(Yi,{className:"w-4 h-4"})})]})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:w.title}),w.source_url&&u.jsx("a",{href:w.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline block mb-2 truncate",children:w.source_url}),u.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 mb-3",children:w.content||"Aucun contenu disponible"}),u.jsxs("p",{className:"text-xs text-slate-400",children:["Ajout ",ky(new Date(w.created_at),{addSuffix:!0})]})]},w.id))})}),i&&u.jsx(mre,{onClose:()=>a(!1),onAdded:()=>{a(!1),h()}})]})}function mre({onClose:e,onAdded:t}){const[r,n]=m.useState("url"),[i,a]=m.useState(""),[s,o]=m.useState("general"),[l,c]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState(!1);m.useEffect(()=>{console.log("Modal AddKnowledge mont")},[]);async function v(g){var y;g.preventDefault(),p(!0);try{const{data:x}=await L.auth.getSession();if(!((y=x==null?void 0:x.session)!=null&&y.user)){alert("Vous devez tre connect pour ajouter une ressource"),p(!1);return}const{error:w}=await L.from("knowledge_base_items").insert({title:i,type:r,category:s,content:d,source_url:r==="url"?l:null,created_by:x.session.user.id});if(w){console.error("Erreur lors de l'ajout de la ressource:",w),alert("Erreur lors de l'ajout de la ressource: "+w.message),p(!1);return}p(!1),t()}catch(x){console.error("Erreur:",x),alert("Une erreur est survenue lors de l'ajout de la ressource"),p(!1)}}return u.jsx(ci,{open:!0,title:"Ajouter une ressource",onClose:e,children:u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type de ressource"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"button",onClick:()=>n("url"),className:`flex-1 px-4 py-3 border-2 rounded-lg text-sm font-medium transition ${r==="url"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[u.jsx(J2,{className:"w-4 h-4 mx-auto mb-1"}),"Lien web"]}),u.jsxs("button",{type:"button",onClick:()=>n("document"),className:`flex-1 px-4 py-3 border-2 rounded-lg text-sm font-medium transition ${r==="document"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[u.jsx(Pn,{className:"w-4 h-4 mx-auto mb-1"}),"Document texte"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Titre *"}),u.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),required:!0,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Ex: Guide de procdure SAV"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Catgorie *"}),u.jsxs("select",{value:s,onChange:g=>o(g.target.value),required:!0,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"general",children:"Gnral"}),u.jsx("option",{value:"technique",children:"Technique"}),u.jsx("option",{value:"commercial",children:"Commercial"}),u.jsx("option",{value:"juridique",children:"Juridique"}),u.jsx("option",{value:"rh",children:"Ressources Humaines"}),u.jsx("option",{value:"support",children:"Support client"})]})]}),r==="url"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"URL source *"}),u.jsx("input",{type:"url",value:l,onChange:g=>c(g.target.value),required:!0,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"https://example.com/documentation"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contenu *"}),u.jsx("textarea",{value:d,onChange:g=>f(g.target.value),required:!0,rows:8,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Collez ici le contenu textuel du document ou de la page web..."}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"L'IA utilisera ce contenu pour contextualiser ses rponses"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition text-sm font-medium",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition text-sm font-medium disabled:opacity-50",children:h?"Ajout en cours...":"Ajouter"})]})]})})}function pre(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),[i,a]=m.useState(null),[s,o]=m.useState(null),[l,c]=m.useState(null),[d,f]=m.useState({name:"",email_address:"",provider_type:"imap",imap_host:"",imap_port:"993",smtp_host:"",smtp_port:"465",smtp_security:"SSL",username:"",encrypted_password:"",use_tls:!0,polling_interval_seconds:"60",signature:"",style_prompt:"",tone:"professional",ovh_consumer_key:"",ovh_domain:"",ovh_account:""});m.useEffect(()=>{h()},[]);async function h(){const{data:b}=await L.from("mailboxes").select("id, name, email_address, provider_type, imap_host, imap_port, smtp_host, smtp_port, smtp_security, username, use_tls, polling_interval_seconds, is_active, signature, style_prompt, tone, ovh_domain, ovh_account, created_at, updated_at").order("name");b&&t(b)}function p(){a(null),f({name:"",email_address:"",provider_type:"imap",imap_host:"ssl0.ovh.net",imap_port:"993",smtp_host:"ssl0.ovh.net",smtp_port:"465",smtp_security:"SSL",username:"",encrypted_password:"",use_tls:!0,polling_interval_seconds:"60",signature:"",style_prompt:"",tone:"professional",ovh_consumer_key:"",ovh_domain:"",ovh_account:""}),n(!0)}function v(b){a(b),f({name:b.name,email_address:b.email_address,provider_type:b.provider_type||"imap",imap_host:b.imap_host,imap_port:String(b.imap_port),smtp_host:b.smtp_host,smtp_port:String(b.smtp_port),smtp_security:b.smtp_security||"SSL",username:b.username,encrypted_password:"",use_tls:b.use_tls,polling_interval_seconds:String(b.polling_interval_seconds),signature:b.signature,style_prompt:b.style_prompt,tone:b.tone,ovh_consumer_key:b.ovh_consumer_key||"",ovh_domain:b.ovh_domain||"",ovh_account:b.ovh_account||""}),n(!0)}async function g(){try{const b="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/update-mailbox-credentials",_={mailboxId:i==null?void 0:i.id,name:d.name,email_address:d.email_address,provider_type:d.provider_type,signature:d.signature,style_prompt:d.style_prompt,tone:d.tone};d.provider_type==="ovh"?(_.ovh_domain=d.ovh_domain,_.ovh_account=d.ovh_account,d.ovh_consumer_key&&(_.ovh_consumer_key=d.ovh_consumer_key)):(_.imap_host=d.imap_host,_.imap_port=parseInt(d.imap_port),_.smtp_host=d.smtp_host,_.smtp_port=parseInt(d.smtp_port),_.smtp_security=d.smtp_security,_.username=d.username,_.use_tls=d.use_tls,_.polling_interval_seconds=parseInt(d.polling_interval_seconds),d.encrypted_password&&(_.password=d.encrypted_password));const{data:{session:j}}=await L.auth.getSession(),S=await fetch(b,{method:"POST",headers:{Authorization:`Bearer ${j==null?void 0:j.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(_)});if(!S.ok){const k=await S.json();throw new Error(k.error||"Failed to save mailbox")}n(!1),h()}catch(b){console.error("Error saving mailbox:",b),alert(`Erreur: ${b.message}`)}}async function y(b){await L.from("mailboxes").update({is_active:!b.is_active}).eq("id",b.id),h()}async function x(b){confirm(`Delete mailbox "${b.name}"? This will also remove all associated tickets.`)&&(await L.from("mailboxes").delete().eq("id",b.id),h())}async function w(b){var _;o(b.id),c(null);try{const k=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/sync-mailbox",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({mailbox_id:b.id})})).json();if((_=k.results)!=null&&_[0]){const E=k.results[0];E.status==="ok"?c({id:b.id,msg:`${E.synced} email${E.synced!==1?"s":""} synchronise(s)`,ok:!0}):E.status==="skipped"?c({id:b.id,msg:E.reason||"Ignore",ok:!1}):c({id:b.id,msg:E.error||"Erreur inconnue",ok:!1})}else k.error&&c({id:b.id,msg:k.error,ok:!1})}catch(j){c({id:b.id,msg:j.message||"Erreur reseau",ok:!1})}o(null)}return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Botes mail"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Grer les connexions aux botes mail OVH"})]}),u.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[u.jsx($a,{className:"w-4 h-4"}),"Ajouter une bote mail"]})]}),u.jsxs("div",{className:"space-y-3",children:[e.map(b=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center",children:u.jsx(Q2,{className:"w-5 h-5 text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:b.name}),u.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${b.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:b.is_active?"Actif":"Inactif"}),u.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${b.provider_type==="ovh"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:b.provider_type==="ovh"?"OVH API":"IMAP"})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:b.email_address}),b.provider_type==="ovh"?u.jsxs("p",{className:"text-xs text-slate-400",children:["OVH: ",b.ovh_account,"@",b.ovh_domain]}):u.jsxs("p",{className:"text-xs text-slate-400",children:["IMAP: ",b.imap_host,":",b.imap_port," | SMTP: ",b.smtp_host,":",b.smtp_port]}),(l==null?void 0:l.id)===b.id&&u.jsx("p",{className:`text-xs mt-1 ${l.ok?"text-emerald-600":"text-red-500"}`,children:l.msg})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>w(b),disabled:s!==null,className:"p-2 rounded-lg text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition disabled:opacity-50",title:"Synchroniser les emails",children:s===b.id?u.jsx($t,{className:"w-4 h-4 animate-spin text-cyan-500"}):u.jsx(Hs,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>y(b),className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition",children:b.is_active?u.jsx(l3,{className:"w-5 h-5 text-emerald-500"}):u.jsx(o3,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>v(b),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:u.jsx(Yl,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>x(b),className:"p-2 rounded-lg text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:u.jsx(Yi,{className:"w-4 h-4"})})]})]},b.id)),e.length===0&&u.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"Aucune bote mail configure pour le moment."})]}),u.jsx(ci,{open:r,onClose:()=>n(!1),title:i?"Modifier la bote mail":"Ajouter une bote mail",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Type de fournisseur"}),u.jsxs("select",{value:d.provider_type,onChange:b=>f({...d,provider_type:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"imap",children:"IMAP (Connexion directe)"}),u.jsx("option",{value:"ovh",children:"OVH API"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom d'affichage"}),u.jsx("input",{type:"text",value:d.name,onChange:b=>f({...d,name:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"Bote Support"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Adresse email"}),u.jsx("input",{type:"email",value:d.email_address,onChange:b=>f({...d,email_address:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:"support@entreprise.com"})]})]}),d.provider_type==="ovh"?u.jsxs("div",{className:"border border-blue-200 bg-blue-50/30 rounded-lg p-4",children:[u.jsx("h4",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wider mb-3",children:"Configuration OVH API"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Consumer Key"}),u.jsx("input",{type:"text",value:d.ovh_consumer_key,onChange:b=>f({...d,ovh_consumer_key:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"Cl consumer OVH"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Domaine"}),u.jsx("input",{type:"text",value:d.ovh_domain,onChange:b=>f({...d,ovh_domain:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"exemple.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Compte"}),u.jsx("input",{type:"text",value:d.ovh_account,onChange:b=>f({...d,ovh_account:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"contact"})]})]}),u.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Les identifiants OVH API sont configurs globalement. Seule la consumer key est requise par bote mail."})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[u.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider mb-3",children:"Paramtres IMAP"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hte"}),u.jsx("input",{type:"text",value:d.imap_host,onChange:b=>f({...d,imap_host:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"ssl0.ovh.net"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Port"}),u.jsx("input",{type:"number",value:d.imap_port,onChange:b=>f({...d,imap_port:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20"})]})]})]}),u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[u.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider mb-3",children:"Paramtres SMTP"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Hte"}),u.jsx("input",{type:"text",value:d.smtp_host,onChange:b=>f({...d,smtp_host:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"ssl0.ovh.net"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Port"}),u.jsx("input",{type:"number",value:d.smtp_port,onChange:b=>f({...d,smtp_port:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20"})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Mthode de chiffrement"}),u.jsxs("select",{value:d.smtp_security,onChange:b=>f({...d,smtp_security:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",children:[u.jsx("option",{value:"SSL",children:"SSL (Port 465)"}),u.jsx("option",{value:"TLS",children:"TLS"}),u.jsx("option",{value:"STARTTLS",children:"STARTTLS (Port 587)"}),u.jsx("option",{value:"None",children:"Aucun (Non recommand)"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom d'utilisateur"}),u.jsx("input",{type:"text",value:d.username,onChange:b=>f({...d,username:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Mot de passe"}),u.jsx("input",{type:"password",value:d.encrypted_password,onChange:b=>f({...d,encrypted_password:b.target.value}),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",placeholder:i?"(inchang)":"Entrez le mot de passe"})]})]})]}),u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[u.jsx("h4",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider mb-3",children:"Paramtres de style IA"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Ton"}),u.jsxs("select",{value:d.tone,onChange:b=>f({...d,tone:b.target.value}),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20",children:[u.jsx("option",{value:"professional",children:"Professionnel"}),u.jsx("option",{value:"friendly",children:"Amical"}),u.jsx("option",{value:"formal",children:"Formel"}),u.jsx("option",{value:"casual",children:"Dcontract"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Instructions de style"}),u.jsx("textarea",{value:d.style_prompt,onChange:b=>f({...d,style_prompt:b.target.value}),rows:3,className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:"Instructions personnalises pour les rponses gnres par IA..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Signature"}),u.jsx("textarea",{value:d.signature,onChange:b=>f({...d,signature:b.target.value}),rows:2,className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20",placeholder:`Cordialement,
quipe Support`})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"Annuler"}),u.jsx("button",{onClick:g,disabled:!d.name||!d.email_address||d.provider_type==="ovh"&&(!d.ovh_consumer_key||!d.ovh_domain||!d.ovh_account),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:i?"Enregistrer les modifications":"Ajouter la bote mail"})]})]})})]})}const vre={admin:"#EF4444",manager:"#F59E0B",agent:"#3B82F6",readonly:"#6B7280"};function gre(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,a]=m.useState(!1),[s,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(!1),[h,p]=m.useState(""),[v,g]=m.useState("agent"),[y,x]=m.useState("#0891B2"),[w,b]=m.useState([]),[_,j]=m.useState(!1);m.useEffect(()=>{S(),k()},[]);async function S(){const{data:M}=await L.from("profiles").select("*").order("created_at",{ascending:!1});M&&t(M)}async function k(){const{data:M}=await L.from("mailboxes").select("*").order("name");M&&n(M)}function E(){o(""),c(""),p(""),g("agent"),x("#0891B2"),f(!1),b([]),a(!0)}function O(M,F){b(q=>{const te=q.find(R=>R.mailboxId===M);return te?F==="canRead"&&te.canRead&&!te.canSend&&!te.canManage?q.filter(R=>R.mailboxId!==M):q.map(R=>R.mailboxId===M?{...R,[F]:!R[F]}:R):[...q,{mailboxId:M,canRead:!0,canSend:!1,canManage:!1}]})}async function C(){if(!s||!l||!h){alert("Veuillez remplir tous les champs obligatoires");return}if(l.length<8){alert("Le mot de passe doit contenir au moins 8 caractres");return}j(!0);try{const M="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/create-user",{data:{session:F}}=await L.auth.getSession();if(!F){alert("Session expire. Veuillez vous reconnecter.");return}const q=await fetch(M,{method:"POST",headers:{Authorization:`Bearer ${F.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:s,password:l,fullName:h,role:v,avatarColor:y,mailboxPermissions:w})}),te=await q.json();if(!q.ok){alert(te.error||"Erreur lors de la cration de l'utilisateur");return}alert("Utilisateur cr avec succs"),a(!1),S()}catch(M){alert("Erreur lors de la cration de l'utilisateur"),console.error(M)}finally{j(!1)}}async function I(M,F){await L.from("profiles").update({role:F,updated_at:new Date().toISOString()}).eq("id",M),S()}async function P(M){await L.from("profiles").update({is_active:!M.is_active,updated_at:new Date().toISOString()}).eq("id",M.id),S()}async function z(M){if(confirm(`tes-vous sr de vouloir supprimer l'utilisateur "${M.full_name||M.email}" ?

Cette action est irrversible et supprimera:
- Le profil utilisateur
- Le compte d'authentification
- Toutes les permissions associes`))try{const{error:F}=await L.from("profiles").delete().eq("id",M.id);if(F){console.error("Error deleting profile:",F),alert("Erreur lors de la suppression du profil");return}const{error:q}=await L.auth.admin.deleteUser(M.id);q&&console.error("Error deleting auth user:",q),alert("Utilisateur supprim avec succs"),S()}catch(F){console.error("Error deleting user:",F),alert("Erreur lors de la suppression de l'utilisateur")}}return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Gestion des utilisateurs"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Grer les rles et permissions de l'quipe"})]}),u.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[u.jsx($a,{className:"w-4 h-4"}),"Crer un utilisateur"]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Utilisateur"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Rle"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Statut"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Inscrit le"}),u.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(M=>u.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-medium text-slate-600",children:(M.full_name||M.email).charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:M.full_name||"Sans nom"}),u.jsx("p",{className:"text-xs text-slate-500",children:M.email})]})]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"relative inline-block",children:[u.jsxs("select",{value:M.role,onChange:F=>I(M.id,F.target.value),className:"appearance-none bg-transparent pr-6 text-sm font-medium cursor-pointer focus:outline-none",style:{color:vre[M.role]},children:[u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"manager",children:"Manager"}),u.jsx("option",{value:"agent",children:"Agent"}),u.jsx("option",{value:"readonly",children:"Lecture seule"})]}),u.jsx(Ms,{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400 pointer-events-none"})]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(lr,{label:M.is_active?"Actif":"Dsactiv",color:M.is_active?"#10B981":"#EF4444"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-500",children:yr(new Date(M.created_at),"MMM d, yyyy")}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-3",children:[u.jsx("button",{onClick:()=>P(M),className:"text-xs font-medium text-slate-500 hover:text-slate-700 transition",children:M.is_active?"Dsactiver":"Activer"}),u.jsxs("button",{onClick:()=>z(M),className:"flex items-center gap-1 text-xs font-medium text-red-500 hover:text-red-700 transition",title:"Supprimer l'utilisateur",children:[u.jsx(Yi,{className:"w-3.5 h-3.5"}),"Supprimer"]})]})})]},M.id))})]}),e.length===0&&u.jsx("div",{className:"px-4 py-8 text-center text-sm text-slate-500",children:"Aucun utilisateur trouv."})]}),u.jsx(ci,{open:i,onClose:()=>a(!1),title:"Crer un utilisateur",size:"lg",children:u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom complet *"}),u.jsx("input",{type:"text",value:h,onChange:M=>p(M.target.value),placeholder:"Jean Dupont",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Email *"}),u.jsx("input",{type:"email",value:s,onChange:M=>o(M.target.value),placeholder:"jean.dupont@exemple.com",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Mot de passe *"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:d?"text":"password",value:l,onChange:M=>c(M.target.value),placeholder:"Minimum 8 caractres",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),u.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-slate-600",children:d?u.jsx(V2,{className:"w-4 h-4"}):u.jsx(G2,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Au moins 8 caractres requis"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Rle *"}),u.jsxs("select",{value:v,onChange:M=>g(M.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",children:[u.jsx("option",{value:"agent",children:"Agent"}),u.jsx("option",{value:"manager",children:"Manager"}),u.jsx("option",{value:"readonly",children:"Lecture seule"}),u.jsx("option",{value:"admin",children:"Admin"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Couleur d'identification"}),u.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Cette couleur sera affiche pour les tickets assigns  cet utilisateur"}),u.jsx("div",{className:"flex items-center gap-2",children:["#0891B2","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#8B5CF6","#6B7280"].map(M=>u.jsx("button",{onClick:()=>x(M),className:`w-8 h-8 rounded-lg border-2 transition ${y===M?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:M},title:M},M))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Permissions des botes mail"}),u.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Dfinissez les botes mail auxquelles l'utilisateur aura accs"}),r.length===0?u.jsx("div",{className:"text-sm text-slate-500 text-center py-4 bg-slate-50 rounded-lg",children:"Aucune bote mail disponible"}):u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-slate-200 rounded-lg",children:r.map(M=>{const F=w.find(q=>q.mailboxId===M.id);return u.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 border-b border-slate-100 last:border-0",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:M.name}),u.jsx("p",{className:"text-xs text-slate-500",children:M.email_address})]}),u.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[u.jsxs("button",{onClick:()=>O(M.id,"canRead"),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${F!=null&&F.canRead?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:[u.jsx(Hi,{className:"w-3 h-3"}),"Lire"]}),u.jsxs("button",{onClick:()=>O(M.id,"canSend"),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${F!=null&&F.canSend?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,disabled:!(F!=null&&F.canRead),children:[u.jsx(Eu,{className:"w-3 h-3"}),"Envoyer"]}),u.jsxs("button",{onClick:()=>O(M.id,"canManage"),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${F!=null&&F.canManage?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,disabled:!(F!=null&&F.canRead),children:[u.jsx(jy,{className:"w-3 h-3"}),"Grer"]})]})]},M.id)})})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[u.jsx("button",{onClick:()=>a(!1),disabled:_,className:"px-4 py-2 text-sm text-slate-600 hover:text-slate-900 disabled:opacity-50",children:"Annuler"}),u.jsx("button",{onClick:C,disabled:_||!s||!l||!h,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Cration...":"Crer l'utilisateur"})]})]})})]})}function yre(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),[i,a]=m.useState(null),[s,o]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState("#0891B2"),[h,p]=m.useState([]),[v,g]=m.useState(""),[y,x]=m.useState(!1);m.useEffect(()=>{w()},[]);async function w(){const{data:P}=await L.from("categories").select("*").order("name");P&&t(P)}function b(){a(null),o(""),c(""),f("#0891B2"),p([]),g(""),n(!0)}function _(P){a(P),o(P.name),c(P.description),f(P.color),p(P.keywords||[]),g(""),n(!0)}async function j(){if(!s.trim())return;const P={name:s,description:l,color:d,keywords:h};i?await L.from("categories").update(P).eq("id",i.id):await L.from("categories").insert(P),n(!1),w()}function S(){const P=v.trim().toLowerCase();P&&!h.includes(P)&&(p([...h,P]),g(""))}function k(P){p(h.filter(z=>z!==P))}function E(P){P.key==="Enter"&&(P.preventDefault(),S())}async function O(P){if(!confirm(`Supprimer la catgorie "${P.name}" ?`))return;const{error:z}=await L.from("categories").delete().eq("id",P.id);z&&alert(`Erreur lors de la suppression : ${z.message}`),w()}async function C(){var P;if(confirm(`Classifier automatiquement tous les tickets non catgoriss ?

L'analyse va examiner le contenu de chaque email pour dterminer la meilleure catgorie en fonction des mots-cls dfinis.`)){x(!0);try{const{data:z}=await L.auth.getSession(),M=(P=z==null?void 0:z.session)==null?void 0:P.access_token;if(!M){alert("Session expire, veuillez vous reconnecter");return}const q=await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/bulk-classify-tickets",{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify({forceAll:!1})});if(!q.ok){const R=await q.json();alert(`Erreur : ${R.error||"Erreur inconnue"}`);return}const te=await q.json();alert(`Classification termine !

${te.message||"Classification effectue avec succs"}`)}catch(z){console.error("Erreur lors de la classification:",z);const M=z instanceof Error&&z.message?z.message:"Erreur de connexion. Vrifiez que la fonction edge est dploye.";alert(`Erreur lors de la classification : ${M}`)}finally{x(!1)}}}const I=["#0891B2","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#8B5CF6","#6B7280"];return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Catgories"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Organisez les tickets et modles par catgorie"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:C,disabled:y||e.length===0,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition",children:[u.jsx(Yn,{className:`w-4 h-4 ${y?"animate-spin":""}`}),y?"Classification en cours...":"Classifier tous les tickets"]}),u.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[u.jsx($a,{className:"w-4 h-4"}),"Ajouter une catgorie"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(P=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:P.color}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:P.name}),P.description&&u.jsx("p",{className:"text-xs text-slate-500 truncate",children:P.description})]}),u.jsx("button",{onClick:()=>_(P),className:"p-1.5 rounded text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:u.jsx(Yl,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>O(P),className:"p-1.5 rounded text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:u.jsx(Yi,{className:"w-3.5 h-3.5"})})]},P.id))}),e.length===0&&u.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"Aucune catgorie pour le moment."}),u.jsx(ci,{open:r,onClose:()=>n(!1),title:i?"Modifier la catgorie":"Nouvelle catgorie",size:"sm",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom"}),u.jsx("input",{type:"text",value:s,onChange:P=>o(P.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),u.jsx("input",{type:"text",value:l,onChange:P=>c(P.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Mots-cles pour l'IA"}),u.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Ces mots-cles aident l'IA a categoriser automatiquement les emails"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"text",value:v,onChange:P=>g(P.target.value),onKeyPress:E,placeholder:"visite, rendez-vous...",className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),u.jsx("button",{onClick:S,type:"button",className:"px-3 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 text-sm font-medium rounded-lg transition",children:"Ajouter"})]}),h.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(P=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-cyan-50 text-cyan-700 text-xs rounded-full",children:[P,u.jsx("button",{onClick:()=>k(P),type:"button",className:"hover:bg-cyan-100 rounded-full p-0.5",children:u.jsx(Qa,{className:"w-3 h-3"})})]},P))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Couleur"}),u.jsx("div",{className:"flex items-center gap-2",children:I.map(P=>u.jsx("button",{onClick:()=>f(P),className:`w-7 h-7 rounded-full border-2 transition ${d===P?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:P}},P))})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm text-slate-600",children:"Annuler"}),u.jsx("button",{onClick:j,disabled:!s.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:i?"Enregistrer":"Crer"})]})]})})]})}function xre(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,a]=m.useState(!1),[s,o]=m.useState(!1),[l,c]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(""),[v,g]=m.useState(""),[y,x]=m.useState("#64748B"),[w,b]=m.useState("circle"),[_,j]=m.useState(0),[S,k]=m.useState(!1),[E,O]=m.useState(""),[C,I]=m.useState(""),[P,z]=m.useState("#64748B"),[M,F]=m.useState(5),[q,te]=m.useState(!1);m.useEffect(()=>{R()},[]);async function R(){const[A,D]=await Promise.all([L.from("ticket_statuses").select("*").order("order"),L.from("ticket_priorities").select("*").order("level")]);A.data&&t(A.data),D.data&&n(D.data)}function W(){c(null),p(""),g(""),x("#64748B"),b("circle"),j(e.length+1),k(!1),a(!0)}function K(A){c(A),p(A.name),g(A.description),x(A.color),b(A.icon),j(A.order),k(A.is_default),a(!0)}function J(){f(null),O(""),I(""),z("#64748B"),F(5),te(!1),o(!0)}function se(A){f(A),O(A.name),I(A.description),z(A.color),F(A.level),te(A.is_default),o(!0)}async function le(){if(!h.trim())return;const A={name:h,description:v,color:y,icon:w,order:_,is_default:S};l?await L.from("ticket_statuses").update(A).eq("id",l.id):await L.from("ticket_statuses").insert(A),a(!1),R()}async function we(){if(!E.trim())return;const A={name:E,description:C,color:P,level:M,is_default:q};d?await L.from("ticket_priorities").update(A).eq("id",d.id):await L.from("ticket_priorities").insert(A),o(!1),R()}async function ue(A){confirm(`Supprimer le statut "${A.name}" ?`)&&(await L.from("ticket_statuses").delete().eq("id",A.id),R())}async function Ce(A){confirm(`Supprimer la priorit "${A.name}" ?`)&&(await L.from("ticket_priorities").delete().eq("id",A.id),R())}const _e=["#0891B2","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#8B5CF6","#64748B"];return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Statuts des tickets"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Grez les statuts disponibles pour les tickets"})]}),u.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[u.jsx($a,{className:"w-4 h-4"}),"Ajouter un statut"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map(A=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:A.color}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:A.name}),A.is_default&&u.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-cyan-100 text-cyan-700 rounded font-medium",children:"Par dfaut"})]}),A.description&&u.jsx("p",{className:"text-xs text-slate-500 truncate",children:A.description})]}),u.jsx("button",{onClick:()=>K(A),className:"p-1.5 rounded text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:u.jsx(Yl,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>ue(A),className:"p-1.5 rounded text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:u.jsx(Yi,{className:"w-3.5 h-3.5"})})]},A.id))})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Priorits des tickets"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Grez les niveaux de priorit disponibles"})]}),u.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:[u.jsx($a,{className:"w-4 h-4"}),"Ajouter une priorit"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(A=>u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:A.color}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:A.name}),A.is_default&&u.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-cyan-100 text-cyan-700 rounded font-medium",children:"Par dfaut"}),u.jsxs("span",{className:"text-xs text-slate-500",children:["Niveau ",A.level]})]}),A.description&&u.jsx("p",{className:"text-xs text-slate-500 truncate",children:A.description})]}),u.jsx("button",{onClick:()=>se(A),className:"p-1.5 rounded text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 transition",children:u.jsx(Yl,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>Ce(A),className:"p-1.5 rounded text-slate-400 hover:text-red-500 hover:bg-red-50 transition",children:u.jsx(Yi,{className:"w-3.5 h-3.5"})})]},A.id))})]}),u.jsx(ci,{open:i,onClose:()=>a(!1),title:l?"Modifier le statut":"Nouveau statut",size:"sm",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom"}),u.jsx("input",{type:"text",value:h,onChange:A=>p(A.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),u.jsx("input",{type:"text",value:v,onChange:A=>g(A.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Couleur"}),u.jsx("div",{className:"flex items-center gap-2",children:_e.map(A=>u.jsx("button",{onClick:()=>x(A),className:`w-7 h-7 rounded-full border-2 transition ${y===A?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:A}},A))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Ordre d'affichage"}),u.jsx("input",{type:"number",value:_,onChange:A=>j(parseInt(A.target.value)),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:S,onChange:A=>k(A.target.checked),className:"rounded border-slate-300 text-cyan-600 focus:ring-cyan-500/20"}),u.jsx("span",{className:"text-sm text-slate-700",children:"Statut par dfaut"})]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm text-slate-600",children:"Annuler"}),u.jsx("button",{onClick:le,disabled:!h.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:l?"Enregistrer":"Crer"})]})]})}),u.jsx(ci,{open:s,onClose:()=>o(!1),title:d?"Modifier la priorit":"Nouvelle priorit",size:"sm",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nom"}),u.jsx("input",{type:"text",value:E,onChange:A=>O(A.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Description"}),u.jsx("input",{type:"text",value:C,onChange:A=>I(A.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Couleur"}),u.jsx("div",{className:"flex items-center gap-2",children:_e.map(A=>u.jsx("button",{onClick:()=>z(A),className:`w-7 h-7 rounded-full border-2 transition ${P===A?"border-slate-900 scale-110":"border-transparent"}`,style:{backgroundColor:A}},A))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Niveau (1-10)"}),u.jsx("input",{type:"number",min:"1",max:"10",value:M,onChange:A=>F(parseInt(A.target.value)),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:q,onChange:A=>te(A.target.checked),className:"rounded border-slate-300 text-cyan-600 focus:ring-cyan-500/20"}),u.jsx("span",{className:"text-sm text-slate-700",children:"Priorit par dfaut"})]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm text-slate-600",children:"Annuler"}),u.jsx("button",{onClick:we,disabled:!E.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:d?"Enregistrer":"Crer"})]})]})})]})}function bre(){const[e,t]=m.useState([]),[r,n]=m.useState(0),i=20;m.useEffect(()=>{a()},[r]);async function a(){const{data:s}=await L.from("audit_log").select("*, user:profiles(full_name, email)").order("created_at",{ascending:!1}).range(r*i,(r+1)*i-1);s&&t(s)}return u.jsxs("div",{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Journal d'audit"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Suivre toutes les actions critiques du systme"})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 bg-slate-50",children:[u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Heure"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Utilisateur"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Action"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Ressource"}),u.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Dtails"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(s=>{const o=s.user;return u.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[u.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 whitespace-nowrap",children:yr(new Date(s.created_at),"MMM d, HH:mm:ss")}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:(o==null?void 0:o.full_name)||(o==null?void 0:o.email)||"Systme"}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-slate-100 text-slate-700 rounded",children:s.action})}),u.jsxs("td",{className:"px-4 py-3 text-sm text-slate-500",children:[s.resource_type,s.resource_id&&u.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["#",s.resource_id.slice(0,8)]})]}),u.jsx("td",{className:"px-4 py-3 text-xs text-slate-400 max-w-xs truncate",children:JSON.stringify(s.details)})]},s.id)})})]}),e.length===0&&u.jsxs("div",{className:"px-4 py-8 text-center",children:[u.jsx(Xl,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Aucune entre dans le journal d'audit pour le moment."})]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[u.jsx("button",{onClick:()=>n(Math.max(0,r-1)),disabled:r===0,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 disabled:opacity-30",children:u.jsx(xy,{className:"w-4 h-4"})}),u.jsxs("span",{className:"text-sm text-slate-500",children:["Page ",r+1]}),u.jsx("button",{onClick:()=>n(r+1),disabled:e.length<i,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 disabled:opacity-30",children:u.jsx(by,{className:"w-4 h-4"})})]})]})}function wre(){const[e,t]=m.useState(600),[r,n]=m.useState(!1);m.useEffect(()=>{i()},[]);async function i(){const{data:s}=await L.from("system_settings").select("value").eq("key","mailbox_sync_interval_seconds").maybeSingle();s!=null&&s.value&&t(parseInt(s.value))}async function a(){n(!0);try{const{data:s}=await L.from("profiles").select("id").maybeSingle();await L.from("system_settings").update({value:e.toString(),updated_at:new Date().toISOString(),updated_by:s==null?void 0:s.id}).eq("key","mailbox_sync_interval_seconds"),alert("Paramtres enregistrs avec succs. Rechargez la page pour appliquer les changements.")}catch{alert("Erreur lors de l'enregistrement des paramtres")}finally{n(!1)}}return u.jsxs("div",{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Paramtres systme"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Configuration gnrale de l'application"})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Synchronisation des botes mail"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Intervalle de synchronisation automatique"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"number",min:"60",max:"3600",step:"60",value:e,onChange:s=>t(parseInt(s.target.value)),className:"w-32 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500"}),u.jsx("span",{className:"text-sm text-slate-600",children:"secondes"}),u.jsxs("span",{className:"text-sm text-slate-500",children:["(",Math.round(e/60)," minute",e!==60?"s":"",")"]})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Frquence  laquelle le systme vrifie les nouvelles emails dans toutes les botes mail actives"})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-blue-800",children:[u.jsx("strong",{children:"Note :"})," Aprs modification, rechargez la page pour appliquer le nouvel intervalle. Les intervalles recommands sont entre 5 et 30 minutes (300-1800 secondes)."]})})]})]}),u.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:u.jsxs("button",{onClick:a,disabled:r||e<60,className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(a3,{className:"w-4 h-4"}),r?"Enregistrement...":"Enregistrer"]})})]})]})}function _re(){const[e,t]=m.useState([]),[r,n]=m.useState({}),[i,a]=m.useState(null),[s,o]=m.useState({}),[l,c]=m.useState(!1),[d,f]=m.useState(null);m.useEffect(()=>{h()},[]);async function h(){const{data:g}=await L.from("mailboxes").select("*").order("name");if(g){t(g);for(const y of g){const{count:x}=await L.from("emails").select("*",{count:"exact",head:!0}).eq("mailbox_id",y.id);n(w=>({...w,[y.id]:x||0}))}}}async function p(g){a(g.id);try{const w=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/sync-mailbox",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"},body:JSON.stringify({mailbox_id:g.id})})).json();if(console.log("Test result for",g.name,":",w),w.results&&w.results.length>0){const b=w.results[0];o(_=>({..._,[g.id]:{status:b.status,message:b.error||`${b.synced||0} email(s) synchronis(s)`,details:b}}))}else w.error&&o(b=>({...b,[g.id]:{status:"error",message:w.error}}))}catch(y){console.error("Test error:",y),o(x=>({...x,[g.id]:{status:"error",message:y.message||"Erreur de connexion"}}))}a(null)}async function v(){c(!0),f(null);try{const x=await(await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/clean-emails",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"}})).json();f(x),await h()}catch(g){console.error("Clean error:",g),f({success:!1,total:0,cleaned:0,skipped:0})}c(!1)}return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Diagnostic des botes mail"}),u.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Testez la connexion et la synchronisation de chaque bote mail"})]}),u.jsx("button",{onClick:v,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:l?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-4 h-4 animate-spin"}),"Nettoyage..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Yn,{className:"w-4 h-4"}),"Nettoyer les emails HTML"]})})]}),d&&u.jsx("div",{className:`p-4 rounded-lg border ${d.success?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"}`,children:u.jsxs("div",{className:"flex items-start gap-2",children:[d.success?u.jsx(ag,{className:"w-5 h-5 text-emerald-600 shrink-0 mt-0.5"}):u.jsx(ig,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:`text-sm font-medium ${d.success?"text-emerald-900":"text-red-900"}`,children:d.success?"Nettoyage termin":"Erreur lors du nettoyage"}),u.jsxs("p",{className:`text-xs mt-1 ${d.success?"text-emerald-700":"text-red-700"}`,children:[d.cleaned," email(s) nettoy(s) sur ",d.total," analys(s)"]})]})]})}),u.jsx("div",{className:"space-y-4",children:e.map(g=>{const y=s[g.id],x=i===g.id;return u.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:g.name}),!g.is_active&&u.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded-full",children:"Inactive"})]}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:g.email_address}),u.jsxs("div",{className:"mt-2 text-xs text-slate-600 space-y-0.5",children:[u.jsxs("p",{className:"text-cyan-700 font-medium",children:[" ",r[g.id]||0," email(s) dans la base de donnes"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Type:"})," ",g.provider_type.toUpperCase()]}),g.provider_type==="imap"&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"IMAP:"})," ",g.imap_host,":",g.imap_port]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"SMTP:"})," ",g.smtp_host,":",g.smtp_port]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Utilisateur:"})," ",g.username]})]}),g.provider_type==="ovh"&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Domaine OVH:"})," ",g.ovh_domain||"Non configur"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Compte OVH:"})," ",g.ovh_account||"Non configur"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Consumer Key:"})," ",g.ovh_consumer_key?"Configure":"Non configure"]})]})]})]}),u.jsx("button",{onClick:()=>p(g),disabled:x||!g.is_active,className:"flex items-center gap-2 px-3 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:x?u.jsxs(u.Fragment,{children:[u.jsx($t,{className:"w-4 h-4 animate-spin"}),"Test..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Hs,{className:"w-4 h-4"}),"Tester"]})})]}),y&&u.jsx("div",{className:`p-3 rounded-lg border ${y.status==="ok"?"bg-emerald-50 border-emerald-200":y.status==="error"?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"}`,children:u.jsxs("div",{className:"flex items-start gap-2",children:[y.status==="ok"?u.jsx(ag,{className:"w-4 h-4 text-emerald-600 shrink-0 mt-0.5"}):u.jsx(ig,{className:"w-4 h-4 text-red-600 shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium ${y.status==="ok"?"text-emerald-900":"text-red-900"}`,children:y.status==="ok"?"Synchronisation russie":y.status==="skipped"?"Synchronisation ignore":"Erreur de synchronisation"}),u.jsx("p",{className:`text-xs mt-1 ${y.status==="ok"?"text-emerald-700":"text-red-700"}`,children:y.message}),y.details&&u.jsxs("details",{className:"mt-2",children:[u.jsx("summary",{className:"text-xs text-slate-600 cursor-pointer hover:text-slate-900",children:"Dtails techniques"}),u.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[y.details.status==="ok"&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-slate-700",children:[u.jsx("span",{className:"font-medium",children:"Emails synchroniss:"})," ",y.details.synced||0]}),u.jsxs("p",{className:"text-slate-700",children:[u.jsx("span",{className:"font-medium",children:"Total sur le serveur:"})," ",y.details.total||0]}),y.details.synced===0&&y.details.total>0&&u.jsxs("p",{className:"text-amber-700 mt-2 font-medium",children:[" Il y a ",y.details.total," emails sur le serveur mais aucun nouveau n'a t synchronis. Tous les emails rcents (30 derniers jours) sont dj dans la base de donnes."]})]}),y.details.reason&&u.jsxs("p",{className:"text-amber-700",children:[u.jsx("span",{className:"font-medium",children:"Raison:"})," ",y.details.reason]}),u.jsxs("details",{className:"mt-2",children:[u.jsx("summary",{className:"text-xs text-slate-500 cursor-pointer hover:text-slate-700",children:"JSON complet"}),u.jsx("pre",{className:"text-xs bg-slate-900 text-slate-100 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(y.details,null,2)})]})]})]})]})]})})]},g.id)})}),e.length===0&&u.jsx("div",{className:"text-center py-12 text-slate-500",children:u.jsx("p",{children:"Aucune bote mail configure"})})]})}function jre({isOpen:e,onClose:t,onSuccess:r}){const[n,i]=m.useState("init"),[a,s]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState(""),[f,h]=m.useState([]),[p,v]=m.useState(!1),[g,y]=m.useState(""),[x,w]=m.useState(!1);async function b(){v(!0),y("");try{const{data:k,error:E}=await L.auth.mfa.enroll({factorType:"totp",friendlyName:"EmailOps App"});if(E)throw E;k&&(s(k.totp.qr_code),l(k.totp.secret),i("verify"))}catch(k){y(k.message||"Failed to setup 2FA")}finally{v(!1)}}async function _(){var k,E;if(!c||c.length!==6){y("Please enter a valid 6-digit code");return}v(!0),y("");try{const O=await L.auth.mfa.listFactors();if(O.error)throw O.error;const C=(E=(k=O.data)==null?void 0:k.totp)==null?void 0:E[0];if(!C)throw new Error("TOTP factor not found");const{error:I}=await L.auth.mfa.challengeAndVerify({factorId:C.id,code:c});if(I)throw I;const P=Array.from({length:10},()=>Math.random().toString(36).substring(2,10).toUpperCase());h(P),r()}catch(O){y(O.message||"Invalid verification code")}finally{v(!1)}}function j(){navigator.clipboard.writeText(o),w(!0),setTimeout(()=>w(!1),2e3)}function S(){navigator.clipboard.writeText(f.join(`
`)),w(!0),setTimeout(()=>w(!1),2e3)}return u.jsx(ci,{open:e,onClose:t,title:"Activer l'authentification  deux facteurs",size:"md",children:u.jsxs("div",{className:"space-y-4",children:[n==="init"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Xl,{className:"w-5 h-5 text-blue-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Protgez votre compte"}),u.jsx("p",{className:"text-xs text-blue-700",children:"L'authentification  deux facteurs ajoute une couche de scurit supplmentaire  votre compte. Vous aurez besoin d'une application d'authentification comme Google Authenticator, Authy ou 1Password."})]})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"text-sm font-medium text-slate-700",children:"tapes:"}),u.jsxs("ol",{className:"text-xs text-slate-600 space-y-1 ml-4 list-decimal",children:[u.jsx("li",{children:"Installez une application d'authentification sur votre tlphone"}),u.jsx("li",{children:"Scannez le QR code qui sera affich"}),u.jsx("li",{children:"Entrez le code  6 chiffres pour vrifier"}),u.jsx("li",{children:"Sauvegardez vos codes de rcupration"})]})]}),g&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-xs text-red-700",children:g})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"Annuler"}),u.jsx("button",{onClick:b,disabled:p,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:p?"Configuration...":"Commencer"})]})]}),n==="verify"&&!f.length&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-white border-2 border-slate-200 rounded-lg p-4 flex justify-center",children:a&&u.jsx("img",{src:a,alt:"QR Code",className:"w-48 h-48"})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Ou entrez ce code manuellement:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("code",{className:"flex-1 px-3 py-2 bg-slate-100 border border-slate-200 rounded-lg text-sm font-mono",children:o}),u.jsx("button",{onClick:j,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:x?u.jsx(Gl,{className:"w-4 h-4 text-green-600"}):u.jsx(T1,{className:"w-4 h-4 text-slate-500"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Code de vrification (6 chiffres):"}),u.jsx("input",{type:"text",value:c,onChange:k=>d(k.target.value.replace(/\D/g,"").substring(0,6)),placeholder:"000000",className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-center text-lg font-mono tracking-widest focus:outline-none focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500",maxLength:6})]}),g&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-xs text-red-700",children:g})})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"Annuler"}),u.jsx("button",{onClick:_,disabled:p||c.length!==6,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition disabled:opacity-50",children:p?"Vrification...":"Vrifier"})]})]}),f.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(X2,{className:"w-5 h-5 text-amber-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Codes de rcupration"}),u.jsx("p",{className:"text-xs text-amber-700 mb-3",children:"Sauvegardez ces codes dans un endroit sr. Chaque code ne peut tre utilis qu'une seule fois."}),u.jsx("div",{className:"bg-white border border-amber-200 rounded p-3 font-mono text-xs",children:u.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map((k,E)=>u.jsxs("div",{className:"text-slate-700",children:[E+1,". ",k]},E))})}),u.jsx("button",{onClick:S,className:"mt-2 text-xs text-amber-700 hover:text-amber-800 font-medium flex items-center gap-1",children:x?u.jsxs(u.Fragment,{children:[u.jsx(Gl,{className:"w-3 h-3"}),"Copi !"]}):u.jsxs(u.Fragment,{children:[u.jsx(T1,{className:"w-3 h-3"}),"Copier les codes"]})})]})]})}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsx("p",{className:"text-xs text-green-700 text-center",children:" Authentification  deux facteurs active avec succs !"})}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:"Terminer"})})]})]})})}function Sre(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[i,a]=m.useState([]),[s,o]=m.useState([]),[l,c]=m.useState(!0);m.useEffect(()=>{d()},[]);async function d(){var v,g;c(!0);try{const y=await L.auth.mfa.listFactors();t(((g=(v=y.data)==null?void 0:v.totp)==null?void 0:g.some(b=>b.status==="verified"))||!1);const{data:x}=await L.from("security_events").select("*").order("created_at",{ascending:!1}).limit(20);x&&a(x);const{data:w}=await L.from("rate_limit_tracker").select("*").order("updated_at",{ascending:!1}).limit(10);w&&o(w)}catch(y){console.error("Error loading security data:",y)}finally{c(!1)}}async function f(){var v,g;if(confirm("tes-vous sr de vouloir dsactiver l'authentification  deux facteurs ?"))try{const x=(g=(v=(await L.auth.mfa.listFactors()).data)==null?void 0:v.totp)==null?void 0:g[0];x&&(await L.auth.mfa.unenroll({factorId:x.id}),t(!1))}catch(y){alert(`Erreur: ${y.message}`)}}function h(v){return v>=70?"text-red-600 bg-red-100":v>=40?"text-amber-600 bg-amber-100":"text-green-600 bg-green-100"}function p(v){return{login_success:"Connexion russie",login_failed:"chec de connexion",logout:"Dconnexion",password_changed:"Mot de passe modifi",email_changed:"Email modifi",mfa_enabled:"2FA activ",mfa_disabled:"2FA dsactiv",role_changed:"Rle modifi",credential_accessed:"Accs aux credentials",credential_decrypted:"Dchiffrement credentials",data_exported:"Export de donnes",mailbox_deleted:"Bote mail supprime",user_deleted:"Utilisateur supprim"}[v]||v}return l?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"text-slate-500",children:"Chargement..."})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Scurit du compte"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Grez les paramtres de scurit avancs"})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:u.jsxs("h4",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[u.jsx(Xl,{className:"w-4 h-4"}),"Authentification  deux facteurs (2FA)"]})}),u.jsx("div",{className:"p-6",children:e?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:u.jsx(_y,{className:"w-5 h-5 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:"2FA activ"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Votre compte est protg par l'authentification  deux facteurs"})]})]}),u.jsx("button",{onClick:f,className:"px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 text-sm font-medium rounded-lg transition",children:"Dsactiver"})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:u.jsx(d3,{className:"w-5 h-5 text-amber-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:"2FA dsactiv"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Ajoutez une couche de scurit supplmentaire  votre compte"})]})]}),u.jsx("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-medium rounded-lg transition",children:"Activer"})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:u.jsxs("h4",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[u.jsx(H2,{className:"w-4 h-4"}),"vnements de scurit rcents"]})}),u.jsx("div",{className:"divide-y divide-slate-100",children:i.length===0?u.jsx("div",{className:"px-6 py-8 text-center text-sm text-slate-500",children:"Aucun vnement de scurit"}):i.map(v=>u.jsx("div",{className:"px-6 py-3 hover:bg-slate-50 transition",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:p(v.action)}),v.risk_score>0&&u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${h(v.risk_score)}`,children:["Risque: ",v.risk_score]})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.user_email&&u.jsx("p",{className:"text-xs text-slate-500",children:v.user_email}),v.ip_address&&u.jsxs("p",{className:"text-xs text-slate-400",children:["IP: ",v.ip_address]}),u.jsx("p",{className:"text-xs text-slate-400",children:new Date(v.created_at).toLocaleString("fr-FR")})]})]}),v.risk_score>=70&&u.jsx(yy,{className:"w-4 h-4 text-red-500"})]})},v.id))})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:u.jsxs("h4",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[u.jsx(X2,{className:"w-4 h-4"}),"Rate Limiting"]})}),u.jsx("div",{className:"divide-y divide-slate-100",children:s.length===0?u.jsx("div",{className:"px-6 py-8 text-center text-sm text-slate-500",children:"Aucune limite de taux active"}):s.map(v=>u.jsx("div",{className:"px-6 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:v.action}),u.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["Identifiant: ",v.identifier]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[v.attempt_count," tentatives"]}),v.blocked_until&&new Date(v.blocked_until)>new Date&&u.jsxs("p",{className:"text-xs text-red-600 mt-0.5",children:["Bloqu jusqu' ",new Date(v.blocked_until).toLocaleTimeString("fr-FR")]}),v.violation_count>0&&u.jsxs("p",{className:"text-xs text-amber-600 mt-0.5",children:[v.violation_count," violations"]})]})]})},v.id))})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsxs("h4",{className:"text-sm font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[u.jsx(Xl,{className:"w-4 h-4"}),"Bonnes pratiques de scurit"]}),u.jsxs("ul",{className:"text-xs text-blue-700 space-y-1.5 ml-4 list-disc",children:[u.jsx("li",{children:"Activez l'authentification  deux facteurs pour tous les comptes administrateurs"}),u.jsx("li",{children:"Utilisez des mots de passe forts et uniques (minimum 12 caractres)"}),u.jsx("li",{children:"Ne partagez jamais vos identifiants de connexion"}),u.jsx("li",{children:"Vrifiez rgulirement les vnements de scurit suspects"}),u.jsx("li",{children:"Maintenez vos applications d'authentification  jour"})]})]}),u.jsx(jre,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),d()}})]})}const kre=[{id:"mailboxes",label:"Botes mail",icon:Q2},{id:"diagnostics",label:"Diagnostics",icon:H2},{id:"users",label:"Utilisateurs",icon:rO},{id:"categories",label:"Catgories",icon:Y2},{id:"status-priority",label:"Statuts & Priorits",icon:tO},{id:"security",label:"Scurit",icon:_y,adminOnly:!0},{id:"settings",label:"Paramtres",icon:jy,adminOnly:!0},{id:"audit",label:"Journal d'audit",icon:Xl,adminOnly:!0}];function Ere(){const{isAdmin:e}=_o(),[t,r]=m.useState("mailboxes"),n=kre.filter(i=>!i.adminOnly||e);return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(La,{title:"Administration",subtitle:"Configuration et gestion du systme"}),u.jsx("div",{className:"px-6 pt-4",children:u.jsx("div",{className:"flex gap-1 border-b border-slate-200 mb-6",children:n.map(i=>u.jsxs("button",{onClick:()=>r(i.id),className:`flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 -mb-px transition ${t===i.id?"border-cyan-500 text-cyan-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[u.jsx(i.icon,{className:"w-4 h-4"}),i.label]},i.id))})}),u.jsxs("div",{className:"px-6 pb-6",children:[t==="mailboxes"&&u.jsx(pre,{}),t==="diagnostics"&&u.jsx(_re,{}),t==="users"&&u.jsx(gre,{}),t==="categories"&&u.jsx(yre,{}),t==="status-priority"&&u.jsx(xre,{}),t==="security"&&e&&u.jsx(Sre,{}),t==="settings"&&e&&u.jsx(wre,{}),t==="audit"&&e&&u.jsx(bre,{})]})]})}function Pre(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[i,a]=m.useState(0),[s,o]=m.useState(0),[l,c]=m.useState("7d"),d=m.useCallback(async()=>{const{count:p}=await L.from("tickets").select("*",{count:"exact",head:!0});a(p??0);const v=[];for(const y of hu){const{count:x}=await L.from("tickets").select("*",{count:"exact",head:!0}).eq("status",y.value);v.push({status:y.label,count:x??0})}t(v);const g=[];for(const y of mu){const{count:x}=await L.from("tickets").select("*",{count:"exact",head:!0}).eq("priority",y.value);g.push({priority:y.label,count:x??0})}n(g),o(2.4)},[]);m.useEffect(()=>{d()},[d]);function f(){const p=["Status","Count"],v=e.map(b=>`${b.status},${b.count}`),g=[p.join(","),...v].join(`
`),y=new Blob([g],{type:"text/csv"}),x=URL.createObjectURL(y),w=document.createElement("a");w.href=x,w.download=`emailops-report-${new Date().toISOString().slice(0,10)}.csv`,w.click(),URL.revokeObjectURL(x)}const h=hu.map(p=>p.color);return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(La,{title:"Rapports",subtitle:"Analyses et mtriques de performance"}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Wd,{className:"w-4 h-4 text-slate-400"}),u.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-500/20",children:[u.jsx("option",{value:"7d",children:"7 derniers jours"}),u.jsx("option",{value:"30d",children:"30 derniers jours"}),u.jsx("option",{value:"90d",children:"90 derniers jours"}),u.jsx("option",{value:"all",children:"Tout le temps"})]})]}),u.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition",children:[u.jsx(xh,{className:"w-4 h-4"}),"Exporter CSV"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Total des tickets"}),u.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:i})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Temps de rponse moyen"}),u.jsxs("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:[s,"h"]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Conformit SLA"}),u.jsx("p",{className:"text-3xl font-bold text-emerald-600 mt-1",children:"94%"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Tickets par statut"}),u.jsx("div",{className:"h-72",children:u.jsx(cd,{width:"100%",height:"100%",children:u.jsxs(Ok,{data:e,children:[u.jsx(Bf,{strokeDasharray:"3 3",stroke:"#E2E8F0",vertical:!1}),u.jsx(qf,{dataKey:"status",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"}}),u.jsx(Kf,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"}}),u.jsx(fd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}}),u.jsx(e0,{dataKey:"count",fill:"#0891B2",radius:[6,6,0,0]})]})})})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Rpartition par statut"}),u.jsx("div",{className:"h-72",children:u.jsx(cd,{width:"100%",height:"100%",children:u.jsxs(Lee,{children:[u.jsx(uI,{data:e.filter(p=>p.count>0),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"count",nameKey:"status",children:e.map((p,v)=>u.jsx(ho,{fill:h[v%h.length]},`cell-${v}`))}),u.jsx(pC,{verticalAlign:"bottom",height:36,iconType:"circle",iconSize:8,formatter:p=>u.jsx("span",{className:"text-xs text-slate-600",children:p})}),u.jsx(fd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}})]})})})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Tickets par priorit"}),u.jsx("div",{className:"h-64",children:u.jsx(cd,{width:"100%",height:"100%",children:u.jsxs(Ok,{data:r,layout:"vertical",children:[u.jsx(Bf,{strokeDasharray:"3 3",stroke:"#E2E8F0",horizontal:!1}),u.jsx(qf,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"}}),u.jsx(Kf,{type:"category",dataKey:"priority",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94A3B8"},width:70}),u.jsx(fd,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",fontSize:"12px",color:"#F1F5F9"}}),u.jsx(e0,{dataKey:"count",radius:[0,6,6,0],children:r.map((p,v)=>{var g;return u.jsx(ho,{fill:((g=mu[v])==null?void 0:g.color)??"#6B7280"},`cell-${v}`)})})]})})})]})]})]})}function Ore(){const e=m.useRef(null);m.useEffect(()=>{async function t(){const{data:r}=await L.from("system_settings").select("value").eq("key","mailbox_sync_interval_seconds").maybeSingle(),i=(r!=null&&r.value?parseInt(r.value):600)*1e3;async function a(){try{const{data:s}=await L.from("mailboxes").select("id, email_address, is_active").eq("is_active",!0);if(!s||s.length===0)return;const o="https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/create-sync-job",l={Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tZmdvaWt2cXdiaGxsdGhscmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NjU0ODIsImV4cCI6MjA4NjE0MTQ4Mn0.7HYKM2aS-bcAp_9sQfn6j0COX5GEYCs-w1HeFwXG0ss","Content-Type":"application/json"};await fetch(o,{method:"POST",headers:l,body:JSON.stringify({batch_size:30})}),setTimeout(async()=>{try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/job-worker",{method:"POST",headers:l}),setTimeout(async()=>{try{await fetch("https://nmfgoikvqwbhllthlrbu.supabase.co/functions/v1/process-draft-queue",{method:"POST",headers:l})}catch(d){console.error("Erreur lors de la gnration automatique des brouillons:",d)}},3e3)}catch(c){console.error("Erreur lors du dclenchement du worker:",c)}},2e3)}catch(s){console.error("Erreur lors de la synchronisation des botes mail:",s)}}a(),e.current&&clearInterval(e.current),e.current=setInterval(a,i)}return t(),()=>{e.current&&clearInterval(e.current)}},[])}function Nre({children:e}){const{authenticated:t,loading:r}=_o();return r?u.jsx(Ju,{message:"Chargement..."}):t?u.jsx(u.Fragment,{children:e}):u.jsx(cy,{to:"/login",replace:!0})}function Cre({children:e}){const{authenticated:t,loading:r}=_o();return r?u.jsx(Ju,{message:"Chargement..."}):t?u.jsx(cy,{to:"/",replace:!0}):u.jsx(u.Fragment,{children:e})}function Are(){return Ore(),u.jsxs(RR,{children:[u.jsx(qr,{path:"/login",element:u.jsx(Cre,{children:u.jsx(g3,{})})}),u.jsxs(qr,{element:u.jsx(Nre,{children:u.jsx(v3,{})}),children:[u.jsx(qr,{index:!0,element:u.jsx(Wee,{})}),u.jsx(qr,{path:"inbox",element:u.jsx(Xee,{})}),u.jsx(qr,{path:"inbox/:id",element:u.jsx(ore,{})}),u.jsx(qr,{path:"templates",element:u.jsx(fre,{})}),u.jsx(qr,{path:"knowledge",element:u.jsx(hre,{})}),u.jsx(qr,{path:"reports",element:u.jsx(Pre,{})}),u.jsx(qr,{path:"admin",element:u.jsx(Ere,{})})]}),u.jsx(qr,{path:"*",element:u.jsx(cy,{to:"/",replace:!0})})]})}function Tre(){return u.jsx(o$,{children:u.jsx(IL,{children:u.jsx(Are,{})})})}ZP(document.getElementById("root")).render(u.jsx(m.StrictMode,{children:u.jsx(Tre,{})}));
